{"configurations":[{"cluster-env":{"properties_attributes":{},"properties":{"agent_mounts_ignore_list":"","alerts_repeat_tolerance":"1","enable_external_ranger":"false","fetch_nonlocal_groups":"true","hide_yarn_memory_widget":"false","ignore_bad_mounts":"false","ignore_groupsusers_create":"false","kerberos_domain":"EXAMPLE.COM","manage_dirs_on_root":"true","managed_hdfs_resource_property_names":"","namenode_rolling_restart_safemode_exit_timeout":"3600","namenode_rolling_restart_timeout":"4200","one_dir_per_partition":"false","override_uid":"true","recovery_enabled":"true","recovery_lifetime_max_count":"1024","recovery_max_count":"6","recovery_retry_interval":"5","recovery_type":"AUTO_START","recovery_window_in_minutes":"60","repo_suse_rhel_template":"[{{repo_id}}]\nname={{repo_id}}\n{% if mirror_list %}mirrorlist={{mirror_list}}{% else %}baseurl={{base_url}}{% endif %}\n\npath=/\nenabled=1\ngpgcheck=0","repo_ubuntu_template":"{{package_type}} {{base_url}} {{components}}","security_enabled":"false","smokeuser":"ambari-qa","smokeuser_keytab":"/etc/security/keytabs/smokeuser.headless.keytab","stack_features":"{\n  \"HDP\": {\n    \"stack_features\": [\n      {\n        \"name\": \"snappy\",\n        \"description\": \"Snappy compressor/decompressor support\",\n        \"min_version\": \"2.0.0.0\",\n        \"max_version\": \"2.2.0.0\"\n      },\n      {\n        \"name\": \"lzo\",\n        \"description\": \"LZO libraries support\",\n        \"min_version\": \"2.2.1.0\"\n      },\n      {\n        \"name\": \"express_upgrade\",\n        \"description\": \"Express upgrade support\",\n        \"min_version\": \"2.1.0.0\"\n      },\n      {\n        \"name\": \"rolling_upgrade\",\n        \"description\": \"Rolling upgrade support\",\n        \"min_version\": \"2.2.0.0\"\n      },\n      {\n        \"name\": \"kafka_acl_migration_support\",\n        \"description\": \"ACL migration support\",\n        \"min_version\": \"2.3.4.0\"\n      },\n      {\n        \"name\": \"secure_zookeeper\",\n        \"description\": \"Protect ZNodes with SASL acl in secure clusters\",\n        \"min_version\": \"2.6.0.0\"\n      },\n      {\n        \"name\": \"config_versioning\",\n        \"description\": \"Configurable versions support\",\n        \"min_version\": \"2.3.0.0\"\n      },\n      {\n        \"name\": \"datanode_non_root\",\n        \"description\": \"DataNode running as non-root support (AMBARI-7615)\",\n        \"min_version\": \"2.2.0.0\"\n      },\n      {\n        \"name\": \"remove_ranger_hdfs_plugin_env\",\n        \"description\": \"HDFS removes Ranger env files (AMBARI-14299)\",\n        \"min_version\": \"2.3.0.0\"\n      },\n      {\n        \"name\": \"ranger\",\n        \"description\": \"Ranger Service support\",\n        \"min_version\": \"2.2.0.0\"\n      },\n      {\n        \"name\": \"ranger_tagsync_component\",\n        \"description\": \"Ranger Tagsync component support (AMBARI-14383)\",\n        \"min_version\": \"2.5.0.0\"\n      },\n      {\n        \"name\": \"phoenix\",\n        \"description\": \"Phoenix Service support\",\n        \"min_version\": \"2.3.0.0\"\n      },\n      {\n        \"name\": \"nfs\",\n        \"description\": \"NFS support\",\n        \"min_version\": \"2.3.0.0\"\n      },\n      {\n        \"name\": \"tez_for_spark\",\n        \"description\": \"Tez dependency for Spark\",\n        \"min_version\": \"2.2.0.0\",\n        \"max_version\": \"2.3.0.0\"\n      },\n      {\n        \"name\": \"timeline_state_store\",\n        \"description\": \"Yarn application timeline-service supports state store property (AMBARI-11442)\",\n        \"min_version\": \"2.2.0.0\"\n      },\n      {\n        \"name\": \"copy_tarball_to_hdfs\",\n        \"description\": \"Copy tarball to HDFS support (AMBARI-12113)\",\n        \"min_version\": \"2.2.0.0\"\n      },\n      {\n        \"name\": \"spark_16plus\",\n        \"description\": \"Spark 1.6+\",\n        \"min_version\": \"2.4.0.0\"\n      },\n      {\n        \"name\": \"spark_thriftserver\",\n        \"description\": \"Spark Thrift Server\",\n        \"min_version\": \"2.3.2.0\"\n      },\n      {\n        \"name\": \"storm_ams\",\n        \"description\": \"Storm AMS integration (AMBARI-10710)\",\n        \"min_version\": \"2.2.0.0\"\n      },\n      {\n        \"name\": \"kafka_listeners\",\n        \"description\": \"Kafka listeners (AMBARI-10984)\",\n        \"min_version\": \"2.3.0.0\"\n      },\n      {\n        \"name\": \"kafka_kerberos\",\n        \"description\": \"Kafka Kerberos support (AMBARI-10984)\",\n        \"min_version\": \"2.3.0.0\"\n      },\n      {\n        \"name\": \"pig_on_tez\",\n        \"description\": \"Pig on Tez support (AMBARI-7863)\",\n        \"min_version\": \"2.2.0.0\"\n      },\n      {\n        \"name\": \"ranger_usersync_non_root\",\n        \"description\": \"Ranger Usersync as non-root user (AMBARI-10416)\",\n        \"min_version\": \"2.3.0.0\"\n      },\n      {\n        \"name\": \"ranger_audit_db_support\",\n        \"description\": \"Ranger Audit to DB support\",\n        \"min_version\": \"2.2.0.0\",\n        \"max_version\": \"2.4.99.99\"\n      },\n      {\n        \"name\": \"accumulo_kerberos_user_auth\",\n        \"description\": \"Accumulo Kerberos User Auth (AMBARI-10163)\",\n        \"min_version\": \"2.3.0.0\"\n      },\n      {\n        \"name\": \"knox_versioned_data_dir\",\n        \"description\": \"Use versioned data dir for Knox (AMBARI-13164)\",\n        \"min_version\": \"2.3.2.0\"\n      },\n      {\n        \"name\": \"knox_sso_topology\",\n        \"description\": \"Knox SSO Topology support (AMBARI-13975)\",\n        \"min_version\": \"2.3.8.0\"\n      },\n      {\n        \"name\": \"atlas_rolling_upgrade\",\n        \"description\": \"Rolling upgrade support for Atlas\",\n        \"min_version\": \"2.3.0.0\"\n      },\n      {\n        \"name\": \"oozie_admin_user\",\n        \"description\": \"Oozie install user as an Oozie admin user (AMBARI-7976)\",\n        \"min_version\": \"2.2.0.0\"\n      },\n      {\n        \"name\": \"oozie_create_hive_tez_configs\",\n        \"description\": \"Oozie create configs for Ambari Hive and Tez deployments (AMBARI-8074)\",\n        \"min_version\": \"2.2.0.0\"\n      },\n      {\n        \"name\": \"oozie_setup_shared_lib\",\n        \"description\": \"Oozie setup tools used to shared Oozie lib to HDFS (AMBARI-7240)\",\n        \"min_version\": \"2.2.0.0\"\n      },\n      {\n        \"name\": \"oozie_host_kerberos\",\n        \"description\": \"Oozie in secured clusters uses _HOST in Kerberos principal (AMBARI-9775)\",\n        \"min_version\": \"2.0.0.0\"\n      },\n      {\n        \"name\": \"falcon_extensions\",\n        \"description\": \"Falcon Extension\",\n        \"min_version\": \"2.5.0.0\"\n      },\n      {\n        \"name\": \"hive_metastore_upgrade_schema\",\n        \"description\": \"Hive metastore upgrade schema support (AMBARI-11176)\",\n        \"min_version\": \"2.3.0.0\"\n      },\n      {\n        \"name\": \"hive_server_interactive\",\n        \"description\": \"Hive server interactive support (AMBARI-15573)\",\n        \"min_version\": \"2.5.0.0\"\n      },\n      {\n        \"name\": \"hive_purge_table\",\n        \"description\": \"Hive purge table support (AMBARI-12260)\",\n        \"min_version\": \"2.3.0.0\"\n      },\n      {\n        \"name\": \"hive_server2_kerberized_env\",\n        \"description\": \"Hive server2 working on kerberized environment (AMBARI-13749)\",\n        \"min_version\": \"2.2.3.0\",\n        \"max_version\": \"2.2.5.0\"\n      },\n      {\n        \"name\": \"hive_env_heapsize\",\n        \"description\": \"Hive heapsize property defined in hive-env (AMBARI-12801)\",\n        \"min_version\": \"2.2.0.0\"\n      },\n      {\n        \"name\": \"ranger_kms_hsm_support\",\n        \"description\": \"Ranger KMS HSM support (AMBARI-15752)\",\n        \"min_version\": \"2.5.0.0\"\n      },\n      {\n        \"name\": \"ranger_log4j_support\",\n        \"description\": \"Ranger supporting log-4j properties (AMBARI-15681)\",\n        \"min_version\": \"2.5.0.0\"\n      },\n      {\n        \"name\": \"ranger_kerberos_support\",\n        \"description\": \"Ranger Kerberos support\",\n        \"min_version\": \"2.5.0.0\"\n      },\n      {\n        \"name\": \"hive_metastore_site_support\",\n        \"description\": \"Hive Metastore site support\",\n        \"min_version\": \"2.5.0.0\"\n      },\n      {\n        \"name\": \"ranger_usersync_password_jceks\",\n        \"description\": \"Saving Ranger Usersync credentials in jceks\",\n        \"min_version\": \"2.5.0.0\"\n      },\n      {\n        \"name\": \"ranger_install_infra_client\",\n        \"description\": \"Ambari Infra Service support\",\n        \"min_version\": \"2.5.0.0\"\n      },\n      {\n        \"name\": \"falcon_atlas_support_2_3\",\n        \"description\": \"Falcon Atlas integration support for 2.3 stack\",\n        \"min_version\": \"2.3.99.0\",\n        \"max_version\": \"2.4.0.0\"\n      },\n      {\n        \"name\": \"falcon_atlas_support\",\n        \"description\": \"Falcon Atlas integration\",\n        \"min_version\": \"2.5.0.0\"\n      },\n      {\n        \"name\": \"hbase_home_directory\",\n        \"description\": \"Hbase home directory in HDFS needed for HBASE backup\",\n        \"min_version\": \"2.5.0.0\"\n      },\n      {\n        \"name\": \"spark_livy\",\n        \"description\": \"Livy as slave component of spark\",\n        \"min_version\": \"2.5.0.0\"\n      },\n      {\n        \"name\": \"spark_livy2\",\n        \"description\": \"Livy2 as slave component of Spark2\",\n        \"min_version\": \"2.6.0.0\"\n      },\n      {\n        \"name\": \"atlas_ranger_plugin_support\",\n        \"description\": \"Atlas Ranger plugin support\",\n        \"min_version\": \"2.5.0.0\"\n      },\n      {\n        \"name\": \"atlas_conf_dir_in_path\",\n        \"description\": \"Prepend the Atlas conf dir (/etc/atlas/conf) to the classpath of Storm and Falcon\",\n        \"min_version\": \"2.3.0.0\",\n        \"max_version\": \"2.4.99.99\"\n      },\n      {\n        \"name\": \"atlas_upgrade_support\",\n        \"description\": \"Atlas supports express and rolling upgrades\",\n        \"min_version\": \"2.5.0.0\"\n      },\n      {\n        \"name\": \"atlas_hook_support\",\n        \"description\": \"Atlas support for hooks in Hive, Storm, Falcon, and Sqoop\",\n        \"min_version\": \"2.5.0.0\"\n      },\n      {\n        \"name\": \"ranger_pid_support\",\n        \"description\": \"Ranger Service support pid generation AMBARI-16756\",\n        \"min_version\": \"2.5.0.0\"\n      },\n      {\n        \"name\": \"ranger_kms_pid_support\",\n        \"description\": \"Ranger KMS Service support pid generation\",\n        \"min_version\": \"2.5.0.0\"\n      },\n      {\n        \"name\": \"ranger_admin_password_change\",\n        \"description\": \"Allow ranger admin credentials to be specified during cluster creation (AMBARI-17000)\",\n        \"min_version\": \"2.5.0.0\"\n      },\n      {\n        \"name\": \"ranger_setup_db_on_start\",\n        \"description\": \"Allows setup of ranger db and java patches to be called multiple times on each START\",\n        \"min_version\": \"2.6.0.0\"\n      },\n      {\n        \"name\": \"storm_metrics_apache_classes\",\n        \"description\": \"Metrics sink for Storm that uses Apache class names\",\n        \"min_version\": \"2.5.0.0\"\n      },\n      {\n        \"name\": \"spark_java_opts_support\",\n        \"description\": \"Allow Spark to generate java-opts file\",\n        \"min_version\": \"2.2.0.0\",\n        \"max_version\": \"2.4.0.0\"\n      },\n      {\n        \"name\": \"atlas_hbase_setup\",\n        \"description\": \"Use script to create Atlas tables in Hbase and set permissions for Atlas user.\",\n        \"min_version\": \"2.5.0.0\"\n      },\n      {\n        \"name\": \"ranger_hive_plugin_jdbc_url\",\n        \"description\": \"Handle Ranger hive repo config jdbc url change for stack 2.5 (AMBARI-18386)\",\n        \"min_version\": \"2.5.0.0\"\n      },\n      {\n        \"name\": \"zkfc_version_advertised\",\n        \"description\": \"ZKFC advertise version\",\n        \"min_version\": \"2.5.0.0\"\n      },\n      {\n        \"name\": \"phoenix_core_hdfs_site_required\",\n        \"description\": \"HDFS and CORE site required for Phoenix\",\n        \"max_version\": \"2.5.9.9\"\n      },\n      {\n        \"name\": \"ranger_tagsync_ssl_xml_support\",\n        \"description\": \"Ranger Tagsync ssl xml support.\",\n        \"min_version\": \"2.6.0.0\"\n      },\n      {\n        \"name\": \"ranger_xml_configuration\",\n        \"description\": \"Ranger code base support xml configurations\",\n        \"min_version\": \"2.3.0.0\"\n      },\n      {\n        \"name\": \"kafka_ranger_plugin_support\",\n        \"description\": \"Ambari stack changes for Ranger Kafka Plugin (AMBARI-11299)\",\n        \"min_version\": \"2.3.0.0\"\n      },\n      {\n        \"name\": \"yarn_ranger_plugin_support\",\n        \"description\": \"Implement Stack changes for Ranger Yarn Plugin integration (AMBARI-10866)\",\n        \"min_version\": \"2.3.0.0\"\n      },\n      {\n        \"name\": \"ranger_solr_config_support\",\n        \"description\": \"Showing Ranger solrconfig.xml on UI\",\n        \"min_version\": \"2.6.0.0\"\n      },\n      {\n        \"name\": \"hive_interactive_atlas_hook_required\",\n        \"description\": \"Registering Atlas Hook for Hive Interactive.\",\n        \"min_version\": \"2.6.0.0\"\n      },\n      {\n        \"name\": \"atlas_install_hook_package_support\",\n        \"description\": \"Stop installing packages from 2.6\",\n        \"max_version\": \"2.5.9.9\"\n      },\n      {\n        \"name\": \"atlas_hdfs_site_on_namenode_ha\",\n        \"description\": \"Need to create hdfs-site under atlas-conf dir when Namenode-HA is enabled.\",\n        \"min_version\": \"2.6.0.0\"\n      },\n      {\n        \"name\": \"core_site_for_ranger_plugins\",\n        \"description\": \"Adding core-site.xml in when Ranger plugin is enabled for Storm, Kafka, and Knox.\",\n        \"min_version\": \"2.6.0.0\"\n      },\n      {\n        \"name\": \"secure_ranger_ssl_password\",\n        \"description\": \"Securing Ranger Admin and Usersync SSL and Trustore related passwords in jceks\",\n        \"min_version\": \"2.6.0.0\"\n      },\n      {\n        \"name\": \"ranger_kms_ssl\",\n        \"description\": \"Ranger KMS SSL properties in ambari stack\",\n        \"min_version\": \"2.6.0.0\"\n      },\n      {\n        \"name\": \"atlas_hdfs_site_on_namenode_ha\",\n        \"description\": \"Need to create hdfs-site under atlas-conf dir when Namenode-HA is enabled.\",\n        \"min_version\": \"2.6.0.0\"\n      },\n      {\n        \"name\": \"atlas_core_site_support\",\n        \"description\": \"Need to create core-site under Atlas conf directory.\",\n        \"min_version\": \"2.6.0.0\"\n      },\n      {\n        \"name\": \"toolkit_config_update\",\n        \"description\": \"Support separate input and output for toolkit configuration\",\n        \"min_version\": \"2.6.0.0\"\n      },\n      {\n        \"name\": \"nifi_encrypt_config\",\n        \"description\": \"Encrypt sensitive properties written to nifi property file\",\n        \"min_version\": \"2.6.0.0\"\n      },\n      {\n        \"name\": \"tls_toolkit_san\",\n        \"description\": \"Support subject alternative name flag\",\n        \"min_version\": \"2.6.0.0\"\n      },\n      {\n        \"name\": \"admin_toolkit_support\",\n        \"description\": \"Supports the nifi admin toolkit\",\n        \"min_version\": \"2.6.0.0\"\n      },\n      {\n        \"name\": \"nifi_jaas_conf_create\",\n        \"description\": \"Create NIFI jaas configuration when kerberos is enabled\",\n        \"min_version\": \"2.6.0.0\"\n      },\n      {\n        \"name\": \"registry_remove_rootpath\",\n        \"description\": \"Registry remove root path setting\",\n        \"min_version\": \"2.6.3.0\"\n      },\n      {\n        \"name\": \"nifi_encrypted_authorizers_config\",\n        \"description\": \"Support encrypted authorizers.xml configuration for version 3.1 onwards\",\n        \"min_version\": \"2.6.5.0\"\n      },\n      {\n        \"name\": \"multiple_env_sh_files_support\",\n        \"description\": \"This feature is supported by RANGER and RANGER_KMS service to remove multiple env sh files during upgrade to stack 3.0\",\n        \"max_version\": \"2.6.99.99\"\n      },\n      {\n        \"name\": \"registry_allowed_resources_support\",\n        \"description\": \"Registry allowed resources\",\n        \"min_version\": \"3.0.0.0\"\n      },\n      {\n        \"name\": \"registry_rewriteuri_filter_support\",\n        \"description\": \"Registry RewriteUri servlet filter\",\n        \"min_version\": \"3.0.0.0\"\n      },\n      {\n        \"name\": \"registry_support_schema_migrate\",\n        \"description\": \"Support schema migrate in registry for version 3.1 onwards\",\n        \"min_version\": \"3.0.0.0\"\n      },\n      {\n        \"name\": \"sam_support_schema_migrate\",\n        \"description\": \"Support schema migrate in SAM for version 3.1 onwards\",\n        \"min_version\": \"3.0.0.0\"\n      },\n      {\n        \"name\": \"sam_storage_core_in_registry\",\n        \"description\": \"Storage core module moved to registry\",\n        \"min_version\": \"3.0.0.0\"\n      },\n      {\n        \"name\": \"sam_db_file_storage\",\n        \"description\": \"DB based file storage in SAM\",\n        \"min_version\": \"3.0.0.0\"\n      },\n      {\n        \"name\": \"kafka_extended_sasl_support\",\n        \"description\": \"Support SASL PLAIN and GSSAPI\",\n        \"min_version\": \"3.0.0.0\"\n      },\n      {\n        \"name\": \"registry_support_db_user_creation\",\n        \"description\": \"Supports registry's database and user creation on the fly\",\n        \"min_version\": \"3.0.0.0\"\n      },\n      {\n        \"name\": \"streamline_support_db_user_creation\",\n        \"description\": \"Supports Streamline's database and user creation on the fly\",\n        \"min_version\": \"3.0.0.0\"\n      },\n      {\n        \"name\": \"nifi_auto_client_registration\",\n        \"description\": \"Supports NiFi's client registration in runtime\",\n        \"min_version\": \"3.0.0.0\"\n      },\n      {\n        \"name\": \"ranger_all_admin_change_default_password\",\n        \"description\": \"Supports Ranger All admin's password change in one go instead of multiple calls\",\n        \"min_version\": \"3.1.0.0\"\n      }\n    ]\n  }\n}","stack_name":"HDP","stack_packages":"{\n  \"HDP\": {\n    \"stack-select\": {\n      \"ACCUMULO\": {\n        \"ACCUMULO_CLIENT\": {\n          \"STACK-SELECT-PACKAGE\": \"accumulo-client\",\n          \"INSTALL\": [\n            \"accumulo-client\"\n          ],\n          \"PATCH\": [\n            \"accumulo-client\"\n          ],\n          \"STANDARD\": [\n            \"accumulo-client\"\n          ]\n        },\n        \"ACCUMULO_GC\": {\n          \"STACK-SELECT-PACKAGE\": \"accumulo-gc\",\n          \"INSTALL\": [\n            \"accumulo-gc\"\n          ],\n          \"PATCH\": [\n            \"accumulo-gc\"\n          ],\n          \"STANDARD\": [\n            \"accumulo-gc\",\n            \"accumulo-client\"\n          ]\n        },\n        \"ACCUMULO_MASTER\": {\n          \"STACK-SELECT-PACKAGE\": \"accumulo-master\",\n          \"INSTALL\": [\n            \"accumulo-master\"\n          ],\n          \"PATCH\": [\n            \"accumulo-master\"\n          ],\n          \"STANDARD\": [\n            \"accumulo-master\",\n            \"accumulo-client\"\n          ]\n        },\n        \"ACCUMULO_MONITOR\": {\n          \"STACK-SELECT-PACKAGE\": \"accumulo-monitor\",\n          \"INSTALL\": [\n            \"accumulo-monitor\"\n          ],\n          \"PATCH\": [\n            \"accumulo-monitor\"\n          ],\n          \"STANDARD\": [\n            \"accumulo-monitor\",\n            \"accumulo-client\"\n          ]\n        },\n        \"ACCUMULO_TRACER\": {\n          \"STACK-SELECT-PACKAGE\": \"accumulo-tracer\",\n          \"INSTALL\": [\n            \"accumulo-tracer\"\n          ],\n          \"PATCH\": [\n            \"accumulo-tracer\"\n          ],\n          \"STANDARD\": [\n            \"accumulo-tracer\",\n            \"accumulo-client\"\n          ]\n        },\n        \"ACCUMULO_TSERVER\": {\n          \"STACK-SELECT-PACKAGE\": \"accumulo-tablet\",\n          \"INSTALL\": [\n            \"accumulo-tablet\"\n          ],\n          \"PATCH\": [\n            \"accumulo-tablet\"\n          ],\n          \"STANDARD\": [\n            \"accumulo-tablet\",\n            \"accumulo-client\"\n          ]\n        }\n      },\n      \"ATLAS\": {\n        \"ATLAS_CLIENT\": {\n          \"STACK-SELECT-PACKAGE\": \"atlas-client\",\n          \"INSTALL\": [\n            \"atlas-client\"\n          ],\n          \"PATCH\": [\n            \"atlas-client\"\n          ],\n          \"STANDARD\": [\n            \"atlas-client\"\n          ]\n        },\n        \"ATLAS_SERVER\": {\n          \"STACK-SELECT-PACKAGE\": \"atlas-server\",\n          \"INSTALL\": [\n            \"atlas-server\"\n          ],\n          \"PATCH\": [\n            \"atlas-server\"\n          ],\n          \"STANDARD\": [\n            \"atlas-server\"\n          ]\n        }\n      },\n      \"DRUID\": {\n        \"DRUID_COORDINATOR\": {\n          \"STACK-SELECT-PACKAGE\": \"druid-coordinator\",\n          \"INSTALL\": [\n            \"druid-coordinator\"\n          ],\n          \"PATCH\": [\n            \"druid-coordinator\"\n          ],\n          \"STANDARD\": [\n            \"druid-coordinator\"\n          ]\n        },\n        \"DRUID_OVERLORD\": {\n          \"STACK-SELECT-PACKAGE\": \"druid-overlord\",\n          \"INSTALL\": [\n            \"druid-overlord\"\n          ],\n          \"PATCH\": [\n            \"druid-overlord\"\n          ],\n          \"STANDARD\": [\n            \"druid-overlord\"\n          ]\n        },\n        \"DRUID_HISTORICAL\": {\n          \"STACK-SELECT-PACKAGE\": \"druid-historical\",\n          \"INSTALL\": [\n            \"druid-historical\"\n          ],\n          \"PATCH\": [\n            \"druid-historical\"\n          ],\n          \"STANDARD\": [\n            \"druid-historical\"\n          ]\n        },\n        \"DRUID_BROKER\": {\n          \"STACK-SELECT-PACKAGE\": \"druid-broker\",\n          \"INSTALL\": [\n            \"druid-broker\"\n          ],\n          \"PATCH\": [\n            \"druid-broker\"\n          ],\n          \"STANDARD\": [\n            \"druid-broker\"\n          ]\n        },\n        \"DRUID_MIDDLEMANAGER\": {\n          \"STACK-SELECT-PACKAGE\": \"druid-middlemanager\",\n          \"INSTALL\": [\n            \"druid-middlemanager\"\n          ],\n          \"PATCH\": [\n            \"druid-middlemanager\"\n          ],\n          \"STANDARD\": [\n            \"druid-middlemanager\"\n          ]\n        },\n        \"DRUID_ROUTER\": {\n          \"STACK-SELECT-PACKAGE\": \"druid-router\",\n          \"INSTALL\": [\n            \"druid-router\"\n          ],\n          \"PATCH\": [\n            \"druid-router\"\n          ],\n          \"STANDARD\": [\n            \"druid-router\"\n          ]\n        }\n      },\n      \"HBASE\": {\n        \"HBASE_CLIENT\": {\n          \"STACK-SELECT-PACKAGE\": \"hbase-client\",\n          \"INSTALL\": [\n            \"hbase-client\"\n          ],\n          \"PATCH\": [\n            \"hbase-client\"\n          ],\n          \"STANDARD\": [\n            \"hbase-client\",\n            \"phoenix-client\",\n            \"hadoop-client\"\n          ]\n        },\n        \"HBASE_MASTER\": {\n          \"STACK-SELECT-PACKAGE\": \"hbase-master\",\n          \"INSTALL\": [\n            \"hbase-master\"\n          ],\n          \"PATCH\": [\n            \"hbase-master\"\n          ],\n          \"STANDARD\": [\n            \"hbase-master\"\n          ]\n        },\n        \"HBASE_REGIONSERVER\": {\n          \"STACK-SELECT-PACKAGE\": \"hbase-regionserver\",\n          \"INSTALL\": [\n            \"hbase-regionserver\"\n          ],\n          \"PATCH\": [\n            \"hbase-regionserver\"\n          ],\n          \"STANDARD\": [\n            \"hbase-regionserver\"\n          ]\n        },\n        \"PHOENIX_QUERY_SERVER\": {\n          \"STACK-SELECT-PACKAGE\": \"phoenix-server\",\n          \"INSTALL\": [\n            \"phoenix-server\"\n          ],\n          \"PATCH\": [\n            \"phoenix-server\"\n          ],\n          \"STANDARD\": [\n            \"phoenix-server\"\n          ]\n        }\n      },\n      \"HDFS\": {\n        \"DATANODE\": {\n          \"STACK-SELECT-PACKAGE\": \"hadoop-hdfs-datanode\",\n          \"INSTALL\": [\n            \"hadoop-hdfs-datanode\"\n          ],\n          \"PATCH\": [\n            \"hadoop-hdfs-datanode\"\n          ],\n          \"STANDARD\": [\n            \"hadoop-hdfs-datanode\"\n          ]\n        },\n        \"HDFS_CLIENT\": {\n          \"STACK-SELECT-PACKAGE\": \"hadoop-hdfs-client\",\n          \"INSTALL\": [\n            \"hadoop-hdfs-client\"\n          ],\n          \"PATCH\": [\n            \"hadoop-hdfs-client\"\n          ],\n          \"STANDARD\": [\n            \"hadoop-client\"\n          ]\n        },\n        \"NAMENODE\": {\n          \"STACK-SELECT-PACKAGE\": \"hadoop-hdfs-namenode\",\n          \"INSTALL\": [\n            \"hadoop-hdfs-namenode\"\n          ],\n          \"PATCH\": [\n            \"hadoop-hdfs-namenode\"\n          ],\n          \"STANDARD\": [\n            \"hadoop-hdfs-namenode\"\n          ]\n        },\n        \"NFS_GATEWAY\": {\n          \"STACK-SELECT-PACKAGE\": \"hadoop-hdfs-nfs3\",\n          \"INSTALL\": [\n            \"hadoop-hdfs-nfs3\"\n          ],\n          \"PATCH\": [\n            \"hadoop-hdfs-nfs3\"\n          ],\n          \"STANDARD\": [\n            \"hadoop-hdfs-nfs3\"\n          ]\n        },\n        \"JOURNALNODE\": {\n          \"STACK-SELECT-PACKAGE\": \"hadoop-hdfs-journalnode\",\n          \"INSTALL\": [\n            \"hadoop-hdfs-journalnode\"\n          ],\n          \"PATCH\": [\n            \"hadoop-hdfs-journalnode\"\n          ],\n          \"STANDARD\": [\n            \"hadoop-hdfs-journalnode\"\n          ]\n        },\n        \"SECONDARY_NAMENODE\": {\n          \"STACK-SELECT-PACKAGE\": \"hadoop-hdfs-secondarynamenode\",\n          \"INSTALL\": [\n            \"hadoop-hdfs-secondarynamenode\"\n          ],\n          \"PATCH\": [\n            \"hadoop-hdfs-secondarynamenode\"\n          ],\n          \"STANDARD\": [\n            \"hadoop-hdfs-secondarynamenode\"\n          ]\n        },\n        \"ZKFC\": {\n          \"STACK-SELECT-PACKAGE\": \"hadoop-hdfs-zkfc\",\n          \"INSTALL\": [\n            \"hadoop-hdfs-zkfc\"\n          ],\n          \"PATCH\": [\n            \"hadoop-hdfs-zkfc\"\n          ],\n          \"STANDARD\": [\n            \"hadoop-hdfs-zkfc\"\n          ]\n        }\n      },\n      \"HIVE\": {\n        \"HIVE_METASTORE\": {\n          \"STACK-SELECT-PACKAGE\": \"hive-metastore\",\n          \"INSTALL\": [\n            \"hive-metastore\"\n          ],\n          \"PATCH\": [\n            \"hive-metastore\"\n          ],\n          \"STANDARD\": [\n            \"hive-metastore\"\n          ]\n        },\n        \"HIVE_SERVER\": {\n          \"STACK-SELECT-PACKAGE\": \"hive-server2\",\n          \"INSTALL\": [\n            \"hive-server2\"\n          ],\n          \"PATCH\": [\n            \"hive-server2\"\n          ],\n          \"STANDARD\": [\n            \"hive-server2\"\n          ]\n        },\n        \"HIVE_SERVER_INTERACTIVE\": {\n          \"STACK-SELECT-PACKAGE\": \"hive-server2-hive\",\n          \"INSTALL\": [\n            \"hive-server2-hive\"\n          ],\n          \"PATCH\": [\n            \"hive-server2-hive\"\n          ],\n          \"STANDARD\": [\n            \"hive-server2-hive\"\n          ]\n        },\n        \"HIVE_CLIENT\": {\n          \"STACK-SELECT-PACKAGE\": \"hive-client\",\n          \"INSTALL\": [\n            \"hive-client\"\n          ],\n          \"PATCH\": [\n            \"hive-client\"\n          ],\n          \"STANDARD\": [\n            \"hadoop-client\"\n          ]\n        }\n      },\n      \"KAFKA\": {\n        \"KAFKA_BROKER\": {\n          \"STACK-SELECT-PACKAGE\": \"kafka-broker\",\n          \"INSTALL\": [\n            \"kafka-broker\"\n          ],\n          \"PATCH\": [\n            \"kafka-broker\"\n          ],\n          \"STANDARD\": [\n            \"kafka-broker\"\n          ]\n        }\n      },\n      \"KNOX\": {\n        \"KNOX_GATEWAY\": {\n          \"STACK-SELECT-PACKAGE\": \"knox-server\",\n          \"INSTALL\": [\n            \"knox-server\"\n          ],\n          \"PATCH\": [\n            \"knox-server\"\n          ],\n          \"STANDARD\": [\n            \"knox-server\"\n          ]\n        }\n      },\n      \"MAPREDUCE2\": {\n        \"HISTORYSERVER\": {\n          \"STACK-SELECT-PACKAGE\": \"hadoop-mapreduce-historyserver\",\n          \"INSTALL\": [\n            \"hadoop-mapreduce-historyserver\"\n          ],\n          \"PATCH\": [\n            \"hadoop-mapreduce-historyserver\"\n          ],\n          \"STANDARD\": [\n            \"hadoop-mapreduce-historyserver\"\n          ]\n        },\n        \"MAPREDUCE2_CLIENT\": {\n          \"STACK-SELECT-PACKAGE\": \"hadoop-mapreduce-client\",\n          \"INSTALL\": [\n            \"hadoop-mapreduce-client\"\n          ],\n          \"PATCH\": [\n            \"hadoop-mapreduce-client\"\n          ],\n          \"STANDARD\": [\n            \"hadoop-client\"\n          ]\n        }\n      },\n      \"OOZIE\": {\n        \"OOZIE_CLIENT\": {\n          \"STACK-SELECT-PACKAGE\": \"oozie-client\",\n          \"INSTALL\": [\n            \"oozie-client\"\n          ],\n          \"PATCH\": [\n            \"oozie-client\"\n          ],\n          \"STANDARD\": [\n            \"oozie-client\"\n          ]\n        },\n        \"OOZIE_SERVER\": {\n          \"STACK-SELECT-PACKAGE\": \"oozie-server\",\n          \"INSTALL\": [\n            \"oozie-client\",\n            \"oozie-server\"\n          ],\n          \"PATCH\": [\n            \"oozie-server\",\n            \"oozie-client\"\n          ],\n          \"STANDARD\": [\n            \"oozie-client\",\n            \"oozie-server\"\n          ]\n        }\n      },\n      \"PIG\": {\n        \"PIG\": {\n          \"STACK-SELECT-PACKAGE\": \"pig-client\",\n          \"INSTALL\": [\n            \"pig-client\"\n          ],\n          \"PATCH\": [\n            \"pig-client\"\n          ],\n          \"STANDARD\": [\n            \"hadoop-client\"\n          ]\n        }\n      },\n      \"RANGER\": {\n        \"RANGER_ADMIN\": {\n          \"STACK-SELECT-PACKAGE\": \"ranger-admin\",\n          \"INSTALL\": [\n            \"ranger-admin\"\n          ],\n          \"PATCH\": [\n            \"ranger-admin\"\n          ],\n          \"STANDARD\": [\n            \"ranger-admin\"\n          ]\n        },\n        \"RANGER_TAGSYNC\": {\n          \"STACK-SELECT-PACKAGE\": \"ranger-tagsync\",\n          \"INSTALL\": [\n            \"ranger-tagsync\"\n          ],\n          \"PATCH\": [\n            \"ranger-tagsync\"\n          ],\n          \"STANDARD\": [\n            \"ranger-tagsync\"\n          ]\n        },\n        \"RANGER_USERSYNC\": {\n          \"STACK-SELECT-PACKAGE\": \"ranger-usersync\",\n          \"INSTALL\": [\n            \"ranger-usersync\"\n          ],\n          \"PATCH\": [\n            \"ranger-usersync\"\n          ],\n          \"STANDARD\": [\n            \"ranger-usersync\"\n          ]\n        }\n      },\n      \"RANGER_KMS\": {\n        \"RANGER_KMS_SERVER\": {\n          \"STACK-SELECT-PACKAGE\": \"ranger-kms\",\n          \"INSTALL\": [\n            \"ranger-kms\"\n          ],\n          \"PATCH\": [\n            \"ranger-kms\"\n          ],\n          \"STANDARD\": [\n            \"ranger-kms\"\n          ]\n        }\n      },\n      \"SPARK2\": {\n        \"LIVY2_CLIENT\": {\n          \"STACK-SELECT-PACKAGE\": \"livy2-client\",\n          \"INSTALL\": [\n            \"livy2-client\"\n          ],\n          \"PATCH\": [\n            \"livy2-client\"\n          ],\n          \"STANDARD\": [\n            \"livy2-client\"\n          ]\n        },\n        \"LIVY2_SERVER\": {\n          \"STACK-SELECT-PACKAGE\": \"livy2-server\",\n          \"INSTALL\": [\n            \"livy2-server\"\n          ],\n          \"PATCH\": [\n            \"livy2-server\"\n          ],\n          \"STANDARD\": [\n            \"livy2-server\"\n          ]\n        },\n        \"SPARK2_CLIENT\": {\n          \"STACK-SELECT-PACKAGE\": \"spark2-client\",\n          \"INSTALL\": [\n            \"spark2-client\",\n            \"livy2-client\"\n          ],\n          \"PATCH\": [\n            \"spark2-client\",\n            \"livy2-client\",\n            \"hive_warehouse_connector\"\n          ],\n          \"STANDARD\": [\n            \"spark2-client\",\n            \"livy2-client\",\n            \"hive_warehouse_connector\"\n          ]\n        },\n        \"SPARK2_JOBHISTORYSERVER\": {\n          \"STACK-SELECT-PACKAGE\": \"spark2-historyserver\",\n          \"INSTALL\": [\n            \"spark2-historyserver\"\n          ],\n          \"PATCH\": [\n            \"spark2-historyserver\"\n          ],\n          \"STANDARD\": [\n            \"spark2-historyserver\"\n          ]\n        },\n        \"SPARK2_THRIFTSERVER\": {\n          \"STACK-SELECT-PACKAGE\": \"spark2-thriftserver\",\n          \"INSTALL\": [\n            \"spark2-thriftserver\"\n          ],\n          \"PATCH\": [\n            \"spark2-thriftserver\"\n          ],\n          \"STANDARD\": [\n            \"spark2-thriftserver\"\n          ]\n        }\n      },\n      \"SQOOP\": {\n        \"SQOOP\": {\n          \"STACK-SELECT-PACKAGE\": \"sqoop-client\",\n          \"INSTALL\": [\n            \"sqoop-client\"\n          ],\n          \"PATCH\": [\n            \"sqoop-client\"\n          ],\n          \"STANDARD\": [\n            \"sqoop-client\"\n          ]\n        }\n      },\n      \"STORM\": {\n        \"NIMBUS\": {\n          \"STACK-SELECT-PACKAGE\": \"storm-nimbus\",\n          \"INSTALL\": [\n            \"storm-client\",\n            \"storm-nimbus\"\n          ],\n          \"PATCH\": [\n            \"storm-client\",\n            \"storm-nimbus\"\n          ],\n          \"STANDARD\": [\n            \"storm-client\",\n            \"storm-nimbus\"\n          ]\n        },\n        \"SUPERVISOR\": {\n          \"STACK-SELECT-PACKAGE\": \"storm-supervisor\",\n          \"INSTALL\": [\n            \"storm-client\",\n            \"storm-supervisor\"\n          ],\n          \"PATCH\": [\n            \"storm-client\",\n            \"storm-supervisor\"\n          ],\n          \"STANDARD\": [\n            \"storm-client\",\n            \"storm-supervisor\"\n          ]\n        },\n        \"DRPC_SERVER\": {\n          \"STACK-SELECT-PACKAGE\": \"storm-client\",\n          \"INSTALL\": [\n            \"storm-client\"\n          ],\n          \"PATCH\": [\n            \"storm-client\"\n          ],\n          \"STANDARD\": [\n            \"storm-client\"\n          ]\n        },\n        \"STORM_UI_SERVER\": {\n          \"STACK-SELECT-PACKAGE\": \"storm-client\",\n          \"INSTALL\": [\n            \"storm-client\"\n          ],\n          \"PATCH\": [\n            \"storm-client\"\n          ],\n          \"STANDARD\": [\n            \"storm-client\"\n          ]\n        }\n      },\n      \"SUPERSET\": {\n        \"SUPERSET\": {\n          \"STACK-SELECT-PACKAGE\": \"superset\",\n          \"INSTALL\": [\n            \"superset\"\n          ],\n          \"PATCH\": [\n            \"superset\"\n          ],\n          \"STANDARD\": [\n            \"superset\"\n          ]\n        }\n      },\n      \"TEZ\": {\n        \"TEZ_CLIENT\": {\n          \"STACK-SELECT-PACKAGE\": \"tez-client\",\n          \"INSTALL\": [\n            \"tez-client\"\n          ],\n          \"PATCH\": [\n            \"tez-client\"\n          ],\n          \"STANDARD\": [\n            \"hadoop-client\"\n          ]\n        }\n      },\n      \"YARN\": {\n        \"APP_TIMELINE_SERVER\": {\n          \"STACK-SELECT-PACKAGE\": \"hadoop-yarn-timelineserver\",\n          \"INSTALL\": [\n            \"hadoop-yarn-timelineserver\"\n          ],\n          \"PATCH\": [\n            \"hadoop-yarn-timelineserver\"\n          ],\n          \"STANDARD\": [\n            \"hadoop-yarn-timelineserver\"\n          ]\n        },\n        \"TIMELINE_READER\": {\n          \"STACK-SELECT-PACKAGE\": \"hadoop-yarn-timelinereader\",\n          \"INSTALL\": [\n            \"hadoop-yarn-timelinereader\"\n          ],\n          \"PATCH\": [\n            \"hadoop-yarn-timelinereader\"\n          ],\n          \"STANDARD\": [\n            \"hadoop-yarn-timelinereader\"\n          ]\n        },\n        \"NODEMANAGER\": {\n          \"STACK-SELECT-PACKAGE\": \"hadoop-yarn-nodemanager\",\n          \"INSTALL\": [\n            \"hadoop-yarn-nodemanager\"\n          ],\n          \"PATCH\": [\n            \"hadoop-yarn-nodemanager\"\n          ],\n          \"STANDARD\": [\n            \"hadoop-yarn-nodemanager\"\n          ]\n        },\n        \"RESOURCEMANAGER\": {\n          \"STACK-SELECT-PACKAGE\": \"hadoop-yarn-resourcemanager\",\n          \"INSTALL\": [\n            \"hadoop-yarn-resourcemanager\"\n          ],\n          \"PATCH\": [\n            \"hadoop-yarn-resourcemanager\"\n          ],\n          \"STANDARD\": [\n            \"hadoop-yarn-resourcemanager\"\n          ]\n        },\n        \"YARN_CLIENT\": {\n          \"STACK-SELECT-PACKAGE\": \"hadoop-yarn-client\",\n          \"INSTALL\": [\n            \"hadoop-yarn-client\"\n          ],\n          \"PATCH\": [\n            \"hadoop-yarn-client\"\n          ],\n          \"STANDARD\": [\n            \"hadoop-client\"\n          ]\n        },\n        \"YARN_REGISTRY_DNS\": {\n          \"STACK-SELECT-PACKAGE\": \"hadoop-yarn-registrydns\",\n          \"INSTALL\": [\n            \"hadoop-yarn-registrydns\"\n          ],\n          \"PATCH\": [\n            \"hadoop-yarn-registrydns\"\n          ],\n          \"STANDARD\": [\n            \"hadoop-yarn-registrydns\"\n          ]\n        }\n      },\n      \"ZEPPELIN\": {\n        \"ZEPPELIN_MASTER\": {\n          \"STACK-SELECT-PACKAGE\": \"zeppelin-server\",\n          \"INSTALL\": [\n            \"zeppelin-server\"\n          ],\n          \"PATCH\": [\n            \"zeppelin-server\"\n          ],\n          \"STANDARD\": [\n            \"zeppelin-server\"\n          ]\n        }\n      },\n      \"ZOOKEEPER\": {\n        \"ZOOKEEPER_CLIENT\": {\n          \"STACK-SELECT-PACKAGE\": \"zookeeper-client\",\n          \"INSTALL\": [\n            \"zookeeper-client\"\n          ],\n          \"PATCH\": [\n            \"zookeeper-client\"\n          ],\n          \"STANDARD\": [\n            \"zookeeper-client\"\n          ]\n        },\n        \"ZOOKEEPER_SERVER\": {\n          \"STACK-SELECT-PACKAGE\": \"zookeeper-server\",\n          \"INSTALL\": [\n            \"zookeeper-server\"\n          ],\n          \"PATCH\": [\n            \"zookeeper-server\"\n          ],\n          \"STANDARD\": [\n            \"zookeeper-server\"\n          ]\n        }\n      }\n    },\n    \"conf-select\": {\n      \"accumulo\": [\n        {\n          \"conf_dir\": \"/etc/accumulo/conf\",\n          \"current_dir\": \"{0}/current/accumulo-client/conf\",\n          \"component\": \"accumulo-client\"\n        }\n      ],\n      \"atlas\": [\n        {\n          \"conf_dir\": \"/etc/atlas/conf\",\n          \"current_dir\": \"{0}/current/atlas-client/conf\",\n          \"component\": \"atlas-client\"\n        }\n      ],\n      \"druid\": [\n        {\n          \"conf_dir\": \"/etc/druid/conf\",\n          \"current_dir\": \"{0}/current/druid-overlord/conf\",\n          \"component\": \"druid-overlord\"\n        }\n      ],\n      \"hadoop\": [\n        {\n          \"conf_dir\": \"/etc/hadoop/conf\",\n          \"current_dir\": \"{0}/current/hadoop-client/conf\",\n          \"component\": \"hadoop-client\"\n        }\n      ],\n      \"hbase\": [\n        {\n          \"conf_dir\": \"/etc/hbase/conf\",\n          \"current_dir\": \"{0}/current/hbase-client/conf\",\n          \"component\": \"hbase-client\"\n        }\n      ],\n      \"hive\": [\n        {\n          \"conf_dir\": \"/etc/hive/conf\",\n          \"current_dir\": \"{0}/current/hive-client/conf\",\n          \"component\": \"hive-client\"\n        }\n      ],\n      \"hive2\": [\n        {\n          \"conf_dir\": \"/etc/hive2/conf\",\n          \"current_dir\": \"{0}/current/hive-server2-hive/conf\",\n          \"component\": \"hive-server2-hive\"\n        }\n      ],\n      \"hive-hcatalog\": [\n        {\n          \"conf_dir\": \"/etc/hive-webhcat/conf\",\n          \"prefix\": \"/etc/hive-webhcat\",\n          \"current_dir\": \"{0}/current/hive-webhcat/etc/webhcat\",\n          \"component\": \"hive-webhcat\"\n        },\n        {\n          \"conf_dir\": \"/etc/hive-hcatalog/conf\",\n          \"prefix\": \"/etc/hive-hcatalog\",\n          \"current_dir\": \"{0}/current/hive-webhcat/etc/hcatalog\",\n          \"component\": \"hive-webhcat\"\n        }\n      ],\n      \"kafka\": [\n        {\n          \"conf_dir\": \"/etc/kafka/conf\",\n          \"current_dir\": \"{0}/current/kafka-broker/conf\",\n          \"component\": \"kafka-broker\"\n        }\n      ],\n      \"knox\": [\n        {\n          \"conf_dir\": \"/etc/knox/conf\",\n          \"current_dir\": \"{0}/current/knox-server/conf\",\n          \"component\": \"knox-server\"\n        }\n      ],\n      \"livy2\": [\n        {\n          \"conf_dir\": \"/etc/livy2/conf\",\n          \"current_dir\": \"{0}/current/livy2-client/conf\",\n          \"component\": \"livy2-client\"\n        }\n      ],\n      \"nifi\": [\n        {\n          \"conf_dir\": \"/etc/nifi/conf\",\n          \"current_dir\": \"{0}/current/nifi/conf\",\n          \"component\": \"nifi\"\n        }\n      ],\n      \"oozie\": [\n        {\n          \"conf_dir\": \"/etc/oozie/conf\",\n          \"current_dir\": \"{0}/current/oozie-client/conf\",\n          \"component\": \"oozie-client\"\n        }\n      ],\n      \"phoenix\": [\n        {\n          \"conf_dir\": \"/etc/phoenix/conf\",\n          \"current_dir\": \"{0}/current/phoenix-client/conf\",\n          \"component\": \"phoenix-client\"\n        }\n      ],\n      \"pig\": [\n        {\n          \"conf_dir\": \"/etc/pig/conf\",\n          \"current_dir\": \"{0}/current/pig-client/conf\",\n          \"component\": \"pig-client\"\n        }\n      ],\n      \"ranger-admin\": [\n        {\n          \"conf_dir\": \"/etc/ranger/admin/conf\",\n          \"current_dir\": \"{0}/current/ranger-admin/conf\",\n          \"component\": \"ranger-admin\"\n        }\n      ],\n      \"ranger-kms\": [\n        {\n          \"conf_dir\": \"/etc/ranger/kms/conf\",\n          \"current_dir\": \"{0}/current/ranger-kms/conf\",\n          \"component\": \"ranger-kms\"\n        }\n      ],\n      \"ranger-tagsync\": [\n        {\n          \"conf_dir\": \"/etc/ranger/tagsync/conf\",\n          \"current_dir\": \"{0}/current/ranger-tagsync/conf\",\n          \"component\": \"ranger-tagsync\"\n        }\n      ],\n      \"ranger-usersync\": [\n        {\n          \"conf_dir\": \"/etc/ranger/usersync/conf\",\n          \"current_dir\": \"{0}/current/ranger-usersync/conf\",\n          \"component\": \"ranger-usersync\"\n        }\n      ],\n      \"spark2\": [\n        {\n          \"conf_dir\": \"/etc/spark2/conf\",\n          \"current_dir\": \"{0}/current/spark2-client/conf\",\n          \"component\": \"spark2-client\"\n        }\n      ],\n      \"sqoop\": [\n        {\n          \"conf_dir\": \"/etc/sqoop/conf\",\n          \"current_dir\": \"{0}/current/sqoop-client/conf\",\n          \"component\": \"sqoop-client\"\n        }\n      ],\n      \"storm\": [\n        {\n          \"conf_dir\": \"/etc/storm/conf\",\n          \"current_dir\": \"{0}/current/storm-client/conf\",\n          \"component\": \"storm-client\"\n        }\n      ],\n      \"superset\": [\n        {\n          \"conf_dir\": \"/etc/superset/conf\",\n          \"current_dir\": \"{0}/current/superset/conf\",\n          \"component\": \"superset\"\n        }\n      ],\n      \"tez\": [\n        {\n          \"conf_dir\": \"/etc/tez/conf\",\n          \"current_dir\": \"{0}/current/tez-client/conf\",\n          \"component\": \"tez-client\"\n        }\n      ],\n      \"zeppelin\": [\n        {\n          \"conf_dir\": \"/etc/zeppelin/conf\",\n          \"current_dir\": \"{0}/current/zeppelin-server/conf\",\n          \"component\": \"zeppelin-server\"\n        }\n      ],\n      \"zookeeper\": [\n        {\n          \"conf_dir\": \"/etc/zookeeper/conf\",\n          \"current_dir\": \"{0}/current/zookeeper-client/conf\",\n          \"component\": \"zookeeper-client\"\n        }\n      ]\n    },\n    \"conf-select-patching\": {\n      \"ACCUMULO\": {\n        \"packages\": [\"accumulo\"]\n      },\n      \"ATLAS\": {\n        \"packages\": [\"atlas\"]\n      },\n      \"DRUID\": {\n        \"packages\": [\"druid\"]\n      },\n      \"FLUME\": {\n        \"packages\": [\"flume\"]\n      },\n      \"HBASE\": {\n        \"packages\": [\"hbase\"]\n      },\n      \"HDFS\": {\n        \"packages\": []\n      },\n      \"HIVE\": {\n        \"packages\": [\"hive\", \"hive-hcatalog\", \"hive2\", \"tez_hive2\"]\n      },\n      \"KAFKA\": {\n        \"packages\": [\"kafka\"]\n      },\n      \"KNOX\": {\n        \"packages\": [\"knox\"]\n      },\n      \"MAPREDUCE2\": {\n        \"packages\": []\n      },\n      \"OOZIE\": {\n        \"packages\": [\"oozie\"]\n      },\n      \"PIG\": {\n        \"packages\": [\"pig\"]\n      },\n      \"R4ML\": {\n        \"packages\": []\n      },\n      \"RANGER\": {\n        \"packages\": [\"ranger-admin\", \"ranger-usersync\", \"ranger-tagsync\"]\n      },\n      \"RANGER_KMS\": {\n        \"packages\": [\"ranger-kms\"]\n      },\n      \"SPARK2\": {\n        \"packages\": [\"spark2\", \"livy2\"]\n      },\n      \"SQOOP\": {\n        \"packages\": [\"sqoop\"]\n      },\n      \"STORM\": {\n        \"packages\": [\"storm\", \"storm-slider-client\"]\n      },\n      \"SUPERSET\": {\n        \"packages\": [\"superset\"]\n      },\n      \"SYSTEMML\": {\n        \"packages\": []\n      },\n      \"TEZ\": {\n        \"packages\": [\"tez\"]\n      },\n      \"TITAN\": {\n        \"packages\": []\n      },\n      \"YARN\": {\n        \"packages\": []\n      },\n      \"ZEPPELIN\": {\n        \"packages\": [\"zeppelin\"]\n      },\n      \"ZOOKEEPER\": {\n        \"packages\": [\"zookeeper\"]\n      }\n    },\n    \"upgrade-dependencies\" : {\n      \"ATLAS\": [\"STORM\"],\n      \"HIVE\": [\"TEZ\", \"MAPREDUCE2\", \"SQOOP\"],\n      \"TEZ\": [\"HIVE\"],\n      \"MAPREDUCE2\": [\"HIVE\"],\n      \"OOZIE\": [\"MAPREDUCE2\"]\n    }\n  }\n}","stack_root":"{\"HDP\":\"/usr/hdp\"}","stack_tools":"{\n  \"HDP\": {\n    \"stack_selector\": [\n      \"hdp-select\",\n      \"/usr/bin/hdp-select\",\n      \"hdp-select\"\n    ],\n    \"conf_selector\": [\n      \"conf-select\",\n      \"/usr/bin/conf-select\",\n      \"conf-select\"\n    ]\n  }\n}","sysprep_skip_copy_fast_jar_hdfs":"false","sysprep_skip_copy_oozie_share_lib_to_hdfs":"false","sysprep_skip_copy_tarballs_hdfs":"false","sysprep_skip_create_users_and_groups":"false","sysprep_skip_hive_schema_create":"false","sysprep_skip_lzo_package_operations":"false","sysprep_skip_oozie_schema_create":"false","sysprep_skip_setup_jce":"false","user_group":"hadoop"}}},{"core-site":{"properties_attributes":{},"properties":{"hadoop.proxyuser.oozie.hosts":"ambari-node1.example.com","hadoop.proxyuser.hdfs.groups":"*","hadoop.proxyuser.hdfs.hosts":"*","hadoop.proxyuser.oozie.groups":"*","hadoop.proxyuser.hive.groups":"*","hadoop.proxyuser.root.groups":"*","hadoop.proxyuser.livy.hosts":"*","hadoop.proxyuser.livy.groups":"*","hadoop.proxyuser.root.hosts":"ambari-node1.example.com","hadoop.proxyuser.hive.hosts":"ambari-node1.example.com","fs.azure.user.agent.prefix":"User-Agent: APN/1.0 Hortonworks/1.0 HDP/{{version}}","fs.defaultFS":"hdfs://ambari-node1.example.com:8020","fs.gs.application.name.suffix":" (GPN:Hortonworks; version 1.0) HDP/{{version}}","fs.gs.path.encoding":"uri-path","fs.gs.working.dir":"/","fs.s3a.fast.upload":"true","fs.s3a.fast.upload.buffer":"disk","fs.s3a.multipart.size":"67108864","fs.s3a.user.agent.prefix":"User-Agent: APN/1.0 Hortonworks/1.0 HDP/{{version}}","fs.trash.interval":"360","ha.failover-controller.active-standby-elector.zk.op.retries":"120","hadoop.http.authentication.simple.anonymous.allowed":"true","hadoop.http.cross-origin.allowed-headers":"X-Requested-With,Content-Type,Accept,Origin,WWW-Authenticate,Accept-Encoding,Transfer-Encoding","hadoop.http.cross-origin.allowed-methods":"GET,PUT,POST,OPTIONS,HEAD,DELETE","hadoop.http.cross-origin.allowed-origins":"*","hadoop.http.cross-origin.max-age":"1800","hadoop.http.filter.initializers":"org.apache.hadoop.security.AuthenticationFilterInitializer,org.apache.hadoop.security.HttpCrossOriginFilterInitializer","hadoop.security.auth_to_local":"DEFAULT","hadoop.security.authentication":"simple","hadoop.security.authorization":"false","hadoop.security.instrumentation.requires.admin":"false","io.compression.codecs":"org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.DefaultCodec,org.apache.hadoop.io.compress.SnappyCodec","io.file.buffer.size":"131072","io.serializations":"org.apache.hadoop.io.serializer.WritableSerialization","ipc.client.connect.max.retries":"50","ipc.client.connection.maxidletime":"30000","ipc.client.idlethreshold":"8000","ipc.server.tcpnodelay":"true","mapreduce.jobtracker.webinterface.trusted":"false","net.topology.script.file.name":"/etc/hadoop/conf/topology_script.py"}}},{"hadoop-env":{"properties_attributes":{},"properties":{"content":"\n      # Set Hadoop-specific environment variables here.\n\n      # The only required environment variable is JAVA_HOME.  All others are\n      # optional.  When running a distributed configuration it is best to\n      # set JAVA_HOME in this file, so that it is correctly defined on\n      # remote nodes.\n\n      # The java implementation to use.  Required.\n      export JAVA_HOME={{java_home}}\n      export HADOOP_HOME_WARN_SUPPRESS=1\n\n      # Hadoop home directory\n      export HADOOP_HOME=${HADOOP_HOME:-{{hadoop_home}}}\n\n      # Hadoop Configuration Directory\n\n      {# this is different for HDP1 #}\n      # Path to jsvc required by secure HDP 2.0 datanode\n      export JSVC_HOME={{jsvc_path}}\n\n\n      # The maximum amount of heap to use, in MB. Default is 1000.\n      export HADOOP_HEAPSIZE=\"{{hadoop_heapsize}}\"\n\n      export HADOOP_NAMENODE_INIT_HEAPSIZE=\"-Xms{{namenode_heapsize}}\"\n\n      # Extra Java runtime options.  Empty by default.\n      export HADOOP_OPTS=\"-Djava.net.preferIPv4Stack=true ${HADOOP_OPTS}\"\n\n      USER=\"$(whoami)\"\n\n      # Command specific options appended to HADOOP_OPTS when specified\n      HADOOP_JOBTRACKER_OPTS=\"-server -XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:ErrorFile={{hdfs_log_dir_prefix}}/$USER/hs_err_pid%p.log -XX:NewSize={{jtnode_opt_newsize}} -XX:MaxNewSize={{jtnode_opt_maxnewsize}} -Xloggc:{{hdfs_log_dir_prefix}}/$USER/gc.log-`date +'%Y%m%d%H%M'` -verbose:gc -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -Xmx{{jtnode_heapsize}} -Dhadoop.security.logger=INFO,DRFAS -Dmapred.audit.logger=INFO,MRAUDIT -Dhadoop.mapreduce.jobsummary.logger=INFO,JSA ${HADOOP_JOBTRACKER_OPTS}\"\n\n      HADOOP_TASKTRACKER_OPTS=\"-server -Xmx{{ttnode_heapsize}} -Dhadoop.security.logger=ERROR,console -Dmapred.audit.logger=ERROR,console ${HADOOP_TASKTRACKER_OPTS}\"\n\n      {% if java_version < 8 %}\n      SHARED_HDFS_NAMENODE_OPTS=\"-server -XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:ErrorFile={{hdfs_log_dir_prefix}}/$USER/hs_err_pid%p.log -XX:NewSize={{namenode_opt_newsize}} -XX:MaxNewSize={{namenode_opt_maxnewsize}} -XX:PermSize={{namenode_opt_permsize}} -XX:MaxPermSize={{namenode_opt_maxpermsize}} -Xloggc:{{hdfs_log_dir_prefix}}/$USER/gc.log-`date +'%Y%m%d%H%M'` -verbose:gc -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -XX:CMSInitiatingOccupancyFraction=70 -XX:+UseCMSInitiatingOccupancyOnly -Xms{{namenode_heapsize}} -Xmx{{namenode_heapsize}} -Dhadoop.security.logger=INFO,DRFAS -Dhdfs.audit.logger=INFO,DRFAAUDIT\"\n      export HDFS_NAMENODE_OPTS=\"${SHARED_HDFS_NAMENODE_OPTS} -XX:OnOutOfMemoryError=\\\"/usr/hdp/current/hadoop-hdfs-namenode/bin/kill-name-node\\\" -Dorg.mortbay.jetty.Request.maxFormContentSize=-1 ${HDFS_NAMENODE_OPTS}\"\n      export HDFS_DATANODE_OPTS=\"-server -XX:ParallelGCThreads=4 -XX:+UseConcMarkSweepGC -XX:OnOutOfMemoryError=\\\"/usr/hdp/current/hadoop-hdfs-datanode/bin/kill-data-node\\\" -XX:ErrorFile=/var/log/hadoop/$USER/hs_err_pid%p.log -XX:NewSize=200m -XX:MaxNewSize=200m -XX:PermSize=128m -XX:MaxPermSize=256m -Xloggc:/var/log/hadoop/$USER/gc.log-`date +'%Y%m%d%H%M'` -verbose:gc -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -Xms{{dtnode_heapsize}} -Xmx{{dtnode_heapsize}} -Dhadoop.security.logger=INFO,DRFAS -Dhdfs.audit.logger=INFO,DRFAAUDIT ${HDFS_DATANODE_OPTS} -XX:CMSInitiatingOccupancyFraction=70 -XX:+UseCMSInitiatingOccupancyOnly\"\n\n      export HDFS_SECONDARYNAMENODE_OPTS=\"${SHARED_HDFS_NAMENODE_OPTS} -XX:OnOutOfMemoryError=\\\"/usr/hdp/current/hadoop-hdfs-secondarynamenode/bin/kill-secondary-name-node\\\" ${HDFS_SECONDARYNAMENODE_OPTS}\"\n\n      # The following applies to multiple commands (fs, dfs, fsck, distcp etc)\n      export HADOOP_CLIENT_OPTS=\"-Xmx${HADOOP_HEAPSIZE}m -XX:MaxPermSize=512m $HADOOP_CLIENT_OPTS\"\n\n      {% else %}\n      SHARED_HDFS_NAMENODE_OPTS=\"-server -XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:ErrorFile={{hdfs_log_dir_prefix}}/$USER/hs_err_pid%p.log -XX:NewSize={{namenode_opt_newsize}} -XX:MaxNewSize={{namenode_opt_maxnewsize}} -Xloggc:{{hdfs_log_dir_prefix}}/$USER/gc.log-`date +'%Y%m%d%H%M'` -verbose:gc -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -XX:CMSInitiatingOccupancyFraction=70 -XX:+UseCMSInitiatingOccupancyOnly -Xms{{namenode_heapsize}} -Xmx{{namenode_heapsize}} -Dhadoop.security.logger=INFO,DRFAS -Dhdfs.audit.logger=INFO,DRFAAUDIT\"\n      export HDFS_NAMENODE_OPTS=\"${SHARED_HDFS_NAMENODE_OPTS} -XX:OnOutOfMemoryError=\\\"/usr/hdp/current/hadoop-hdfs-namenode/bin/kill-name-node\\\" -Dorg.mortbay.jetty.Request.maxFormContentSize=-1 ${HDFS_NAMENODE_OPTS}\"\n      export HDFS_DATANODE_OPTS=\"-server -XX:ParallelGCThreads=4 -XX:+UseConcMarkSweepGC -XX:OnOutOfMemoryError=\\\"/usr/hdp/current/hadoop-hdfs-datanode/bin/kill-data-node\\\" -XX:ErrorFile=/var/log/hadoop/$USER/hs_err_pid%p.log -XX:NewSize=200m -XX:MaxNewSize=200m -Xloggc:/var/log/hadoop/$USER/gc.log-`date +'%Y%m%d%H%M'` -verbose:gc -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -Xms{{dtnode_heapsize}} -Xmx{{dtnode_heapsize}} -Dhadoop.security.logger=INFO,DRFAS -Dhdfs.audit.logger=INFO,DRFAAUDIT ${HDFS_DATANODE_OPTS} -XX:CMSInitiatingOccupancyFraction=70 -XX:+UseCMSInitiatingOccupancyOnly\"\n\n      export HDFS_SECONDARYNAMENODE_OPTS=\"${SHARED_HDFS_NAMENODE_OPTS} -XX:OnOutOfMemoryError=\\\"/usr/hdp/current/hadoop-hdfs-secondarynamenode/bin/kill-secondary-name-node\\\" ${HDFS_SECONDARYNAMENODE_OPTS}\"\n\n      # The following applies to multiple commands (fs, dfs, fsck, distcp etc)\n      export HADOOP_CLIENT_OPTS=\"-Xmx${HADOOP_HEAPSIZE}m $HADOOP_CLIENT_OPTS\"\n      {% endif %}\n\n      {% if security_enabled %}\n      export HDFS_NAMENODE_OPTS=\"$HDFS_NAMENODE_OPTS -Djava.security.auth.login.config={{hadoop_conf_dir}}/hdfs_nn_jaas.conf -Djavax.security.auth.useSubjectCredsOnly=false\"\n      export HDFS_SECONDARYNAMENODE_OPTS=\"$HDFS_SECONDARYNAMENODE_OPTS -Djava.security.auth.login.config={{hadoop_conf_dir}}/hdfs_nn_jaas.conf -Djavax.security.auth.useSubjectCredsOnly=false\"\n      export HDFS_DATANODE_OPTS=\"$HDFS_DATANODE_OPTS -Djava.security.auth.login.config={{hadoop_conf_dir}}/hdfs_dn_jaas.conf -Djavax.security.auth.useSubjectCredsOnly=false\"\n      export HADOOP_JOURNALNODE_OPTS=\"$HADOOP_JOURNALNODE_OPTS -Djava.security.auth.login.config={{hadoop_conf_dir}}/hdfs_jn_jaas.conf -Djavax.security.auth.useSubjectCredsOnly=false\"\n      {% endif %}\n\n      HDFS_NFS3_OPTS=\"-Xmx{{nfsgateway_heapsize}}m -Dhadoop.security.logger=ERROR,DRFAS ${HDFS_NFS3_OPTS}\"\n      HADOOP_BALANCER_OPTS=\"-server -Xmx{{hadoop_heapsize}}m ${HADOOP_BALANCER_OPTS}\"\n\n\n      # On secure datanodes, user to run the datanode as after dropping privileges\n      export HDFS_DATANODE_SECURE_USER=${HDFS_DATANODE_SECURE_USER:-{{hadoop_secure_dn_user}}}\n\n      # Extra ssh options.  Empty by default.\n      export HADOOP_SSH_OPTS=\"-o ConnectTimeout=5 -o SendEnv=HADOOP_CONF_DIR\"\n\n      # Where log files are stored.  $HADOOP_HOME/logs by default.\n      export HADOOP_LOG_DIR={{hdfs_log_dir_prefix}}/$USER\n\n      # Where log files are stored in the secure data environment.\n      export HADOOP_SECURE_LOG_DIR=${HADOOP_SECURE_LOG_DIR:-{{hdfs_log_dir_prefix}}/$HDFS_DATANODE_SECURE_USER}\n\n      # File naming remote slave hosts.  $HADOOP_HOME/conf/slaves by default.\n      # export HADOOP_WORKERS=${HADOOP_HOME}/conf/slaves\n\n      # host:path where hadoop code should be rsync'd from.  Unset by default.\n      # export HADOOP_MASTER=master:/home/$USER/src/hadoop\n\n      # Seconds to sleep between slave commands.  Unset by default.  This\n      # can be useful in large clusters, where, e.g., slave rsyncs can\n      # otherwise arrive faster than the master can service them.\n      # export HADOOP_WORKER_SLEEP=0.1\n\n      # The directory where pid files are stored. /tmp by default.\n      export HADOOP_PID_DIR={{hadoop_pid_dir_prefix}}/$USER\n      export HADOOP_SECURE_PID_DIR=${HADOOP_SECURE_PID_DIR:-{{hadoop_pid_dir_prefix}}/$HDFS_DATANODE_SECURE_USER}\n\n      YARN_RESOURCEMANAGER_OPTS=\"-Dyarn.server.resourcemanager.appsummary.logger=INFO,RMSUMMARY\"\n\n      # A string representing this instance of hadoop. $USER by default.\n      export HADOOP_IDENT_STRING=$USER\n\n      # The scheduling priority for daemon processes.  See 'man nice'.\n\n      # export HADOOP_NICENESS=10\n\n      # Add database libraries\n      JAVA_JDBC_LIBS=\"\"\n      if [ -d \"/usr/share/java\" ]; then\n      for jarFile in `ls /usr/share/java | grep -E \"(mysql|ojdbc|postgresql|sqljdbc)\" 2>/dev/null`\n      do\n      JAVA_JDBC_LIBS=${JAVA_JDBC_LIBS}:$jarFile\n      done\n      fi\n\n      # Add libraries to the hadoop classpath - some may not need a colon as they already include it\n      export HADOOP_CLASSPATH=${HADOOP_CLASSPATH}${JAVA_JDBC_LIBS}\n\n      # Setting path to hdfs command line\n      export HADOOP_LIBEXEC_DIR={{hadoop_libexec_dir}}\n\n      # Mostly required for hadoop 2.0\n      export JAVA_LIBRARY_PATH=${JAVA_LIBRARY_PATH}:{{hadoop_lib_home}}/native/Linux-{{architecture}}-64\n\n      {% if zk_principal_user is defined %}\n      HADOOP_OPTS=\"-Dzookeeper.sasl.client.username={{zk_principal_user}} $HADOOP_OPTS\"\n      {% endif %}\n\n      export HADOOP_OPTS=\"-Dhdp.version=$HDP_VERSION $HADOOP_OPTS\"\n\n\n      # Fix temporary bug, when ulimit from conf files is not picked up, without full relogin.\n      # Makes sense to fix only when runing DN as root\n      if [ \"$command\" == \"datanode\" ] && [ \"$EUID\" -eq 0 ] && [ -n \"$HDFS_DATANODE_SECURE_USER\" ]; then\n      {% if is_datanode_max_locked_memory_set %}\n      ulimit -l {{datanode_max_locked_memory}}\n      {% endif %}\n      ulimit -n {{hdfs_user_nofile_limit}}\n      fi\n      # Enable ACLs on zookeper znodes if required\n      {% if hadoop_zkfc_opts is defined %}\n      export HDFS_ZKFC_OPTS=\"{{hadoop_zkfc_opts}} $HDFS_ZKFC_OPTS\"\n      {% endif %}","dtnode_heapsize":"1024","hadoop_heapsize":"1024","hadoop_pid_dir_prefix":"/var/run/hadoop","hadoop_root_logger":"INFO,RFA","hdfs_log_dir_prefix":"/var/log/hadoop","hdfs_principal_name":null,"hdfs_tmp_dir":"/tmp","hdfs_user_keytab":null,"hdfs_user_nofile_limit":"128000","hdfs_user_nproc_limit":"65536","keyserver_host":" ","keyserver_port":"","namenode_backup_dir":"/tmp/upgrades","namenode_heapsize":"1024","namenode_opt_maxnewsize":"128","namenode_opt_maxpermsize":"256","namenode_opt_newsize":"128","namenode_opt_permsize":"128","nfsgateway_heapsize":"1024","hdfs_user":"hdfs","proxyuser_group":"users"}}},{"hadoop-metrics2.properties":{"properties_attributes":{},"properties":{"content":"\n{% if has_ganglia_server %}\n*.period=60\n\n*.sink.ganglia.class=org.apache.hadoop.metrics2.sink.ganglia.GangliaSink31\n*.sink.ganglia.period=10\n\n# default for supportsparse is false\n*.sink.ganglia.supportsparse=true\n\n.sink.ganglia.slope=jvm.metrics.gcCount=zero,jvm.metrics.memHeapUsedM=both\n.sink.ganglia.dmax=jvm.metrics.threadsBlocked=70,jvm.metrics.memHeapUsedM=40\n\n# Hook up to the server\nnamenode.sink.ganglia.servers={{ganglia_server_host}}:8661\ndatanode.sink.ganglia.servers={{ganglia_server_host}}:8659\njobtracker.sink.ganglia.servers={{ganglia_server_host}}:8662\ntasktracker.sink.ganglia.servers={{ganglia_server_host}}:8658\nmaptask.sink.ganglia.servers={{ganglia_server_host}}:8660\nreducetask.sink.ganglia.servers={{ganglia_server_host}}:8660\nresourcemanager.sink.ganglia.servers={{ganglia_server_host}}:8664\nnodemanager.sink.ganglia.servers={{ganglia_server_host}}:8657\nhistoryserver.sink.ganglia.servers={{ganglia_server_host}}:8666\njournalnode.sink.ganglia.servers={{ganglia_server_host}}:8654\nnimbus.sink.ganglia.servers={{ganglia_server_host}}:8649\nsupervisor.sink.ganglia.servers={{ganglia_server_host}}:8650\n\nresourcemanager.sink.ganglia.tagsForPrefix.yarn=Queue\n\n{% endif %}\n\n{% if has_metric_collector %}\n\n*.period={{metrics_collection_period}}\n*.sink.timeline.plugin.urls=file:///usr/lib/ambari-metrics-hadoop-sink/ambari-metrics-hadoop-sink.jar\n*.sink.timeline.class=org.apache.hadoop.metrics2.sink.timeline.HadoopTimelineMetricsSink\n*.sink.timeline.period={{metrics_collection_period}}\n*.sink.timeline.sendInterval={{metrics_report_interval}}000\n*.sink.timeline.slave.host.name={{hostname}}\n*.sink.timeline.zookeeper.quorum={{zookeeper_quorum}}\n*.sink.timeline.protocol={{metric_collector_protocol}}\n*.sink.timeline.port={{metric_collector_port}}\n*.sink.timeline.instanceId = {{cluster_name}}\n*.sink.timeline.set.instanceId = {{set_instanceId}}\n*.sink.timeline.host_in_memory_aggregation = {{host_in_memory_aggregation}}\n*.sink.timeline.host_in_memory_aggregation_port = {{host_in_memory_aggregation_port}}\n{% if is_aggregation_https_enabled %}\n*.sink.timeline.host_in_memory_aggregation_protocol = {{host_in_memory_aggregation_protocol}}\n{% endif %}\n\n# HTTPS properties\n*.sink.timeline.truststore.path = {{metric_truststore_path}}\n*.sink.timeline.truststore.type = {{metric_truststore_type}}\n*.sink.timeline.truststore.password = {{metric_truststore_password}}\n\ndatanode.sink.timeline.collector.hosts={{ams_collector_hosts}}\nnamenode.sink.timeline.collector.hosts={{ams_collector_hosts}}\nresourcemanager.sink.timeline.collector.hosts={{ams_collector_hosts}}\nnodemanager.sink.timeline.collector.hosts={{ams_collector_hosts}}\njobhistoryserver.sink.timeline.collector.hosts={{ams_collector_hosts}}\njournalnode.sink.timeline.collector.hosts={{ams_collector_hosts}}\nmaptask.sink.timeline.collector.hosts={{ams_collector_hosts}}\nreducetask.sink.timeline.collector.hosts={{ams_collector_hosts}}\napplicationhistoryserver.sink.timeline.collector.hosts={{ams_collector_hosts}}\n\nresourcemanager.sink.timeline.tagsForPrefix.yarn=Queue\n\n{% if is_nn_client_port_configured %}\n# Namenode rpc ports customization\nnamenode.sink.timeline.metric.rpc.client.port={{nn_rpc_client_port}}\n{% endif %}\n{% if is_nn_dn_port_configured %}\nnamenode.sink.timeline.metric.rpc.datanode.port={{nn_rpc_dn_port}}\n{% endif %}\n{% if is_nn_healthcheck_port_configured %}\nnamenode.sink.timeline.metric.rpc.healthcheck.port={{nn_rpc_healthcheck_port}}\n{% endif %}\n\n{% endif %}"}}},{"hadoop-policy":{"properties_attributes":{},"properties":{"security.admin.operations.protocol.acl":"hadoop","security.client.datanode.protocol.acl":"*","security.client.protocol.acl":"*","security.datanode.protocol.acl":"*","security.inter.datanode.protocol.acl":"*","security.inter.tracker.protocol.acl":"*","security.job.client.protocol.acl":"*","security.job.task.protocol.acl":"*","security.namenode.protocol.acl":"*","security.refresh.policy.protocol.acl":"hadoop","security.refresh.usertogroups.mappings.protocol.acl":"hadoop"}}},{"hdfs-log4j":{"properties_attributes":{},"properties":{"content":"\n#\n# Licensed to the Apache Software Foundation (ASF) under one\n# or more contributor license agreements.  See the NOTICE file\n# distributed with this work for additional information\n# regarding copyright ownership.  The ASF licenses this file\n# to you under the Apache License, Version 2.0 (the\n# \"License\"); you may not use this file except in compliance\n# with the License.  You may obtain a copy of the License at\n#\n#  http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing,\n# software distributed under the License is distributed on an\n# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n# KIND, either express or implied.  See the License for the\n# specific language governing permissions and limitations\n# under the License.\n#\n\n\n# Define some default values that can be overridden by system properties\n# To change daemon root logger use hadoop_root_logger in hadoop-env\nhadoop.root.logger=INFO,console\nhadoop.log.dir=.\nhadoop.log.file=hadoop.log\n\n\n# Define the root logger to the system property \"hadoop.root.logger\".\nlog4j.rootLogger=${hadoop.root.logger}, EventCounter\n\n# Logging Threshold\nlog4j.threshhold=ALL\n\n#\n# Daily Rolling File Appender\n#\n\nlog4j.appender.DRFA=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.DRFA.File=${hadoop.log.dir}/${hadoop.log.file}\n\n# Rollver at midnight\nlog4j.appender.DRFA.DatePattern=.yyyy-MM-dd\n\n# 30-day backup\n#log4j.appender.DRFA.MaxBackupIndex=30\nlog4j.appender.DRFA.layout=org.apache.log4j.PatternLayout\n\n# Pattern format: Date LogLevel LoggerName LogMessage\nlog4j.appender.DRFA.layout.ConversionPattern=%d{ISO8601} %p %c: %m%n\n# Debugging Pattern format\n#log4j.appender.DRFA.layout.ConversionPattern=%d{ISO8601} %-5p %c{2} (%F:%M(%L)) - %m%n\n\n\n#\n# console\n# Add \"console\" to rootlogger above if you want to use this\n#\n\nlog4j.appender.console=org.apache.log4j.ConsoleAppender\nlog4j.appender.console.target=System.err\nlog4j.appender.console.layout=org.apache.log4j.PatternLayout\nlog4j.appender.console.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss} %p %c{2}: %m%n\n\n#\n# TaskLog Appender\n#\n\n#Default values\nhadoop.tasklog.taskid=null\nhadoop.tasklog.iscleanup=false\nhadoop.tasklog.noKeepSplits=4\nhadoop.tasklog.totalLogFileSize=100\nhadoop.tasklog.purgeLogSplits=true\nhadoop.tasklog.logsRetainHours=12\n\nlog4j.appender.TLA=org.apache.hadoop.mapred.TaskLogAppender\nlog4j.appender.TLA.taskId=${hadoop.tasklog.taskid}\nlog4j.appender.TLA.isCleanup=${hadoop.tasklog.iscleanup}\nlog4j.appender.TLA.totalLogFileSize=${hadoop.tasklog.totalLogFileSize}\n\nlog4j.appender.TLA.layout=org.apache.log4j.PatternLayout\nlog4j.appender.TLA.layout.ConversionPattern=%d{ISO8601} %p %c: %m%n\n\n#\n#Security audit appender\n#\nhadoop.security.logger=INFO,console\nhadoop.security.log.maxfilesize={{hadoop_security_log_max_backup_size}}MB\nhadoop.security.log.maxbackupindex={{hadoop_security_log_number_of_backup_files}}\nlog4j.category.SecurityLogger=${hadoop.security.logger}\nhadoop.security.log.file=SecurityAuth.audit\nlog4j.additivity.SecurityLogger=false\nlog4j.appender.DRFAS=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.DRFAS.File=${hadoop.log.dir}/${hadoop.security.log.file}\nlog4j.appender.DRFAS.layout=org.apache.log4j.PatternLayout\nlog4j.appender.DRFAS.layout.ConversionPattern=%d{ISO8601} %p %c: %m%n\nlog4j.appender.DRFAS.DatePattern=.yyyy-MM-dd\n\nlog4j.appender.RFAS=org.apache.log4j.RollingFileAppender\nlog4j.appender.RFAS.File=${hadoop.log.dir}/${hadoop.security.log.file}\nlog4j.appender.RFAS.layout=org.apache.log4j.PatternLayout\nlog4j.appender.RFAS.layout.ConversionPattern=%d{ISO8601} %p %c: %m%n\nlog4j.appender.RFAS.MaxFileSize=${hadoop.security.log.maxfilesize}\nlog4j.appender.RFAS.MaxBackupIndex=${hadoop.security.log.maxbackupindex}\n\n#\n# hdfs audit logging\n#\nhdfs.audit.logger=INFO,console\nlog4j.logger.org.apache.hadoop.hdfs.server.namenode.FSNamesystem.audit=${hdfs.audit.logger}\nlog4j.additivity.org.apache.hadoop.hdfs.server.namenode.FSNamesystem.audit=false\nlog4j.appender.DRFAAUDIT=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.DRFAAUDIT.File=${hadoop.log.dir}/hdfs-audit.log\nlog4j.appender.DRFAAUDIT.layout=org.apache.log4j.PatternLayout\nlog4j.appender.DRFAAUDIT.layout.ConversionPattern=%d{ISO8601} %p %c{2}: %m%n\nlog4j.appender.DRFAAUDIT.DatePattern=.yyyy-MM-dd\n\n#\n# NameNode metrics logging.\n# The default is to retain two namenode-metrics.log files up to 64MB each.\n#\nnamenode.metrics.logger=INFO,NullAppender\nlog4j.logger.NameNodeMetricsLog=${namenode.metrics.logger}\nlog4j.additivity.NameNodeMetricsLog=false\nlog4j.appender.NNMETRICSRFA=org.apache.log4j.RollingFileAppender\nlog4j.appender.NNMETRICSRFA.File=${hadoop.log.dir}/namenode-metrics.log\nlog4j.appender.NNMETRICSRFA.layout=org.apache.log4j.PatternLayout\nlog4j.appender.NNMETRICSRFA.layout.ConversionPattern=%d{ISO8601} %m%n\nlog4j.appender.NNMETRICSRFA.MaxBackupIndex=1\nlog4j.appender.NNMETRICSRFA.MaxFileSize=64MB\n\n#\n# mapred audit logging\n#\nmapred.audit.logger=INFO,console\nlog4j.logger.org.apache.hadoop.mapred.AuditLogger=${mapred.audit.logger}\nlog4j.additivity.org.apache.hadoop.mapred.AuditLogger=false\nlog4j.appender.MRAUDIT=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.MRAUDIT.File=${hadoop.log.dir}/mapred-audit.log\nlog4j.appender.MRAUDIT.layout=org.apache.log4j.PatternLayout\nlog4j.appender.MRAUDIT.layout.ConversionPattern=%d{ISO8601} %p %c{2}: %m%n\nlog4j.appender.MRAUDIT.DatePattern=.yyyy-MM-dd\n\n#\n# Rolling File Appender\n#\n\nlog4j.appender.RFA=org.apache.log4j.RollingFileAppender\nlog4j.appender.RFA.File=${hadoop.log.dir}/${hadoop.log.file}\n\n# Logfile size and and 30-day backups\nlog4j.appender.RFA.MaxFileSize={{hadoop_log_max_backup_size}}MB\nlog4j.appender.RFA.MaxBackupIndex={{hadoop_log_number_of_backup_files}}\n\nlog4j.appender.RFA.layout=org.apache.log4j.PatternLayout\nlog4j.appender.RFA.layout.ConversionPattern=%d{ISO8601} %-5p %c{2} - %m%n\nlog4j.appender.RFA.layout.ConversionPattern=%d{ISO8601} %-5p %c{2} (%F:%M(%L)) - %m%n\n\n\n# Custom Logging levels\n\nhadoop.metrics.log.level=INFO\n#log4j.logger.org.apache.hadoop.mapred.JobTracker=DEBUG\n#log4j.logger.org.apache.hadoop.mapred.TaskTracker=DEBUG\n#log4j.logger.org.apache.hadoop.fs.FSNamesystem=DEBUG\nlog4j.logger.org.apache.hadoop.metrics2=${hadoop.metrics.log.level}\n\n# Jets3t library\nlog4j.logger.org.jets3t.service.impl.rest.httpclient.RestS3Service=ERROR\n\n#\n# Null Appender\n# Trap security logger on the hadoop client side\n#\nlog4j.appender.NullAppender=org.apache.log4j.varia.NullAppender\n\n#\n# Event Counter Appender\n# Sends counts of logging messages at different severity levels to Hadoop Metrics.\n#\nlog4j.appender.EventCounter=org.apache.hadoop.log.metrics.EventCounter\n\n# Removes \"deprecated\" messages\nlog4j.logger.org.apache.hadoop.conf.Configuration.deprecation=WARN\n\n#\n# HDFS block state change log from block manager\n#\n# Uncomment the following to suppress normal block state change\n# messages from BlockManager in NameNode.\n#log4j.logger.BlockStateChange=WARN\n\n# Adding logging for 3rd party library\nlog4j.logger.org.apache.commons.beanutils=WARN","hadoop_log_max_backup_size":"256","hadoop_log_number_of_backup_files":"10","hadoop_security_log_max_backup_size":"256","hadoop_security_log_number_of_backup_files":"20"}}},{"hdfs-site":{"properties_attributes":{},"properties":{"dfs.block.access.token.enable":"true","dfs.blockreport.initialDelay":"120","dfs.blocksize":"134217728","dfs.client.read.shortcircuit":"true","dfs.client.read.shortcircuit.streams.cache.size":"4096","dfs.client.retry.policy.enabled":"false","dfs.cluster.administrators":" hdfs","dfs.content-summary.limit":"5000","dfs.datanode.address":"0.0.0.0:50010","dfs.datanode.balance.bandwidthPerSec":"6250000","dfs.datanode.data.dir":"/hadoop/hdfs/data","dfs.datanode.data.dir.perm":"750","dfs.datanode.du.reserved":"6589679104","dfs.datanode.failed.volumes.tolerated":"0","dfs.datanode.http.address":"0.0.0.0:50075","dfs.datanode.https.address":"0.0.0.0:50475","dfs.datanode.ipc.address":"0.0.0.0:8010","dfs.datanode.max.transfer.threads":"4096","dfs.domain.socket.path":"/var/lib/hadoop-hdfs/dn_socket","dfs.encrypt.data.transfer.cipher.suites":"AES/CTR/NoPadding","dfs.heartbeat.interval":"3","dfs.hosts.exclude":"/etc/hadoop/conf/dfs.exclude","dfs.http.policy":"HTTP_ONLY","dfs.https.port":"50470","dfs.journalnode.edits.dir":"/hadoop/hdfs/journalnode","dfs.journalnode.http-address":"0.0.0.0:8480","dfs.journalnode.https-address":"0.0.0.0:8481","dfs.namenode.accesstime.precision":"0","dfs.namenode.acls.enabled":"true","dfs.namenode.audit.log.async":"true","dfs.namenode.avoid.read.stale.datanode":"true","dfs.namenode.avoid.write.stale.datanode":"true","dfs.namenode.checkpoint.dir":"/hadoop/hdfs/namesecondary","dfs.namenode.checkpoint.edits.dir":"${dfs.namenode.checkpoint.dir}","dfs.namenode.checkpoint.period":"21600","dfs.namenode.checkpoint.txns":"1000000","dfs.namenode.fslock.fair":"false","dfs.namenode.handler.count":"50","dfs.namenode.http-address":"ambari-node1.example.com:50070","dfs.namenode.https-address":"ambari-node1.example.com:50470","dfs.namenode.name.dir":"/hadoop/hdfs/namenode","dfs.namenode.name.dir.restore":"true","dfs.namenode.rpc-address":"ambari-node1.example.com:8020","dfs.namenode.safemode.threshold-pct":"1","dfs.namenode.secondary.http-address":"ambari-node1.example.com:50090","dfs.namenode.stale.datanode.interval":"30000","dfs.namenode.startup.delay.block.deletion.sec":"3600","dfs.namenode.write.stale.datanode.ratio":"1.0f","dfs.permissions.ContentSummary.subAccess":"false","dfs.permissions.enabled":"true","dfs.replication":"3","dfs.replication.max":"50","dfs.webhdfs.enabled":"true","fs.permissions.umask-mode":"022","hadoop.caller.context.enabled":"true","manage.include.files":"false","nfs.exports.allowed.hosts":"* rw","nfs.file.dump.dir":"/tmp/.hdfs-nfs","dfs.permissions.superusergroup":"hdfs"}}},{"ranger-hdfs-audit":{"properties_attributes":{},"properties":{}}},{"ranger-hdfs-plugin-properties":{"properties_attributes":{},"properties":{}}},{"ranger-hdfs-policymgr-ssl":{"properties_attributes":{},"properties":{}}},{"ranger-hdfs-security":{"properties_attributes":{},"properties":{}}},{"ssl-client":{"properties_attributes":{},"properties":{"ssl.client.keystore.location":"admin","ssl.client.keystore.password":"admin1234","ssl.client.keystore.type":"jks","ssl.client.truststore.location":"","ssl.client.truststore.password":"","ssl.client.truststore.reload.interval":"10000","ssl.client.truststore.type":"jks"}}},{"ssl-server":{"properties_attributes":{},"properties":{"ssl.server.keystore.keypassword":"bigdata","ssl.server.keystore.location":"/etc/security/serverKeys/keystore.jks","ssl.server.keystore.password":"bigdata","ssl.server.keystore.type":"jks","ssl.server.truststore.location":"/etc/security/serverKeys/all.jks","ssl.server.truststore.password":"bigdata","ssl.server.truststore.reload.interval":"10000","ssl.server.truststore.type":"jks"}}},{"viewfs-mount-table":{"properties_attributes":{},"properties":{"content":" "}}},{"capacity-scheduler":{"properties_attributes":{},"properties":{"yarn.scheduler.capacity.default.minimum-user-limit-percent":"100","yarn.scheduler.capacity.schedule-asynchronously.enable":"true","yarn.scheduler.capacity.root.accessible-node-labels":"*","yarn.scheduler.capacity.root.capacity":"100","yarn.scheduler.capacity.maximum-am-resource-percent":"0.2","yarn.scheduler.capacity.maximum-applications":"10000","yarn.scheduler.capacity.root.default.user-limit-factor":"1","yarn.scheduler.capacity.node-locality-delay":"40","yarn.scheduler.capacity.root.acl_submit_applications":"*","yarn.scheduler.capacity.root.default.acl_submit_applications":"*","yarn.scheduler.capacity.root.default.state":"RUNNING","yarn.scheduler.capacity.root.default.capacity":"100","yarn.scheduler.capacity.root.acl_administer_queue":"*","yarn.scheduler.capacity.root.default.maximum-capacity":"100","yarn.scheduler.capacity.root.queues":"default","yarn.scheduler.capacity.schedule-asynchronously.maximum-threads":"1","yarn.scheduler.capacity.root.default.acl_administer_jobs":"*","yarn.scheduler.capacity.schedule-asynchronously.scheduling-interval-ms":"10","yarn.scheduler.capacity.resource-calculator":"org.apache.hadoop.yarn.util.resource.DefaultResourceCalculator"}}},{"container-executor":{"properties_attributes":{},"properties":{"cgroup_root":"","content":"{#\n# Licensed to the Apache Software Foundation (ASF) under one\n# or more contributor license agreements.  See the NOTICE file\n# distributed with this work for additional information\n# regarding copyright ownership.  The ASF licenses this file\n# to you under the Apache License, Version 2.0 (the\n# \"License\"); you may not use this file except in compliance\n# with the License.  You may obtain a copy of the License at\n#\n#   http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n#}\n\n#/*\n# * Licensed to the Apache Software Foundation (ASF) under one\n# * or more contributor license agreements.  See the NOTICE file\n# * distributed with this work for additional information\n# * regarding copyright ownership.  The ASF licenses this file\n# * to you under the Apache License, Version 2.0 (the\n# * \"License\"); you may not use this file except in compliance\n# * with the License.  You may obtain a copy of the License at\n# *\n# *     http://www.apache.org/licenses/LICENSE-2.0\n# *\n# * Unless required by applicable law or agreed to in writing, software\n# * distributed under the License is distributed on an \"AS IS\" BASIS,\n# * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# * See the License for the specific language governing permissions and\n# * limitations under the License.\n# */\nyarn.nodemanager.local-dirs={{nm_local_dirs}}\nyarn.nodemanager.log-dirs={{nm_log_dirs}}\nyarn.nodemanager.linux-container-executor.group={{yarn_executor_container_group}}\nbanned.users=hdfs,yarn,mapred,bin\nmin.user.id={{min_user_id}}\n\n{{ '[docker]' }}\n  module.enabled={{docker_module_enabled}}\n  docker.binary={{docker_binary}}\n  docker.allowed.capabilities={{docker_allowed_capabilities}}\n  docker.allowed.devices={{docker_allowed_devices}}\n  docker.allowed.networks={{docker_allowed_networks}}\n  docker.allowed.ro-mounts={{nm_local_dirs}},{{docker_allowed_ro_mounts}}\n  docker.allowed.rw-mounts={{nm_local_dirs}},{{nm_log_dirs}},{{docker_allowed_rw_mounts}}\n  docker.privileged-containers.enabled={{docker_privileged_containers_enabled}}\n  docker.trusted.registries={{docker_trusted_registries}}\n  docker.allowed.volume-drivers={{docker_allowed_volume_drivers}}\n\n{{ '[gpu]' }}\n  module.enabled={{gpu_module_enabled}}\n\n{{ '[cgroups]' }}\n  root={{cgroup_root}}\n  yarn-hierarchy={{yarn_hierarchy}}","docker_allowed_devices":"","docker_allowed_ro-mounts":"","docker_allowed_rw-mounts":"","docker_allowed_volume-drivers":"","docker_binary":"/usr/bin/docker","docker_module_enabled":"false","docker_privileged-containers_enabled":"false","docker_trusted_registries":"","gpu_module_enabled":"false","min_user_id":"1000","yarn_hierarchy":""}}},{"ranger-yarn-audit":{"properties_attributes":{},"properties":{}}},{"ranger-yarn-plugin-properties":{"properties_attributes":{},"properties":{}}},{"ranger-yarn-policymgr-ssl":{"properties_attributes":{},"properties":{}}},{"ranger-yarn-security":{"properties_attributes":{},"properties":{}}},{"resource-types":{"properties_attributes":{},"properties":{"yarn.resource-types":"","yarn.resource-types.yarn.io_gpu.maximum-allocation":"8"}}},{"yarn-env":{"properties_attributes":{},"properties":{"min_user_id":"1000","apptimelineserver_heapsize":"8072","content":"\nexport HADOOP_YARN_HOME={{hadoop_yarn_home}}\nexport HADOOP_LOG_DIR={{yarn_log_dir}}\nexport HADOOP_SECURE_LOG_DIR={{yarn_log_dir}}\nexport HADOOP_PID_DIR={{yarn_pid_dir}}\nexport HADOOP_SECURE_PID_DIR={{yarn_pid_dir}}\nexport HADOOP_LIBEXEC_DIR={{hadoop_libexec_dir}}\nexport JAVA_HOME={{java64_home}}\nexport JAVA_LIBRARY_PATH=\"${JAVA_LIBRARY_PATH}:{{hadoop_java_io_tmpdir}}\"\n\n# We need to add the EWMA and RFA appender for the yarn daemons only;\n# however, HADOOP_ROOT_LOGGER is shared by the yarn client and the\n# daemons. This is restrict the EWMA appender to daemons only.\nexport HADOOP_LOGLEVEL=${HADOOP_LOGLEVEL:-INFO}\nexport HADOOP_ROOT_LOGGER=${HADOOP_ROOT_LOGGER:-INFO,console}\nexport HADOOP_DAEMON_ROOT_LOGGER=${HADOOP_DAEMON_ROOT_LOGGER:-${HADOOP_LOGLEVEL},EWMA,RFA}\n\n# User for YARN daemons\nexport HADOOP_YARN_USER=${HADOOP_YARN_USER:-yarn}\n\n# some Java parameters\n# export JAVA_HOME=/home/y/libexec/jdk1.6.0/\nif [ \"$JAVA_HOME\" != \"\" ]; then\n#echo \"run java in $JAVA_HOME\"\nJAVA_HOME=$JAVA_HOME\nfi\n\nif [ \"$JAVA_HOME\" = \"\" ]; then\necho \"Error: JAVA_HOME is not set.\"\nexit 1\nfi\n\nJAVA=$JAVA_HOME/bin/java\nJAVA_HEAP_MAX=-Xmx1000m\n\n# For setting YARN specific HEAP sizes please use this\n# Parameter and set appropriately\nYARN_HEAPSIZE={{yarn_heapsize}}\n\n# check envvars which might override default args\nif [ \"$YARN_HEAPSIZE\" != \"\" ]; then\nJAVA_HEAP_MAX=\"-Xmx\"\"$YARN_HEAPSIZE\"\"m\"\nfi\n\n# Resource Manager specific parameters\n\n# Specify the max Heapsize for the ResourceManager using a numerical value\n# in the scale of MB. For example, to specify an jvm option of -Xmx1000m, set\n# the value to 1000.\n# This value will be overridden by an Xmx setting specified in either HADOOP_OPTS\n# and/or YARN_RESOURCEMANAGER_OPTS.\n# If not specified, the default value will be picked from either YARN_HEAPMAX\n# or JAVA_HEAP_MAX with YARN_HEAPMAX as the preferred option of the two.\nexport YARN_RESOURCEMANAGER_HEAPSIZE={{resourcemanager_heapsize}}\n\n# Specify the JVM options to be used when starting the ResourceManager.\n# These options will be appended to the options specified as HADOOP_OPTS\n# and therefore may override any similar flags set in HADOOP_OPTS\n{% if security_enabled %}\nexport YARN_RESOURCEMANAGER_OPTS=\"-Djava.security.auth.login.config={{yarn_jaas_file}}\"\n{% endif %}\n\n# Node Manager specific parameters\n\n# Specify the max Heapsize for the NodeManager using a numerical value\n# in the scale of MB. For example, to specify an jvm option of -Xmx1000m, set\n# the value to 1000.\n# This value will be overridden by an Xmx setting specified in either HADOOP_OPTS\n# and/or YARN_NODEMANAGER_OPTS.\n# If not specified, the default value will be picked from either YARN_HEAPMAX\n# or JAVA_HEAP_MAX with YARN_HEAPMAX as the preferred option of the two.\nexport YARN_NODEMANAGER_HEAPSIZE={{nodemanager_heapsize}}\n\n# Specify the max Heapsize for the timeline server using a numerical value\n# in the scale of MB. For example, to specify an jvm option of -Xmx1000m, set\n# the value to 1024.\n# This value will be overridden by an Xmx setting specified in either HADOOP_OPTS\n# and/or YARN_TIMELINESERVER_OPTS.\n# If not specified, the default value will be picked from either YARN_HEAPMAX\n# or JAVA_HEAP_MAX with YARN_HEAPMAX as the preferred option of the two.\nexport YARN_TIMELINESERVER_HEAPSIZE={{apptimelineserver_heapsize}}\n\n{% if security_enabled %}\nexport YARN_TIMELINESERVER_OPTS=\"-Djava.security.auth.login.config={{yarn_ats_jaas_file}}\"\n{% endif %}\n\n{% if security_enabled %}\nexport YARN_TIMELINEREADER_OPTS=\"-Djava.security.auth.login.config={{yarn_ats_jaas_file}}\"\n{% endif %}\n\n{% if security_enabled %}\nexport YARN_REGISTRYDNS_OPTS=\"-Djava.security.auth.login.config={{yarn_registry_dns_jaas_file}}\"\n{% endif %}\n\n# Specify the JVM options to be used when starting the NodeManager.\n# These options will be appended to the options specified as HADOOP_OPTS\n# and therefore may override any similar flags set in HADOOP_OPTS\n{% if security_enabled %}\nexport YARN_NODEMANAGER_OPTS=\"-Djava.security.auth.login.config={{yarn_nm_jaas_file}} -Dsun.security.krb5.rcache=none\"\n{% endif %}\n\n# so that filenames w/ spaces are handled correctly in loops below\nIFS=\n\n\n# default log directory and file\nif [ \"$HADOOP_LOG_DIR\" = \"\" ]; then\nHADOOP_LOG_DIR=\"$HADOOP_YARN_HOME/logs\"\nfi\nif [ \"$HADOOP_LOGFILE\" = \"\" ]; then\nHADOOP_LOGFILE='yarn.log'\nfi\n\n# default policy file for service-level authorization\nif [ \"$YARN_POLICYFILE\" = \"\" ]; then\nYARN_POLICYFILE=\"hadoop-policy.xml\"\nfi\n\n# restore ordinary behaviour\nunset IFS\n\n# YARN now uses specific subcommand options of the pattern (command)_(subcommand)_OPTS for every\n# component. Because of this, HADDOP_OPTS is now used as a simple way to specify common properties\n# between all YARN components.\nHADOOP_OPTS=\"$HADOOP_OPTS -Dyarn.id.str=$YARN_IDENT_STRING\"\nHADOOP_OPTS=\"$HADOOP_OPTS -Dyarn.policy.file=$YARN_POLICYFILE\"\nHADOOP_OPTS=\"$HADOOP_OPTS -Djava.io.tmpdir={{hadoop_java_io_tmpdir}}\"\n\n{% if security_enabled %}\nHADOOP_OPTS=\"$HADOOP_OPTS -Djavax.security.auth.useSubjectCredsOnly=false\"\n{% endif %}\n\n{% if rm_security_opts is defined %}\nHADOOP_OPTS=\"{{rm_security_opts}} $HADOOP_OPTS\"\n{% endif %}\n\nexport YARN_NODEMANAGER_OPTS=\"$YARN_NODEMANAGER_OPTS -Dnm.audit.logger=INFO,NMAUDIT\"\nexport YARN_RESOURCEMANAGER_OPTS=\"$YARN_RESOURCEMANAGER_OPTS -Dyarn.server.resourcemanager.appsummary.logger=INFO,RMSUMMARY -Drm.audit.logger=INFO,RMAUDIT\"\n\n{% if registry_dns_needs_privileged_access %}\n# If the DNS server is configured to use the standard privileged port 53,\n# the environment variables YARN_REGISTRYDNS_SECURE_USER and\n# YARN_REGISTRYDNS_SECURE_EXTRA_OPTS must be set.\nexport YARN_REGISTRYDNS_SECURE_USER={{yarn_user}}\nexport YARN_REGISTRYDNS_SECURE_EXTRA_OPTS=\"-jvm server\"\n{% endif %}","is_supported_yarn_ranger":"true","nodemanager_heapsize":"1024","registry.dns.bind-port":"53","resourcemanager_heapsize":"1024","service_check.queue.name":"default","yarn_ats_principal_name":null,"yarn_ats_user_keytab":null,"yarn_cgroups_enabled":"false","yarn_heapsize":"1024","yarn_log_dir_prefix":"/var/log/hadoop-yarn","yarn_pid_dir_prefix":"/var/run/hadoop-yarn","yarn_user_nofile_limit":"32768","yarn_user_nproc_limit":"65536","yarn_ats_user":"yarn-ats","yarn_user":"yarn"}}},{"yarn-hbase-env":{"properties_attributes":{},"properties":{"content":"\n      # Set environment variables here.\n\n      # The java implementation to use. Java 1.6 required.\n      export JAVA_HOME={{java64_home}}\n\n      # HBase Configuration directory\n      export HBASE_CONF_DIR=${HBASE_CONF_DIR:-{{yarn_hbase_conf_dir}}}\n\n      # Extra Java CLASSPATH elements. Optional.\n      export HBASE_CLASSPATH=${HBASE_CLASSPATH}\n\n\n      # The maximum amount of heap to use. Default is left to JVM default.\n      # export HBASE_HEAPSIZE=4G\n\n      # Extra Java runtime options.\n      # Below are what we set by default. May only work with SUN JVM.\n      # For more on why as well as other possible settings,\n      # see http://wiki.apache.org/hadoop/PerformanceTuning\n      export SERVER_GC_OPTS=\"-verbose:gc -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:{{yarn_hbase_log_dir}}/gc.log-`date +'%Y%m%d%H%M'`\"\n      # Uncomment below to enable java garbage collection logging.\n      # export HBASE_OPTS=\"$HBASE_OPTS -verbose:gc -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:$HBASE_HOME/logs/gc-hbase.log\"\n\n      # Uncomment and adjust to enable JMX exporting\n      # See jmxremote.password and jmxremote.access in $JRE_HOME/lib/management to configure remote password access.\n      # More details at: http://java.sun.com/javase/6/docs/technotes/guides/management/agent.html\n      #\n      # export HBASE_JMX_BASE=\"-Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false\"\n      # If you want to configure BucketCache, specify '-XX: MaxDirectMemorySize=' with proper direct memory size\n      # export HBASE_THRIFT_OPTS=\"$HBASE_JMX_BASE -Dcom.sun.management.jmxremote.port=10103\"\n      # export HBASE_ZOOKEEPER_OPTS=\"$HBASE_JMX_BASE -Dcom.sun.management.jmxremote.port=10104\"\n\n      # File naming hosts on which HRegionServers will run. $HBASE_HOME/conf/regionservers by default.\n      export HBASE_REGIONSERVERS=${HBASE_CONF_DIR}/regionservers\n\n      # Extra ssh options. Empty by default.\n      # export HBASE_SSH_OPTS=\"-o ConnectTimeout=1 -o SendEnv=HBASE_CONF_DIR\"\n\n      # Where log files are stored. $HBASE_HOME/logs by default.\n      export HBASE_LOG_DIR=${HBASE_LOG_DIR:-{{yarn_hbase_log_dir}}}\n\n      # A string representing this instance of hbase. $USER by default.\n      # export HBASE_IDENT_STRING=$USER\n\n      # The scheduling priority for daemon processes. See 'man nice'.\n      # export HBASE_NICENESS=10\n\n      # The directory where pid files are stored. /tmp by default.\n      export HBASE_PID_DIR=${HBASE_PID_DIR:-{{yarn_hbase_pid_dir}}}\n\n      # Seconds to sleep between slave commands. Unset by default. This\n      # can be useful in large clusters, where, e.g., slave rsyncs can\n      # otherwise arrive faster than the master can service them.\n      # export HBASE_SLAVE_SLEEP=0.1\n\n      # Tell HBase whether it should manage it's own instance of Zookeeper or not.\n      export HBASE_MANAGES_ZK=false\n\n      {% if java_version < 8 %}\n      JDK_DEPENDED_OPTS=\"-XX:PermSize=128m -XX:MaxPermSize=128m\"\n      {% endif %}\n\n      export HBASE_OPTS=\"$HBASE_OPTS -XX:+UseConcMarkSweepGC -XX:ErrorFile=$HBASE_LOG_DIR/hs_err_pid%p.log -Djava.io.tmpdir={{yarn_hbase_java_io_tmpdir}}\"\n      export HBASE_MASTER_OPTS=\"$HBASE_MASTER_OPTS -Xmx{{yarn_hbase_master_heapsize}} $JDK_DEPENDED_OPTS\"\n      export HBASE_REGIONSERVER_OPTS=\"$HBASE_REGIONSERVER_OPTS -XX:CMSInitiatingOccupancyFraction=70 -XX:ReservedCodeCacheSize=256m -Xms{{yarn_hbase_regionserver_heapsize}} -Xmx{{yarn_hbase_regionserver_heapsize}} $JDK_DEPENDED_OPTS\"\n\n      {% if security_enabled %}\n      export HBASE_MASTER_OPTS=\"$HBASE_MASTER_OPTS -Djava.security.auth.login.config={{yarn_hbase_master_jaas_file}}\"\n      export HBASE_REGIONSERVER_OPTS=\"$HBASE_REGIONSERVER_OPTS -Djava.security.auth.login.config={{yarn_hbase_regionserver_jaas_file}}\"\n      {% endif %}","hbase_java_io_tmpdir":"/tmp","is_hbase_system_service_launch":"false","use_external_hbase":"false","yarn_hbase_client_containers":"1","yarn_hbase_client_cpu":"1","yarn_hbase_client_memory":"1536","yarn_hbase_heap_memory_factor":"0.8","yarn_hbase_log_level":"INFO","yarn_hbase_master_containers":"1","yarn_hbase_master_cpu":"1","yarn_hbase_master_memory":"4096","yarn_hbase_pid_dir_prefix":"/var/run/hadoop-yarn-hbase","yarn_hbase_regionserver_containers":"1","yarn_hbase_regionserver_cpu":"1","yarn_hbase_regionserver_memory":"4096","yarn_hbase_system_service_launch_mode":"sync","yarn_hbase_system_service_queue_name":"default"}}},{"yarn-hbase-log4j":{"properties_attributes":{},"properties":{"content":"\n            # Licensed to the Apache Software Foundation (ASF) under one\n            # or more contributor license agreements.  See the NOTICE file\n            # distributed with this work for additional information\n            # regarding copyright ownership.  The ASF licenses this file\n            # to you under the Apache License, Version 2.0 (the\n            # \"License\"); you may not use this file except in compliance\n            # with the License.  You may obtain a copy of the License at\n            #\n            #     http://www.apache.org/licenses/LICENSE-2.0\n            #\n            # Unless required by applicable law or agreed to in writing, software\n            # distributed under the License is distributed on an \"AS IS\" BASIS,\n            # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n            # See the License for the specific language governing permissions and\n            # limitations under the License.\n\n\n            # Define some default values that can be overridden by system properties\n            hbase.root.logger=INFO,console\n            hbase.security.logger=INFO,console\n            hbase.log.dir=.\n            hbase.log.file=hbase.log\n\n            # Define the root logger to the system property \"hbase.root.logger\".\n            log4j.rootLogger=${hbase.root.logger}\n\n            # Logging Threshold\n            log4j.threshold=ALL\n\n            #\n            # Daily Rolling File Appender\n            #\n            log4j.appender.DRFA=org.apache.log4j.DailyRollingFileAppender\n            log4j.appender.DRFA.File=${hbase.log.dir}/${hbase.log.file}\n\n            # Rollver at midnight\n            log4j.appender.DRFA.DatePattern=.yyyy-MM-dd\n\n            # 30-day backup\n            #log4j.appender.DRFA.MaxBackupIndex=30\n            log4j.appender.DRFA.layout=org.apache.log4j.PatternLayout\n\n            # Pattern format: Date LogLevel LoggerName LogMessage\n            log4j.appender.DRFA.layout.ConversionPattern=%d{ISO8601} %-5p [%t] %c{2}: %m%n\n\n            # Rolling File Appender properties\n            hbase.log.maxfilesize={{hbase_log_maxfilesize}}MB\n            hbase.log.maxbackupindex={{hbase_log_maxbackupindex}}\n\n            # Rolling File Appender\n            log4j.appender.RFA=org.apache.log4j.RollingFileAppender\n            log4j.appender.RFA.File=${hbase.log.dir}/${hbase.log.file}\n\n            log4j.appender.RFA.MaxFileSize=${hbase.log.maxfilesize}\n            log4j.appender.RFA.MaxBackupIndex=${hbase.log.maxbackupindex}\n\n            log4j.appender.RFA.layout=org.apache.log4j.PatternLayout\n            log4j.appender.RFA.layout.ConversionPattern=%d{ISO8601} %-5p [%t] %c{2}: %m%n\n\n            #\n            # Security audit appender\n            #\n            hbase.security.log.file=SecurityAuth.audit\n            hbase.security.log.maxfilesize={{hbase_security_log_maxfilesize}}MB\n            hbase.security.log.maxbackupindex={{hbase_security_log_maxbackupindex}}\n            log4j.appender.RFAS=org.apache.log4j.RollingFileAppender\n            log4j.appender.RFAS.File=${hbase.log.dir}/${hbase.security.log.file}\n            log4j.appender.RFAS.MaxFileSize=${hbase.security.log.maxfilesize}\n            log4j.appender.RFAS.MaxBackupIndex=${hbase.security.log.maxbackupindex}\n            log4j.appender.RFAS.layout=org.apache.log4j.PatternLayout\n            log4j.appender.RFAS.layout.ConversionPattern=%d{ISO8601} %p %c: %m%n\n            log4j.category.SecurityLogger=${hbase.security.logger}\n            log4j.additivity.SecurityLogger=false\n            #log4j.logger.SecurityLogger.org.apache.hadoop.hbase.security.access.AccessController=TRACE\n\n            #\n            # Null Appender\n            #\n            log4j.appender.NullAppender=org.apache.log4j.varia.NullAppender\n\n            #\n            # console\n            # Add \"console\" to rootlogger above if you want to use this\n            #\n            log4j.appender.console=org.apache.log4j.ConsoleAppender\n            log4j.appender.console.target=System.err\n            log4j.appender.console.layout=org.apache.log4j.PatternLayout\n            log4j.appender.console.layout.ConversionPattern=%d{ISO8601} %-5p [%t] %c{2}: %m%n\n\n            # Custom Logging levels\n\n            log4j.logger.org.apache.zookeeper=INFO\n            #log4j.logger.org.apache.hadoop.fs.FSNamesystem=DEBUG\n            log4j.logger.org.apache.hadoop.hbase=INFO\n            # Make these two classes INFO-level. Make them DEBUG to see more zk debug.\n            log4j.logger.org.apache.hadoop.hbase.zookeeper.ZKUtil=INFO\n            log4j.logger.org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher=INFO\n            #log4j.logger.org.apache.hadoop.dfs=DEBUG\n            # Set this class to log INFO only otherwise its OTT\n            # Enable this to get detailed connection error/retry logging.\n            # log4j.logger.org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation=TRACE\n\n\n            # Uncomment this line to enable tracing on _every_ RPC call (this can be a lot of output)\n            #log4j.logger.org.apache.hadoop.ipc.HBaseServer.trace=DEBUG\n\n            # Uncomment the below if you want to remove logging of client region caching'\n            # and scan of .META. messages\n            # log4j.logger.org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation=INFO\n            # log4j.logger.org.apache.hadoop.hbase.client.MetaScanner=INFO","hbase_log_maxbackupindex":"20","hbase_log_maxfilesize":"256","hbase_security_log_maxbackupindex":"20","hbase_security_log_maxfilesize":"256"}}},{"yarn-hbase-policy":{"properties_attributes":{},"properties":{"security.admin.protocol.acl":"*","security.client.protocol.acl":"*","security.masterregion.protocol.acl":"*"}}},{"yarn-hbase-site":{"properties_attributes":{},"properties":{"dfs.domain.socket.path":"/var/lib/hadoop-hdfs/dn_socket","hbase.bucketcache.ioengine":"","hbase.bucketcache.percentage.in.combinedcache":"","hbase.bucketcache.size":"","hbase.client.keyvalue.maxsize":"1048576","hbase.client.retries.number":"7","hbase.client.scanner.caching":"100","hbase.cluster.distributed":"true","hbase.coprocessor.master.classes":"","hbase.coprocessor.region.classes":"","hbase.coprocessor.regionserver.classes":"","hbase.defaults.for.version.skip":"true","hbase.hregion.majorcompaction":"604800000","hbase.hregion.majorcompaction.jitter":"0.50","hbase.hregion.max.filesize":"10737418240","hbase.hregion.memstore.block.multiplier":"4","hbase.hregion.memstore.flush.size":"134217728","hbase.hregion.memstore.mslab.enabled":"true","hbase.hstore.blockingStoreFiles":"10","hbase.hstore.compaction.max":"10","hbase.hstore.compactionThreshold":"3","hbase.local.dir":"${hbase.tmp.dir}/local","hbase.master.info.bindAddress":"0.0.0.0","hbase.master.info.port":"17010","hbase.master.namespace.init.timeout":"2400000","hbase.master.port":"17000","hbase.master.ui.readonly":"false","hbase.master.wait.on.regionservers.timeout":"30000","hbase.regionserver.executor.openregion.threads":"20","hbase.regionserver.global.memstore.size":"0.4","hbase.regionserver.handler.count":"30","hbase.regionserver.info.port":"17030","hbase.regionserver.port":"17020","hbase.rootdir":"/atsv2/hbase/data","hbase.rpc.protection":"authentication","hbase.rpc.timeout":"90000","hbase.security.authentication":"simple","hbase.security.authorization":"false","hbase.superuser":"yarn","hbase.tmp.dir":"/tmp/hbase-${user.name}","hbase.zookeeper.property.clientPort":"{{zookeeper_clientPort}}","hbase.zookeeper.quorum":"{{zookeeper_quorum_hosts}}","hbase.zookeeper.useMulti":"true","hfile.block.cache.size":"0.4","zookeeper.recovery.retry":"6","zookeeper.session.timeout":"90000","zookeeper.znode.parent":"/atsv2-hbase-unsecure"}}},{"yarn-log4j":{"properties_attributes":{},"properties":{"content":"\n#Relative to Yarn Log Dir Prefix\nyarn.log.dir=.\n#\n# Job Summary Appender\n#\n# Use following logger to send summary to separate file defined by\n# hadoop.mapreduce.jobsummary.log.file rolled daily:\n# hadoop.mapreduce.jobsummary.logger=INFO,JSA\n#\nhadoop.mapreduce.jobsummary.logger=${hadoop.root.logger}\nhadoop.mapreduce.jobsummary.log.file=hadoop-mapreduce.jobsummary.log\nlog4j.appender.JSA=org.apache.log4j.DailyRollingFileAppender\n# Set the ResourceManager summary log filename\nyarn.server.resourcemanager.appsummary.log.file=hadoop-mapreduce.jobsummary.log\n# Set the ResourceManager summary log level and appender\nyarn.server.resourcemanager.appsummary.logger=${hadoop.root.logger}\n#yarn.server.resourcemanager.appsummary.logger=INFO,RMSUMMARY\n\n# To enable AppSummaryLogging for the RM,\n# set yarn.server.resourcemanager.appsummary.logger to\n# LEVEL,RMSUMMARY in hadoop-env.sh\n\n# Appender for ResourceManager Application Summary Log\n# Requires the following properties to be set\n#    - hadoop.log.dir (Hadoop Log directory)\n#    - yarn.server.resourcemanager.appsummary.log.file (resource manager app summary log filename)\n#    - yarn.server.resourcemanager.appsummary.logger (resource manager app summary log level and appender)\nlog4j.appender.RMSUMMARY=org.apache.log4j.RollingFileAppender\nlog4j.appender.RMSUMMARY.File=${yarn.log.dir}/${yarn.server.resourcemanager.appsummary.log.file}\nlog4j.appender.RMSUMMARY.MaxFileSize={{yarn_rm_summary_log_max_backup_size}}MB\nlog4j.appender.RMSUMMARY.MaxBackupIndex={{yarn_rm_summary_log_number_of_backup_files}}\nlog4j.appender.RMSUMMARY.layout=org.apache.log4j.PatternLayout\nlog4j.appender.RMSUMMARY.layout.ConversionPattern=%d{ISO8601} %p %c{2}: %m%n\nlog4j.appender.JSA.layout=org.apache.log4j.PatternLayout\nlog4j.appender.JSA.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss} %p %c{2}: %m%n\nlog4j.appender.JSA.DatePattern=.yyyy-MM-dd\nlog4j.appender.JSA.layout=org.apache.log4j.PatternLayout\nlog4j.logger.org.apache.hadoop.yarn.server.resourcemanager.RMAppManager$ApplicationSummary=${yarn.server.resourcemanager.appsummary.logger}\nlog4j.additivity.org.apache.hadoop.yarn.server.resourcemanager.RMAppManager$ApplicationSummary=false\n\n# Appender for viewing information for errors and warnings\nyarn.ewma.cleanupInterval=300\nyarn.ewma.messageAgeLimitSeconds=86400\nyarn.ewma.maxUniqueMessages=250\nlog4j.appender.EWMA=org.apache.hadoop.yarn.util.Log4jWarningErrorMetricsAppender\nlog4j.appender.EWMA.cleanupInterval=${yarn.ewma.cleanupInterval}\nlog4j.appender.EWMA.messageAgeLimitSeconds=${yarn.ewma.messageAgeLimitSeconds}\nlog4j.appender.EWMA.maxUniqueMessages=${yarn.ewma.maxUniqueMessages}\n\n# Audit logging for ResourceManager\nrm.audit.logger=${hadoop.root.logger}\nlog4j.logger.org.apache.hadoop.yarn.server.resourcemanager.RMAuditLogger=${rm.audit.logger}\nlog4j.additivity.org.apache.hadoop.yarn.server.resourcemanager.RMAuditLogger=false\nlog4j.appender.RMAUDIT=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.RMAUDIT.File=${yarn.log.dir}/rm-audit.log\nlog4j.appender.RMAUDIT.layout=org.apache.log4j.PatternLayout\nlog4j.appender.RMAUDIT.layout.ConversionPattern=%d{ISO8601} %p %c{2}: %m%n\nlog4j.appender.RMAUDIT.DatePattern=.yyyy-MM-dd\n\n# Audit logging for NodeManager\nnm.audit.logger=${hadoop.root.logger}\nlog4j.logger.org.apache.hadoop.yarn.server.nodemanager.NMAuditLogger=${nm.audit.logger}\nlog4j.additivity.org.apache.hadoop.yarn.server.nodemanager.NMAuditLogger=false\nlog4j.appender.NMAUDIT=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.NMAUDIT.File=${yarn.log.dir}/nm-audit.log\nlog4j.appender.NMAUDIT.layout=org.apache.log4j.PatternLayout\nlog4j.appender.NMAUDIT.layout.ConversionPattern=%d{ISO8601} %p %c{2}: %m%n\nlog4j.appender.NMAUDIT.DatePattern=.yyyy-MM-dd","yarn_rm_summary_log_max_backup_size":"256","yarn_rm_summary_log_number_of_backup_files":"20"}}},{"yarn-site":{"properties_attributes":{},"properties":{"yarn.timeline-service.entity-group-fs-store.app-cache-size":"10","yarn.timeline-service.http-authentication.proxyuser.root.hosts":"ambari-node1.example.com","yarn.timeline-service.http-authentication.proxyuser.root.groups":"*","hadoop.http.cross-origin.allowed-origins":"{{cross_origins}}","hadoop.registry.dns.bind-address":"0.0.0.0","hadoop.registry.dns.bind-port":"53","hadoop.registry.dns.domain-name":"EXAMPLE.COM","hadoop.registry.dns.enabled":"true","hadoop.registry.dns.zone-mask":"255.255.255.0","hadoop.registry.dns.zone-subnet":"172.17.0.0","hadoop.registry.zk.quorum":"ambari-node1.example.com:2181","manage.include.files":"false","yarn.acl.enable":"false","yarn.admin.acl":"activity_analyzer,yarn","yarn.application.classpath":"$HADOOP_CONF_DIR,{{hadoop_home}}/*,{{hadoop_home}}/lib/*,{{stack_root}}/current/hadoop-hdfs-client/*,{{stack_root}}/current/hadoop-hdfs-client/lib/*,{{stack_root}}/current/hadoop-yarn-client/*,{{stack_root}}/current/hadoop-yarn-client/lib/*","yarn.client.nodemanager-connect.max-wait-ms":"60000","yarn.client.nodemanager-connect.retry-interval-ms":"10000","yarn.http.policy":"HTTP_ONLY","yarn.log-aggregation-enable":"true","yarn.log-aggregation.retain-seconds":"2592000","yarn.log.server.url":"http://ambari-node1.example.com:19888/jobhistory/logs","yarn.log.server.web-service.url":"http://ambari-node1.example.com:8188/ws/v1/applicationhistory","yarn.node-labels.enabled":"false","yarn.node-labels.fs-store.retry-policy-spec":"2000, 500","yarn.node-labels.fs-store.root-dir":"/system/yarn/node-labels","yarn.nodemanager.address":"0.0.0.0:45454","yarn.nodemanager.admin-env":"MALLOC_ARENA_MAX=$MALLOC_ARENA_MAX","yarn.nodemanager.aux-services":"mapreduce_shuffle,spark2_shuffle,{{timeline_collector}}","yarn.nodemanager.aux-services.mapreduce_shuffle.class":"org.apache.hadoop.mapred.ShuffleHandler","yarn.nodemanager.aux-services.spark2_shuffle.class":"org.apache.spark.network.yarn.YarnShuffleService","yarn.nodemanager.aux-services.spark2_shuffle.classpath":"{{stack_root}}/{{spark2_version}}/spark2/aux/*","yarn.nodemanager.aux-services.spark_shuffle.class":"org.apache.spark.network.yarn.YarnShuffleService","yarn.nodemanager.aux-services.spark_shuffle.classpath":"{{stack_root}}/${hdp.version}/spark/aux/*","yarn.nodemanager.aux-services.timeline_collector.class":"org.apache.hadoop.yarn.server.timelineservice.collector.PerNodeTimelineCollectorsAuxService","yarn.nodemanager.bind-host":"0.0.0.0","yarn.nodemanager.container-executor.class":"org.apache.hadoop.yarn.server.nodemanager.DefaultContainerExecutor","yarn.nodemanager.container-metrics.unregister-delay-ms":"60000","yarn.nodemanager.container-monitor.interval-ms":"3000","yarn.nodemanager.delete.debug-delay-sec":"0","yarn.nodemanager.disk-health-checker.max-disk-utilization-per-disk-percentage":"90","yarn.nodemanager.disk-health-checker.min-free-space-per-disk-mb":"1000","yarn.nodemanager.disk-health-checker.min-healthy-disks":"0.25","yarn.nodemanager.health-checker.interval-ms":"135000","yarn.nodemanager.health-checker.script.timeout-ms":"60000","yarn.nodemanager.linux-container-executor.cgroups.strict-resource-usage":"false","yarn.nodemanager.linux-container-executor.group":"hadoop","yarn.nodemanager.linux-container-executor.nonsecure-mode.limit-users":"true","yarn.nodemanager.local-dirs":"/hadoop/yarn/local","yarn.nodemanager.log-aggregation.compression-type":"gz","yarn.nodemanager.log-aggregation.debug-enabled":"false","yarn.nodemanager.log-aggregation.num-log-files-per-app":"30","yarn.nodemanager.log-aggregation.roll-monitoring-interval-seconds":"3600","yarn.nodemanager.log-dirs":"/hadoop/yarn/log","yarn.nodemanager.log.retain-seconds":"604800","yarn.nodemanager.recovery.dir":"{{yarn_log_dir_prefix}}/nodemanager/recovery-state","yarn.nodemanager.recovery.enabled":"true","yarn.nodemanager.recovery.supervised":"true","yarn.nodemanager.remote-app-log-dir":"/app-logs","yarn.nodemanager.remote-app-log-dir-suffix":"logs","yarn.nodemanager.resource-plugins":"","yarn.nodemanager.resource-plugins.gpu.allowed-gpu-devices":"","yarn.nodemanager.resource-plugins.gpu.docker-plugin":"","yarn.nodemanager.resource-plugins.gpu.docker-plugin.nvidiadocker-v1.endpoint":"","yarn.nodemanager.resource-plugins.gpu.path-to-discovery-executables":"","yarn.nodemanager.resource.cpu-vcores":"1","yarn.nodemanager.resource.memory-mb":"3072","yarn.nodemanager.resource.percentage-physical-cpu-limit":"80","yarn.nodemanager.runtime.linux.allowed-runtimes":"default,docker","yarn.nodemanager.runtime.linux.docker.allowed-container-networks":"host,none,bridge","yarn.nodemanager.runtime.linux.docker.capabilities":"\n      CHOWN,DAC_OVERRIDE,FSETID,FOWNER,MKNOD,NET_RAW,SETGID,SETUID,SETFCAP,\n      SETPCAP,NET_BIND_SERVICE,SYS_CHROOT,KILL,AUDIT_WRITE","yarn.nodemanager.runtime.linux.docker.default-container-network":"host","yarn.nodemanager.runtime.linux.docker.privileged-containers.acl":"","yarn.nodemanager.runtime.linux.docker.privileged-containers.allowed":"false","yarn.nodemanager.vmem-check-enabled":"false","yarn.nodemanager.vmem-pmem-ratio":"2.1","yarn.nodemanager.webapp.cross-origin.enabled":"true","yarn.resourcemanager.address":"ambari-node1.example.com:8050","yarn.resourcemanager.admin.address":"ambari-node1.example.com:8141","yarn.resourcemanager.am.max-attempts":"2","yarn.resourcemanager.bind-host":"0.0.0.0","yarn.resourcemanager.connect.max-wait.ms":"900000","yarn.resourcemanager.connect.retry-interval.ms":"30000","yarn.resourcemanager.display.per-user-apps":"true","yarn.resourcemanager.fs.state-store.retry-policy-spec":"2000, 500","yarn.resourcemanager.fs.state-store.uri":" ","yarn.resourcemanager.ha.enabled":"false","yarn.resourcemanager.hostname":"ambari-node1.example.com","yarn.resourcemanager.monitor.capacity.preemption.intra-queue-preemption.enabled":"true","yarn.resourcemanager.monitor.capacity.preemption.monitoring_interval":"15000","yarn.resourcemanager.monitor.capacity.preemption.natural_termination_factor":"1","yarn.resourcemanager.monitor.capacity.preemption.total_preemption_per_round":"1","yarn.resourcemanager.nodes.exclude-path":"/etc/hadoop/conf/yarn.exclude","yarn.resourcemanager.placement-constraints.handler":"scheduler","yarn.resourcemanager.recovery.enabled":"true","yarn.resourcemanager.resource-tracker.address":"ambari-node1.example.com:8025","yarn.resourcemanager.scheduler.address":"ambari-node1.example.com:8030","yarn.resourcemanager.scheduler.class":"org.apache.hadoop.yarn.server.resourcemanager.scheduler.capacity.CapacityScheduler","yarn.resourcemanager.scheduler.monitor.enable":"true","yarn.resourcemanager.state-store.max-completed-applications":"${yarn.resourcemanager.max-completed-applications}","yarn.resourcemanager.store.class":"org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore","yarn.resourcemanager.system-metrics-publisher.dispatcher.pool-size":"10","yarn.resourcemanager.system-metrics-publisher.enabled":"true","yarn.resourcemanager.webapp.address":"ambari-node1.example.com:8088","yarn.resourcemanager.webapp.cross-origin.enabled":"true","yarn.resourcemanager.webapp.delegation-token-auth-filter.enabled":"false","yarn.resourcemanager.webapp.https.address":"ambari-node1.example.com:8090","yarn.resourcemanager.work-preserving-recovery.enabled":"true","yarn.resourcemanager.work-preserving-recovery.scheduling-wait-ms":"10000","yarn.resourcemanager.zk-acl":"world:anyone:rwcda","yarn.resourcemanager.zk-address":"ambari-node1.example.com:2181","yarn.resourcemanager.zk-num-retries":"1000","yarn.resourcemanager.zk-retry-interval-ms":"1000","yarn.resourcemanager.zk-state-store.parent-path":"/rmstore","yarn.resourcemanager.zk-timeout-ms":"10000","yarn.rm.system-metricspublisher.emit-container-events":"true","yarn.scheduler.capacity.ordering-policy.priority-utilization.underutilized-preemption.enabled":"true","yarn.scheduler.maximum-allocation-mb":"3072","yarn.scheduler.maximum-allocation-vcores":"1","yarn.scheduler.minimum-allocation-mb":"1024","yarn.scheduler.minimum-allocation-vcores":"1","yarn.service.framework.path":"/hdp/apps/${hdp.version}/yarn/service-dep.tar.gz","yarn.service.system-service.dir":"/services","yarn.system-metricspublisher.enabled":"true","yarn.timeline-service.address":"ambari-node1.example.com:10200","yarn.timeline-service.bind-host":"0.0.0.0","yarn.timeline-service.client.max-retries":"30","yarn.timeline-service.client.retry-interval-ms":"1000","yarn.timeline-service.enabled":"true","yarn.timeline-service.entity-group-fs-store.active-dir":"/ats/active/","yarn.timeline-service.entity-group-fs-store.cleaner-interval-seconds":"3600","yarn.timeline-service.entity-group-fs-store.done-dir":"/ats/done/","yarn.timeline-service.entity-group-fs-store.group-id-plugin-classes":"org.apache.hadoop.yarn.applications.distributedshell.DistributedShellTimelinePlugin","yarn.timeline-service.entity-group-fs-store.group-id-plugin-classpath":"","yarn.timeline-service.entity-group-fs-store.retain-seconds":"604800","yarn.timeline-service.entity-group-fs-store.scan-interval-seconds":"60","yarn.timeline-service.entity-group-fs-store.summary-store":"org.apache.hadoop.yarn.server.timeline.RollingLevelDBTimelineStore","yarn.timeline-service.generic-application-history.save-non-am-container-meta-info":"false","yarn.timeline-service.generic-application-history.store-class":"org.apache.hadoop.yarn.server.applicationhistoryservice.NullApplicationHistoryStore","yarn.timeline-service.hbase-schema.prefix":"prod.","yarn.timeline-service.hbase.configuration.file":"file://{{yarn_hbase_conf_dir}}/hbase-site.xml","yarn.timeline-service.hbase.coprocessor.jar.hdfs.location":"{{yarn_timeline_jar_location}}","yarn.timeline-service.http-authentication.simple.anonymous.allowed":"true","yarn.timeline-service.http-authentication.type":"simple","yarn.timeline-service.http-cross-origin.enabled":"true","yarn.timeline-service.leveldb-state-store.path":"/hadoop/yarn/timeline","yarn.timeline-service.leveldb-timeline-store.path":"/hadoop/yarn/timeline","yarn.timeline-service.leveldb-timeline-store.read-cache-size":"104857600","yarn.timeline-service.leveldb-timeline-store.start-time-read-cache-size":"10000","yarn.timeline-service.leveldb-timeline-store.start-time-write-cache-size":"10000","yarn.timeline-service.leveldb-timeline-store.ttl-interval-ms":"300000","yarn.timeline-service.reader.webapp.address":"ambari-node1.example.com:8198","yarn.timeline-service.reader.webapp.https.address":"ambari-node1.example.com:8199","yarn.timeline-service.recovery.enabled":"true","yarn.timeline-service.state-store-class":"org.apache.hadoop.yarn.server.timeline.recovery.LeveldbTimelineStateStore","yarn.timeline-service.store-class":"org.apache.hadoop.yarn.server.timeline.EntityGroupFSTimelineStore","yarn.timeline-service.ttl-enable":"true","yarn.timeline-service.ttl-ms":"2678400000","yarn.timeline-service.version":"2.0f","yarn.timeline-service.versions":"1.5f,2.0f","yarn.timeline-service.webapp.address":"ambari-node1.example.com:8188","yarn.timeline-service.webapp.https.address":"ambari-node1.example.com:8190","yarn.webapp.api-service.enable":"true","yarn.webapp.ui2.enable":"true"}}},{"mapred-env":{"properties_attributes":{},"properties":{"content":"\n      # export JAVA_HOME=/home/y/libexec/jdk1.8.0/\n\n      export HADOOP_JOB_HISTORYSERVER_HEAPSIZE={{jobhistory_heapsize}}\n\n      # We need to add the RFA appender for the mr daemons only;\n      # however, HADOOP_MAPRED_LOGGER is shared by the mapred client and the\n      # daemons. This will restrict the RFA appender to daemons only.\n      export HADOOP_LOGLEVEL=${HADOOP_LOGLEVEL:-INFO}\n      export HADOOP_ROOT_LOGGER=${HADOOP_ROOT_LOGGER:-INFO,console}\n      export HADOOP_DAEMON_ROOT_LOGGER=${HADOOP_DAEMON_ROOT_LOGGER:-${HADOOP_LOGLEVEL},RFA}\n\n      {% if security_enabled %}\n      export MAPRED_HISTORYSERVER_OPTS=\"-Djava.security.auth.login.config={{mapred_jaas_file}}  -Djavax.security.auth.useSubjectCredsOnly=false\"\n      {% endif %}\n\n      #export HADOOP_JHS_LOGGER=INFO,RFA # Hadoop JobSummary logger.\n      #export HADOOP_IDENT_STRING= #A string representing this instance of hadoop. $USER by default\n      #export HADOOP_NICENESS= #The scheduling priority for daemons. Defaults to 0.\n      export HADOOP_OPTS=\"-Dhdp.version=$HDP_VERSION $HADOOP_OPTS\"\n      export HADOOP_OPTS=\"-Djava.io.tmpdir={{hadoop_java_io_tmpdir}} $HADOOP_OPTS\"\n      export JAVA_LIBRARY_PATH=\"${JAVA_LIBRARY_PATH}:{{hadoop_java_io_tmpdir}}\"\n\n      # History server logs\n      export HADOOP_LOG_DIR={{mapred_log_dir_prefix}}/$USER\n\n      # History server pid\n      export HADOOP_PID_DIR={{mapred_pid_dir_prefix}}/$USER","jobhistory_heapsize":"900","mapred_log_dir_prefix":"/var/log/hadoop-mapreduce","mapred_pid_dir_prefix":"/var/run/hadoop-mapreduce","mapred_user_nofile_limit":"32768","mapred_user_nproc_limit":"65536","mapred_user":"mapred"}}},{"mapred-site":{"properties_attributes":{},"properties":{"mapred.local.dir":"/hadoop/mapred","mapreduce.admin.map.child.java.opts":"-server -XX:NewRatio=8 -Djava.net.preferIPv4Stack=true -Dhdp.version=${hdp.version}","mapreduce.admin.reduce.child.java.opts":"-server -XX:NewRatio=8 -Djava.net.preferIPv4Stack=true -Dhdp.version=${hdp.version}","mapreduce.admin.user.env":"LD_LIBRARY_PATH=/usr/hdp/${hdp.version}/hadoop/lib/native:/usr/hdp/${hdp.version}/hadoop/lib/native/Linux-{{architecture}}-64","mapreduce.am.max-attempts":"2","mapreduce.application.classpath":"$PWD/mr-framework/hadoop/share/hadoop/mapreduce/*:$PWD/mr-framework/hadoop/share/hadoop/mapreduce/lib/*:$PWD/mr-framework/hadoop/share/hadoop/common/*:$PWD/mr-framework/hadoop/share/hadoop/common/lib/*:$PWD/mr-framework/hadoop/share/hadoop/yarn/*:$PWD/mr-framework/hadoop/share/hadoop/yarn/lib/*:$PWD/mr-framework/hadoop/share/hadoop/hdfs/*:$PWD/mr-framework/hadoop/share/hadoop/hdfs/lib/*:$PWD/mr-framework/hadoop/share/hadoop/tools/lib/*:/usr/hdp/${hdp.version}/hadoop/lib/hadoop-lzo-0.6.0.${hdp.version}.jar:/etc/hadoop/conf/secure","mapreduce.application.framework.path":"/hdp/apps/${hdp.version}/mapreduce/mapreduce.tar.gz#mr-framework","mapreduce.cluster.acls.enabled":"false","mapreduce.cluster.administrators":" hadoop","mapreduce.framework.name":"yarn","mapreduce.job.acl-modify-job":" ","mapreduce.job.acl-view-job":" ","mapreduce.job.counters.max":"130","mapreduce.job.emit-timeline-data":"true","mapreduce.job.queuename":"default","mapreduce.job.reduce.slowstart.completedmaps":"0.05","mapreduce.jobhistory.address":"ambari-node1.example.com:10020","mapreduce.jobhistory.admin.acl":"*","mapreduce.jobhistory.bind-host":"0.0.0.0","mapreduce.jobhistory.done-dir":"/mr-history/done","mapreduce.jobhistory.http.policy":"HTTP_ONLY","mapreduce.jobhistory.intermediate-done-dir":"/mr-history/tmp","mapreduce.jobhistory.recovery.enable":"true","mapreduce.jobhistory.recovery.store.class":"org.apache.hadoop.mapreduce.v2.hs.HistoryServerLeveldbStateStoreService","mapreduce.jobhistory.recovery.store.leveldb.path":"/hadoop/mapreduce/jhs","mapreduce.jobhistory.webapp.address":"ambari-node1.example.com:19888","mapreduce.map.java.opts":"-Xmx1228m","mapreduce.map.log.level":"INFO","mapreduce.map.memory.mb":"1536","mapreduce.map.output.compress":"false","mapreduce.map.sort.spill.percent":"0.7","mapreduce.map.speculative":"false","mapreduce.output.fileoutputformat.compress":"false","mapreduce.output.fileoutputformat.compress.type":"BLOCK","mapreduce.reduce.input.buffer.percent":"0.0","mapreduce.reduce.java.opts":"-Xmx1638m","mapreduce.reduce.log.level":"INFO","mapreduce.reduce.memory.mb":"2048","mapreduce.reduce.shuffle.fetch.retry.enabled":"1","mapreduce.reduce.shuffle.fetch.retry.interval-ms":"1000","mapreduce.reduce.shuffle.fetch.retry.timeout-ms":"30000","mapreduce.reduce.shuffle.input.buffer.percent":"0.7","mapreduce.reduce.shuffle.merge.percent":"0.66","mapreduce.reduce.shuffle.parallelcopies":"30","mapreduce.reduce.speculative":"false","mapreduce.shuffle.port":"13562","mapreduce.task.io.sort.factor":"100","mapreduce.task.io.sort.mb":"859","mapreduce.task.timeout":"300000","yarn.app.mapreduce.am.admin-command-opts":"-Dhdp.version=${hdp.version}","yarn.app.mapreduce.am.command-opts":"-Xmx819m -Dhdp.version=${hdp.version}","yarn.app.mapreduce.am.log.level":"INFO","yarn.app.mapreduce.am.resource.mb":"1024","yarn.app.mapreduce.am.staging-dir":"/user"}}},{"tez-env":{"properties_attributes":{},"properties":{"content":"\n# Tez specific configuration\nexport TEZ_CONF_DIR={{config_dir}}\n\n# Set HADOOP_HOME to point to a specific hadoop install directory\nexport HADOOP_HOME=${HADOOP_HOME:-{{hadoop_home}}}\n\n# The java implementation to use.\nexport JAVA_HOME={{java64_home}}","enable_heap_dump":"false","heap_dump_location":"/tmp","tez_user":"tez"}}},{"tez-site":{"properties_attributes":{},"properties":{"tez.history.logging.service.class":"org.apache.tez.dag.history.logging.proto.ProtoHistoryLoggingService","tez.history.logging.proto-base-dir":"/warehouse/tablespace/external/hive/sys.db","tez.queue.name":"default","tez.am.java.opts":"-server -Xmx819m -Djava.net.preferIPv4Stack=true","tez.am.am-rm.heartbeat.interval-ms.max":"250","tez.am.container.idle.release-timeout-max.millis":"20000","tez.am.container.idle.release-timeout-min.millis":"10000","tez.am.container.reuse.enabled":"true","tez.am.container.reuse.locality.delay-allocation-millis":"250","tez.am.container.reuse.non-local-fallback.enabled":"false","tez.am.container.reuse.rack-fallback.enabled":"true","tez.am.launch.cluster-default.cmd-opts":"-server -Djava.net.preferIPv4Stack=true -Dhdp.version=${hdp.version}","tez.am.launch.cmd-opts":"-XX:+PrintGCDetails -verbose:gc -XX:+PrintGCTimeStamps -XX:+UseNUMA -XX:+UseG1GC -XX:+ResizeTLAB{{heap_dump_opts}}","tez.am.launch.env":"LD_LIBRARY_PATH=/usr/hdp/${hdp.version}/hadoop/lib/native:/usr/hdp/${hdp.version}/hadoop/lib/native/Linux-{{architecture}}-64","tez.am.log.level":"INFO","tez.am.max.app.attempts":"2","tez.am.maxtaskfailures.per.node":"10","tez.am.resource.memory.mb":"2048","tez.am.tez-ui.history-url.template":"__HISTORY_URL_BASE__?viewPath=%2F%23%2Ftez-app%2F__APPLICATION_ID__","tez.am.view-acls":"*","tez.cluster.additional.classpath.prefix":"/usr/hdp/${hdp.version}/hadoop/lib/hadoop-lzo-0.6.0.${hdp.version}.jar:/etc/hadoop/conf/secure","tez.counters.max":"10000","tez.counters.max.groups":"3000","tez.generate.debug.artifacts":"false","tez.grouping.max-size":"1073741824","tez.grouping.min-size":"16777216","tez.grouping.split-waves":"1.7","tez.history.logging.timeline-cache-plugin.old-num-dags-per-group":"5","tez.lib.uris":"/hdp/apps/${hdp.version}/tez/tez.tar.gz","tez.runtime.compress":"true","tez.runtime.compress.codec":"org.apache.hadoop.io.compress.SnappyCodec","tez.runtime.convert.user-payload.to.history-text":"false","tez.runtime.io.sort.mb":"270","tez.runtime.optimize.local.fetch":"true","tez.runtime.pipelined.sorter.sort.threads":"2","tez.runtime.shuffle.fetch.buffer.percent":"0.6","tez.runtime.shuffle.memory.limit.percent":"0.25","tez.runtime.sorter.class":"PIPELINED","tez.runtime.unordered.output.buffer.size-mb":"76","tez.session.am.dag.submit.timeout.secs":"600","tez.session.client.timeout.secs":"-1","tez.shuffle-vertex-manager.max-src-fraction":"0.4","tez.shuffle-vertex-manager.min-src-fraction":"0.2","tez.staging-dir":"/tmp/${user.name}/staging","tez.task.am.heartbeat.counter.interval-ms.max":"4000","tez.task.generate.counters.per.io":"true","tez.task.get-task.sleep.interval-ms.max":"200","tez.task.launch.cluster-default.cmd-opts":"-server -Djava.net.preferIPv4Stack=true -Dhdp.version=${hdp.version}","tez.task.launch.cmd-opts":"-XX:+PrintGCDetails -verbose:gc -XX:+PrintGCTimeStamps -XX:+UseNUMA -XX:+UseG1GC -XX:+ResizeTLAB{{heap_dump_opts}}","tez.task.launch.env":"LD_LIBRARY_PATH=/usr/hdp/${hdp.version}/hadoop/lib/native:/usr/hdp/${hdp.version}/hadoop/lib/native/Linux-{{architecture}}-64","tez.task.max-events-per-heartbeat":"500","tez.task.resource.memory.mb":"1024","tez.tez-ui.history-url.base":null,"tez.use.cluster.hadoop-libs":"false","yarn.timeline-service.enabled":"false"}}},{"beeline-log4j2":{"properties_attributes":{},"properties":{"content":"\n# Licensed to the Apache Software Foundation (ASF) under one\n# or more contributor license agreements.  See the NOTICE file\n# distributed with this work for additional information\n# regarding copyright ownership.  The ASF licenses this file\n# to you under the Apache License, Version 2.0 (the\n# \"License\"); you may not use this file except in compliance\n# with the License.  You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\nstatus = INFO\nname = BeelineLog4j2\npackages = org.apache.hadoop.hive.ql.log\n\n# list of properties\nproperty.hive.log.level = {{hive_log_level}}\nproperty.hive.root.logger = console\n\n# list of all appenders\nappenders = console\n\n# console appender\nappender.console.type = Console\nappender.console.name = console\nappender.console.target = SYSTEM_ERR\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = %d{yy/MM/dd HH:mm:ss} [%t]: %p %c{2}: %m%n\n\n# list of all loggers\nloggers = HiveConnection\n\n# HiveConnection logs useful info for dynamic service discovery\nlogger.HiveConnection.name = org.apache.hive.jdbc.HiveConnection\nlogger.HiveConnection.level = INFO\n\n# root logger\nrootLogger.level = ${sys:hive.log.level}\nrootLogger.appenderRefs = root\nrootLogger.appenderRef.root.ref = ${sys:hive.root.logger}"}}},{"hive-atlas-application.properties":{"properties_attributes":{},"properties":{"atlas.hook.hive.keepAliveTime":"10","atlas.hook.hive.maxThreads":"5","atlas.hook.hive.minThreads":"5","atlas.hook.hive.numRetries":"3","atlas.hook.hive.queueSize":"1000","atlas.hook.hive.synchronous":"false"}}},{"hive-env":{"properties_attributes":{},"properties":{"alert_ldap_password":"","alert_ldap_username":"","beeline_jdbc_url_default":"container","content":"\n# The heap size of the jvm, and jvm args stared by hive shell script can be controlled via:\nif [ \"$SERVICE\" = \"metastore\" ]; then\n\n  export HADOOP_HEAPSIZE={{hive_metastore_heapsize}} # Setting for HiveMetastore\n  export HADOOP_OPTS=\"$HADOOP_OPTS -Xloggc:{{hive_log_dir}}/hivemetastore-gc-%t.log -XX:+UseG1GC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCCause -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=10 -XX:GCLogFileSize=10M -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath={{hive_log_dir}}/hms_heapdump.hprof -Dhive.log.dir={{hive_log_dir}} -Dhive.log.file=hivemetastore.log\"\n\nfi\n\nif [ \"$SERVICE\" = \"hiveserver2\" ]; then\n\n  export HADOOP_HEAPSIZE={{hive_heapsize}} # Setting for HiveServer2 and Client\n  export HADOOP_OPTS=\"$HADOOP_OPTS -Xloggc:{{hive_log_dir}}/hiveserver2-gc-%t.log -XX:+UseG1GC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCCause -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=10 -XX:GCLogFileSize=10M -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath={{hive_log_dir}}/hs2_heapdump.hprof -Dhive.log.dir={{hive_log_dir}} -Dhive.log.file=hiveserver2.log\"\n\nfi\n\n{% if security_enabled %}\nexport HADOOP_OPTS=\"$HADOOP_OPTS -Dzookeeper.sasl.client.username={{zk_principal_user}}\"\n{% endif %}\n\nexport HADOOP_CLIENT_OPTS=\"$HADOOP_CLIENT_OPTS  -Xmx${HADOOP_HEAPSIZE}m\"\nexport HADOOP_CLIENT_OPTS=\"$HADOOP_CLIENT_OPTS{{heap_dump_opts}}\"\n\n# Larger heap size may be required when running queries over large number of files or partitions.\n# By default hive shell scripts use a heap size of 256 (MB).  Larger heap size would also be\n# appropriate for hive server (hwi etc).\n\n\n# Set HADOOP_HOME to point to a specific hadoop install directory\nHADOOP_HOME=${HADOOP_HOME:-{{hadoop_home}}}\n\nexport HIVE_HOME=${HIVE_HOME:-{{hive_home_dir}}}\n\n# Hive Configuration Directory can be controlled by:\nexport HIVE_CONF_DIR=${HIVE_CONF_DIR:-{{hive_config_dir}}}\n\n# Folder containing extra libraries required for hive compilation/execution can be controlled by:\nif [ \"${HIVE_AUX_JARS_PATH}\" != \"\" ]; then\n  if [ -f \"${HIVE_AUX_JARS_PATH}\" ]; then\n    export HIVE_AUX_JARS_PATH=${HIVE_AUX_JARS_PATH}\n  elif [ -d \"/usr/hdp/current/hive-webhcat/share/hcatalog\" ]; then\n    export HIVE_AUX_JARS_PATH=/usr/hdp/current/hive-webhcat/share/hcatalog/hive-hcatalog-core.jar\n  fi\nelif [ -d \"/usr/hdp/current/hive-webhcat/share/hcatalog\" ]; then\n  export HIVE_AUX_JARS_PATH=/usr/hdp/current/hive-webhcat/share/hcatalog/hive-hcatalog-core.jar\nfi\n\nexport METASTORE_PORT={{hive_metastore_port}}\n\n{% if sqla_db_used or lib_dir_available %}\nexport LD_LIBRARY_PATH=\"$LD_LIBRARY_PATH:{{jdbc_libs_dir}}\"\nexport JAVA_LIBRARY_PATH=\"$JAVA_LIBRARY_PATH:{{jdbc_libs_dir}}\"\n{% endif %}","enable_heap_dump":"false","heap_dump_location":"/tmp","hive.atlas.hook":"false","hive.heapsize":"2861","hive.log.level":"INFO","hive.metastore.heapsize":"953","hive_ambari_database":"MySQL","hive_database":"Existing MySQL / MariaDB Database","hive_database_name":"hive","hive_database_type":"mysql","hive_log_dir":"/var/log/hive","hive_pid_dir":"/var/run/hive","hive_security_authorization":"None","hive_timeline_logging_enabled":"false","hive_user_nofile_limit":"32000","hive_user_nproc_limit":"16000","test_db_connection":"","hive_user":"hive"}}},{"hive-exec-log4j2":{"properties_attributes":{},"properties":{"content":"\n# Licensed to the Apache Software Foundation (ASF) under one\n# or more contributor license agreements.  See the NOTICE file\n# distributed with this work for additional information\n# regarding copyright ownership.  The ASF licenses this file\n# to you under the Apache License, Version 2.0 (the\n# \"License\"); you may not use this file except in compliance\n# with the License.  You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\nstatus = INFO\nname = HiveExecLog4j2\npackages = org.apache.hadoop.hive.ql.log\n\n# list of properties\nproperty.hive.log.level = {{hive_log_level}}\nproperty.hive.root.logger = FA\nproperty.hive.query.id = hadoop\nproperty.hive.log.dir = ${sys:java.io.tmpdir}/${sys:user.name}\nproperty.hive.log.file = ${sys:hive.query.id}.log\n\n# list of all appenders\nappenders = console, FA\n\n# console appender\nappender.console.type = Console\nappender.console.name = console\nappender.console.target = SYSTEM_ERR\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = %d{yy/MM/dd HH:mm:ss} [%t]: %p %c{2}: %m%n\n\n# simple file appender\nappender.FA.type = File\nappender.FA.name = FA\nappender.FA.fileName = ${sys:hive.log.dir}/${sys:hive.log.file}\nappender.FA.layout.type = PatternLayout\nappender.FA.layout.pattern = %d{ISO8601} %-5p [%t]: %c{2} (%F:%M(%L)) - %m%n\n\n# list of all loggers\nloggers = NIOServerCnxn, ClientCnxnSocketNIO, DataNucleus, Datastore, JPOX\n\nlogger.NIOServerCnxn.name = org.apache.zookeeper.server.NIOServerCnxn\nlogger.NIOServerCnxn.level = WARN\n\nlogger.ClientCnxnSocketNIO.name = org.apache.zookeeper.ClientCnxnSocketNIO\nlogger.ClientCnxnSocketNIO.level = WARN\n\nlogger.DataNucleus.name = DataNucleus\nlogger.DataNucleus.level = ERROR\n\nlogger.Datastore.name = Datastore\nlogger.Datastore.level = ERROR\n\nlogger.JPOX.name = JPOX\nlogger.JPOX.level = ERROR\n\n# root logger\nrootLogger.level = ${sys:hive.log.level}\nrootLogger.appenderRefs = root\nrootLogger.appenderRef.root.ref = ${sys:hive.root.logger}"}}},{"hive-interactive-env":{"properties_attributes":{},"properties":{"content":"\nexport HADOOP_OPTS=\"$HADOOP_OPTS -Xloggc:{{hive_log_dir}}/hiveserverinteractive-gc-%t.log -XX:+UseG1GC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCCause -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=10 -XX:GCLogFileSize=10M -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath={{hive_log_dir}}/hsi_heapdump.hprof -Dhive.log.dir={{hive_log_dir}} -Dhive.log.file=hiveserver2Interactive.log\"\n\n# The heap size of the jvm stared by hive shell script can be controlled via:\nexport HADOOP_HEAPSIZE={{hive_interactive_heapsize}} # Setting for HiveServer2 and Client\n\n{% if security_enabled %}\nexport HADOOP_OPTS=\"$HADOOP_OPTS -Dzookeeper.sasl.client.username={{zk_principal_user}}\"\n{% endif %}\n\nexport HADOOP_CLIENT_OPTS=\"$HADOOP_CLIENT_OPTS  -Xmx${HADOOP_HEAPSIZE}m\"\nexport HADOOP_CLIENT_OPTS=\"$HADOOP_CLIENT_OPTS{{heap_dump_opts}}\"\n\n# Larger heap size may be required when running queries over large number of files or partitions.\n# By default hive shell scripts use a heap size of 256 (MB).  Larger heap size would also be\n# appropriate for hive server (hwi etc).\n\n\n# Set HADOOP_HOME to point to a specific hadoop install directory\nHADOOP_HOME=${HADOOP_HOME:-{{hadoop_home}}}\n\n# Hive Configuration Directory can be controlled by:\nexport HIVE_CONF_DIR={{hive_server_interactive_conf_dir}}\n\n# Add additional hcatalog jars\nif [ \"${HIVE_AUX_JARS_PATH}\" != \"\" ]; then\n  export HIVE_AUX_JARS_PATH=${HIVE_AUX_JARS_PATH}\nelse\n  export HIVE_AUX_JARS_PATH=/usr/hdp/current/hive-server2/lib/hive-hcatalog-core.jar\nfi\n\nexport METASTORE_PORT={{hive_metastore_port}}","enable_hive_interactive":"false","hive_aux_jars":"","hive_heapsize":"512","llap_app_name":"llap0","llap_headroom_space":"12288","llap_heap_size":"0","llap_java_opts":"-XX:+AlwaysPreTouch -XX:+UseG1GC -XX:TLABSize=8m -XX:+ResizeTLAB -XX:+UseNUMA -XX:+AggressiveOpts -XX:InitiatingHeapOccupancyPercent=70 -XX:+UnlockExperimentalVMOptions -XX:G1MaxNewSizePercent=40 -XX:G1ReservePercent=20 -XX:MaxGCPauseMillis=200{{heap_dump_opts}}","llap_log_level":"INFO","num_llap_nodes":"1","num_llap_nodes_for_llap_daemons":"1","num_retries_for_checking_llap_status":"20"}}},{"hive-interactive-site":{"properties_attributes":{},"properties":{"dfs.client.mmap.enabled":"false","dfs.short.circuit.shared.memory.watcher.interrupt.check.ms":"0","hive.auto.convert.join.noconditionaltask.size":"1000000000","hive.driver.parallel.compilation":"true","hive.druid.basePersistDirectory":"","hive.druid.bitmap.type":"roaring","hive.druid.broker.address.default":"localhost:8082","hive.druid.coordinator.address.default":"localhost:8082","hive.druid.http.read.timeout":"PT10M","hive.druid.indexer.memory.rownum.max":"75000","hive.druid.indexer.partition.size.max":"1000000","hive.druid.indexer.segments.granularity":"DAY","hive.druid.maxTries":"5","hive.druid.metadata.db.type":"mysql","hive.druid.metadata.password":"{{druid_metadata_password}}","hive.druid.metadata.uri":"jdbc:mysql://localhost:3355/druid","hive.druid.metadata.username":"druid","hive.druid.overlord.address.default":"localhost:8090","hive.druid.passiveWaitTimeMs":"30000","hive.druid.select.distribute":"true","hive.druid.storage.storageDirectory":"{{druid_storage_dir}}","hive.druid.working.directory":"/tmp/druid-indexing","hive.exec.orc.split.strategy":"HYBRID","hive.execution.mode":"llap","hive.limit.optimize.enable":"false","hive.llap.auto.allow.uber":"false","hive.llap.client.consistent.splits":"true","hive.llap.daemon.am.liveness.heartbeat.interval.ms":"10000ms","hive.llap.daemon.logger":"query-routing","hive.llap.daemon.num.executors":"1","hive.llap.daemon.queue.name":"default","hive.llap.daemon.rpc.port":"0","hive.llap.daemon.service.hosts":"@llap0","hive.llap.daemon.task.scheduler.enable.preemption":"true","hive.llap.daemon.vcpus.per.instance":"{hive_llap_daemon_num_executors}","hive.llap.daemon.yarn.container.mb":"0","hive.llap.daemon.yarn.shuffle.port":"15551","hive.llap.enable.grace.join.in.llap":"false","hive.llap.execution.mode":"only","hive.llap.io.allocator.mmap":"false","hive.llap.io.allocator.mmap.path":"","hive.llap.io.enabled":"true","hive.llap.io.memory.mode":"","hive.llap.io.memory.size":"0","hive.llap.io.threadpool.size":"2","hive.llap.io.use.lrfu":"true","hive.llap.management.rpc.port":"15004","hive.llap.mapjoin.memory.oversubscribe.factor":"0.3f","hive.llap.object.cache.enabled":"true","hive.llap.task.scheduler.locality.delay":"5000","hive.llap.zk.sm.connectionString":"ambari-node1.example.com:2181","hive.load.data.owner":"hive","hive.lock.manager":"","hive.map.aggr.hash.min.reduction":"0.99","hive.mapjoin.hybridgrace.hashtable":"false","hive.materializedview.rewriting.incremental":"false","hive.merge.nway.joins":"false","hive.metastore.event.listeners":"","hive.metastore.uris":"thrift://ambari-node1.example.com:9083","hive.optimize.dynamic.partition.hashjoin":"true","hive.prewarm.enabled":"false","hive.server2.active.passive.ha.registry.namespace":"hs2ActivePassiveHA","hive.server2.enable.doAs":"false","hive.server2.idle.operation.timeout":"6h","hive.server2.idle.session.timeout":"1d","hive.server2.tez.default.queues":"default","hive.server2.tez.initialize.default.sessions":"true","hive.server2.tez.sessions.custom.queue.allowed":"ignore","hive.server2.tez.sessions.per.default.queue":"1","hive.server2.tez.sessions.restricted.configs":"hive.execution.mode,hive.execution.engine","hive.server2.thrift.http.port":"10501","hive.server2.thrift.port":"10500","hive.server2.webui.cors.allowed.headers":"X-Requested-With,Content-Type,Accept,Origin,X-Requested-By,x-requested-by","hive.server2.webui.enable.cors":"true","hive.server2.webui.port":"10502","hive.server2.webui.use.ssl":"false","hive.server2.zookeeper.namespace":"hiveserver2-interactive","hive.strict.managed.tables":"true","hive.tez.bucket.pruning":"true","hive.tez.cartesian-product.enabled":"true","hive.tez.container.size":"682","hive.tez.exec.print.summary":"true","hive.tez.input.generate.consistent.splits":"true","hive.txn.strict.locking.mode":"false","hive.vectorized.execution.mapjoin.minmax.enabled":"true","hive.vectorized.execution.mapjoin.native.enabled":"true","hive.vectorized.execution.mapjoin.native.fast.hashtable.enabled":"true","hive.vectorized.execution.reduce.enabled":"true","hive.vectorized.groupby.maxentries":"1000000","llap.shuffle.connection-keep-alive.enable":"true","llap.shuffle.connection-keep-alive.timeout":"60"}}},{"hive-log4j2":{"properties_attributes":{},"properties":{"content":"\n# Licensed to the Apache Software Foundation (ASF) under one\n# or more contributor license agreements.  See the NOTICE file\n# distributed with this work for additional information\n# regarding copyright ownership.  The ASF licenses this file\n# to you under the Apache License, Version 2.0 (the\n# \"License\"); you may not use this file except in compliance\n# with the License.  You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\nstatus = INFO\nname = HiveLog4j2\npackages = org.apache.hadoop.hive.ql.log\n\n# list of properties\nproperty.hive.log.level = {{hive_log_level}}\nproperty.hive.root.logger = DRFA\nproperty.hive.log.dir = ${sys:java.io.tmpdir}/${sys:user.name}\nproperty.hive.log.file = hive.log\n\n# list of all appenders\nappenders = console, DRFA\n\n# console appender\nappender.console.type = Console\nappender.console.name = console\nappender.console.target = SYSTEM_ERR\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = %d{yy/MM/dd HH:mm:ss} [%t]: %p %c{2}: %m%n\n\n# daily rolling file appender\nappender.DRFA.type = RollingFile\nappender.DRFA.name = DRFA\nappender.DRFA.fileName = ${sys:hive.log.dir}/${sys:hive.log.file}\n# Use %pid in the filePattern to append process-id@host-name to the filename if you want separate log files for different CLI session\nappender.DRFA.filePattern = ${sys:hive.log.dir}/${sys:hive.log.file}.%d{yyyy-MM-dd}_%i.gz\nappender.DRFA.layout.type = PatternLayout\nappender.DRFA.layout.pattern = %d{ISO8601} %-5p [%t]: %c{2} (%F:%M(%L)) - %m%n\nappender.DRFA.policies.type = Policies\nappender.DRFA.policies.time.type = TimeBasedTriggeringPolicy\nappender.DRFA.policies.time.interval = 1\nappender.DRFA.policies.time.modulate = true\nappender.DRFA.strategy.type = DefaultRolloverStrategy\nappender.DRFA.strategy.max = {{hive2_log_maxbackupindex}}\nappender.DRFA.policies.fsize.type = SizeBasedTriggeringPolicy\nappender.DRFA.policies.fsize.size = {{hive2_log_maxfilesize}}MB\n\n# list of all loggers\nloggers = NIOServerCnxn, ClientCnxnSocketNIO, DataNucleus, Datastore, JPOX\n\nlogger.NIOServerCnxn.name = org.apache.zookeeper.server.NIOServerCnxn\nlogger.NIOServerCnxn.level = WARN\n\nlogger.ClientCnxnSocketNIO.name = org.apache.zookeeper.ClientCnxnSocketNIO\nlogger.ClientCnxnSocketNIO.level = WARN\n\nlogger.DataNucleus.name = DataNucleus\nlogger.DataNucleus.level = ERROR\n\nlogger.Datastore.name = Datastore\nlogger.Datastore.level = ERROR\n\nlogger.JPOX.name = JPOX\nlogger.JPOX.level = ERROR\n\n# root logger\nrootLogger.level = ${sys:hive.log.level}\nrootLogger.appenderRefs = root\nrootLogger.appenderRef.root.ref = ${sys:hive.root.logger}","hive2_log_maxbackupindex":"30","hive2_log_maxfilesize":"256"}}},{"hive-site":{"properties_attributes":{},"properties":{"ambari.hive.db.schema.name":"hive","atlas.hook.hive.maxThreads":"1","atlas.hook.hive.minThreads":"1","datanucleus.autoCreateSchema":"false","datanucleus.cache.level2.type":"none","datanucleus.fixedDatastore":"true","hive.auto.convert.join":"true","hive.auto.convert.join.noconditionaltask":"true","hive.auto.convert.join.noconditionaltask.size":"286331153","hive.auto.convert.sortmerge.join":"true","hive.auto.convert.sortmerge.join.to.mapjoin":"true","hive.cbo.enable":"true","hive.cli.print.header":"false","hive.cluster.delegation.token.store.class":"org.apache.hadoop.hive.thrift.ZooKeeperTokenStore","hive.cluster.delegation.token.store.zookeeper.connectString":"ambari-node1.example.com:2181","hive.cluster.delegation.token.store.zookeeper.znode":"/hive/cluster/delegation","hive.compactor.abortedtxn.threshold":"1000","hive.compactor.check.interval":"300","hive.compactor.delta.num.threshold":"10","hive.compactor.delta.pct.threshold":"0.1f","hive.compactor.initiator.on":"true","hive.compactor.worker.threads":"1","hive.compactor.worker.timeout":"86400","hive.compute.query.using.stats":"true","hive.convert.join.bucket.mapjoin.tez":"false","hive.create.as.insert.only":"true","hive.default.fileformat":"TextFile","hive.default.fileformat.managed":"ORC","hive.driver.parallel.compilation":"true","hive.enforce.sortmergebucketmapjoin":"true","hive.exec.compress.intermediate":"false","hive.exec.compress.output":"false","hive.exec.dynamic.partition":"true","hive.exec.dynamic.partition.mode":"nonstrict","hive.exec.failure.hooks":"org.apache.hadoop.hive.ql.hooks.HiveProtoLoggingHook","hive.exec.max.created.files":"100000","hive.exec.max.dynamic.partitions":"5000","hive.exec.max.dynamic.partitions.pernode":"2000","hive.exec.orc.split.strategy":"HYBRID","hive.exec.parallel":"false","hive.exec.parallel.thread.number":"8","hive.exec.post.hooks":"org.apache.hadoop.hive.ql.hooks.HiveProtoLoggingHook","hive.exec.pre.hooks":"org.apache.hadoop.hive.ql.hooks.HiveProtoLoggingHook","hive.exec.reducers.bytes.per.reducer":"67108864","hive.exec.reducers.max":"1009","hive.exec.scratchdir":"/tmp/hive","hive.exec.submit.local.task.via.child":"true","hive.exec.submitviachild":"false","hive.execution.mode":"container","hive.fetch.task.aggr":"false","hive.fetch.task.conversion":"more","hive.fetch.task.conversion.threshold":"1073741824","hive.heapsize":"1024","hive.hook.proto.base-directory":"{hive_metastore_warehouse_external_dir}/sys.db/query_data/","hive.limit.optimize.enable":"true","hive.limit.pushdown.memory.usage":"0.04","hive.load.data.owner":"hive","hive.lock.manager":"","hive.map.aggr":"true","hive.map.aggr.hash.force.flush.memory.threshold":"0.9","hive.map.aggr.hash.min.reduction":"0.5","hive.map.aggr.hash.percentmemory":"0.5","hive.mapjoin.bucket.cache.size":"10000","hive.mapjoin.hybridgrace.hashtable":"false","hive.mapjoin.optimized.hashtable":"true","hive.mapred.reduce.tasks.speculative.execution":"false","hive.materializedview.rewriting.incremental":"false","hive.merge.mapfiles":"true","hive.merge.mapredfiles":"false","hive.merge.orcfile.stripe.level":"true","hive.merge.rcfile.block.level":"true","hive.merge.size.per.task":"256000000","hive.merge.smallfiles.avgsize":"16000000","hive.merge.tezfiles":"false","hive.metastore.authorization.storage.checks":"false","hive.metastore.cache.pinobjtypes":"Table,Database,Type,FieldSchema,Order","hive.metastore.client.connect.retry.delay":"5s","hive.metastore.client.socket.timeout":"1800s","hive.metastore.connect.retries":"24","hive.metastore.db.type":"{{hive_metastore_db_type}}","hive.metastore.dml.events":"true","hive.metastore.event.listeners":"","hive.metastore.execute.setugi":"true","hive.metastore.failure.retries":"24","hive.metastore.kerberos.keytab.file":"/etc/security/keytabs/hive.service.keytab","hive.metastore.kerberos.principal":"hive/_HOST@EXAMPLE.COM","hive.metastore.pre.event.listeners":"org.apache.hadoop.hive.ql.security.authorization.AuthorizationPreEventListener","hive.metastore.sasl.enabled":"false","hive.metastore.server.max.threads":"100000","hive.metastore.transactional.event.listeners":"org.apache.hive.hcatalog.listener.DbNotificationListener","hive.metastore.uris":"thrift://ambari-node1.example.com:9083","hive.metastore.warehouse.dir":"/warehouse/tablespace/managed/hive","hive.metastore.warehouse.external.dir":"/warehouse/tablespace/external/hive","hive.optimize.bucketmapjoin":"true","hive.optimize.bucketmapjoin.sortedmerge":"false","hive.optimize.constant.propagation":"true","hive.optimize.dynamic.partition.hashjoin":"true","hive.optimize.index.filter":"true","hive.optimize.metadataonly":"true","hive.optimize.null.scan":"true","hive.optimize.reducededuplication":"true","hive.optimize.reducededuplication.min.reducer":"4","hive.optimize.sort.dynamic.partition":"false","hive.orc.compute.splits.num.threads":"10","hive.orc.splits.include.file.footer":"false","hive.prewarm.enabled":"false","hive.prewarm.numcontainers":"3","hive.repl.cm.enabled":"","hive.repl.cmrootdir":"","hive.repl.rootdir":"","hive.security.metastore.authenticator.manager":"org.apache.hadoop.hive.ql.security.HadoopDefaultMetastoreAuthenticator","hive.security.metastore.authorization.auth.reads":"true","hive.security.metastore.authorization.manager":"org.apache.hadoop.hive.ql.security.authorization.StorageBasedAuthorizationProvider","hive.server2.allow.user.substitution":"true","hive.server2.authentication":"NONE","hive.server2.authentication.ldap.baseDN":null,"hive.server2.authentication.pam.services":null,"hive.server2.authentication.spnego.keytab":"HTTP/_HOST@EXAMPLE.COM","hive.server2.authentication.spnego.principal":"/etc/security/keytabs/spnego.service.keytab","hive.server2.custom.authentication.class":null,"hive.server2.enable.doAs":"true","hive.server2.idle.operation.timeout":"6h","hive.server2.idle.session.timeout":"1d","hive.server2.logging.operation.enabled":"true","hive.server2.logging.operation.log.location":"/tmp/hive/operation_logs","hive.server2.max.start.attempts":"5","hive.server2.support.dynamic.service.discovery":"true","hive.server2.table.type.mapping":"CLASSIC","hive.server2.tez.default.queues":"default","hive.server2.tez.initialize.default.sessions":"false","hive.server2.tez.sessions.per.default.queue":"1","hive.server2.thrift.http.path":"cliservice","hive.server2.thrift.http.port":"10001","hive.server2.thrift.max.worker.threads":"500","hive.server2.thrift.port":"10000","hive.server2.thrift.sasl.qop":"auth","hive.server2.transport.mode":"binary","hive.server2.use.SSL":"false","hive.server2.webui.cors.allowed.headers":"X-Requested-With,Content-Type,Accept,Origin,X-Requested-By,x-requested-by","hive.server2.webui.enable.cors":"true","hive.server2.webui.port":"10002","hive.server2.webui.use.ssl":"false","hive.server2.zookeeper.namespace":"hiveserver2","hive.service.metrics.codahale.reporter.classes":"org.apache.hadoop.hive.common.metrics.metrics2.JsonFileMetricsReporter,org.apache.hadoop.hive.common.metrics.metrics2.JmxMetricsReporter,org.apache.hadoop.hive.common.metrics.metrics2.Metrics2Reporter","hive.smbjoin.cache.rows":"10000","hive.stats.autogather":"true","hive.stats.dbclass":"fs","hive.stats.fetch.column.stats":"true","hive.stats.fetch.partition.stats":"true","hive.strict.managed.tables":"true","hive.support.concurrency":"true","hive.tez.auto.reducer.parallelism":"true","hive.tez.bucket.pruning":"true","hive.tez.cartesian-product.enabled":"true","hive.tez.container.size":"1024","hive.tez.cpu.vcores":"-1","hive.tez.dynamic.partition.pruning":"true","hive.tez.dynamic.partition.pruning.max.data.size":"104857600","hive.tez.dynamic.partition.pruning.max.event.size":"1048576","hive.tez.exec.print.summary":"true","hive.tez.input.format":"org.apache.hadoop.hive.ql.io.HiveInputFormat","hive.tez.input.generate.consistent.splits":"true","hive.tez.java.opts":"-server -Djava.net.preferIPv4Stack=true -XX:NewRatio=8 -XX:+UseNUMA -XX:+UseG1GC -XX:+ResizeTLAB -XX:+PrintGCDetails -verbose:gc -XX:+PrintGCTimeStamps","hive.tez.log.level":"INFO","hive.tez.max.partition.factor":"2.0","hive.tez.min.partition.factor":"0.25","hive.tez.smb.number.waves":"0.5","hive.txn.manager":"org.apache.hadoop.hive.ql.lockmgr.DbTxnManager","hive.txn.max.open.batch":"1000","hive.txn.strict.locking.mode":"false","hive.txn.timeout":"300","hive.user.install.directory":"/user/","hive.vectorized.execution.enabled":"true","hive.vectorized.execution.mapjoin.minmax.enabled":"true","hive.vectorized.execution.mapjoin.native.enabled":"true","hive.vectorized.execution.mapjoin.native.fast.hashtable.enabled":"true","hive.vectorized.execution.reduce.enabled":"true","hive.vectorized.groupby.checkinterval":"4096","hive.vectorized.groupby.flush.percent":"0.1","hive.vectorized.groupby.maxentries":"100000","hive.zookeeper.client.port":"2181","hive.zookeeper.namespace":"hive_zookeeper_namespace","hive.zookeeper.quorum":"ambari-node1.example.com:2181","javax.jdo.option.ConnectionDriverName":"com.mysql.jdbc.Driver","javax.jdo.option.ConnectionPassword":"hive","javax.jdo.option.ConnectionURL":"jdbc:mysql://ambari-db.example.com/hive","javax.jdo.option.ConnectionUserName":"hive","metastore.create.as.acid":"true"}}},{"hivemetastore-site":{"properties_attributes":{},"properties":{"hive.compactor.initiator.on":"true","hive.compactor.worker.threads":"5","hive.metastore.dml.events":"true","hive.metastore.event.listeners":"","hive.metastore.metrics.enabled":"true","hive.metastore.transactional.event.listeners":"org.apache.hive.hcatalog.listener.DbNotificationListener","hive.server2.metrics.enabled":"true","hive.service.metrics.hadoop2.component":"hivemetastore","hive.service.metrics.reporter":"HADOOP2"}}},{"hiveserver2-interactive-site":{"properties_attributes":{},"properties":{"hive.async.log.enabled":"false","hive.metastore.metrics.enabled":"true","hive.server2.metrics.enabled":"true","hive.service.metrics.hadoop2.component":"hiveserver2","hive.service.metrics.reporter":"HADOOP2"}}},{"hiveserver2-site":{"properties_attributes":{},"properties":{"hive.conf.restricted.list":"hive.security.authenticator.manager,hive.security.authorization.manager,hive.security.metastore.authorization.manager,hive.security.metastore.authenticator.manager,hive.users.in.admin.role,hive.server2.xsrf.filter.enabled,hive.security.authorization.enabled","hive.metastore.metrics.enabled":"true","hive.security.authenticator.manager":"org.apache.hadoop.hive.ql.security.SessionStateUserAuthenticator","hive.security.authorization.enabled":"true","hive.security.authorization.manager":"org.apache.hadoop.hive.ql.security.authorization.plugin.fallback.FallbackHiveAuthorizerFactory","hive.server2.metrics.enabled":"true","hive.service.metrics.hadoop2.component":"hiveserver2","hive.service.metrics.reporter":"HADOOP2"}}},{"llap-cli-log4j2":{"properties_attributes":{},"properties":{"content":"\n# Licensed to the Apache Software Foundation (ASF) under one\n# or more contributor license agreements.  See the NOTICE file\n# distributed with this work for additional information\n# regarding copyright ownership.  The ASF licenses this file\n# to you under the Apache License, Version 2.0 (the\n# \"License\"); you may not use this file except in compliance\n# with the License.  You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\nstatus = WARN\nname = LlapCliLog4j2\npackages = org.apache.hadoop.hive.ql.log\n\n# list of properties\nproperty.hive.log.level = WARN\nproperty.hive.root.logger = console\nproperty.hive.log.dir = ${sys:java.io.tmpdir}/${sys:user.name}\nproperty.hive.log.file = llap-cli.log\nproperty.hive.llapstatus.consolelogger.level = INFO\n\n# list of all appenders\nappenders = console, DRFA, llapstatusconsole\n\n# console appender\nappender.console.type = Console\nappender.console.name = console\nappender.console.target = SYSTEM_ERR\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = %p %c{2}: %m%n\n\n# llapstatusconsole appender\nappender.llapstatusconsole.type = Console\nappender.llapstatusconsole.name = llapstatusconsole\nappender.llapstatusconsole.target = SYSTEM_OUT\nappender.llapstatusconsole.layout.type = PatternLayout\nappender.llapstatusconsole.layout.pattern = %m%n\n\n# daily rolling file appender\nappender.DRFA.type = RollingRandomAccessFile\nappender.DRFA.name = DRFA\nappender.DRFA.fileName = ${sys:hive.log.dir}/${sys:hive.log.file}\n# Use %pid in the filePattern to append process-id@host-name to the filename if you want separate log files for different CLI session\nappender.DRFA.filePattern = ${sys:hive.log.dir}/${sys:hive.log.file}.%d{yyyy-MM-dd}_%i\nappender.DRFA.layout.type = PatternLayout\nappender.DRFA.layout.pattern = %d{ISO8601} %5p [%t] %c{2}: %m%n\nappender.DRFA.policies.type = Policies\nappender.DRFA.policies.time.type = TimeBasedTriggeringPolicy\nappender.DRFA.policies.time.interval = 1\nappender.DRFA.policies.time.modulate = true\nappender.DRFA.strategy.type = DefaultRolloverStrategy\nappender.DRFA.strategy.max = {{llap_cli_log_maxbackupindex}}\nappender.DRFA.policies.fsize.type = SizeBasedTriggeringPolicy\nappender.DRFA.policies.fsize.size = {{llap_cli_log_maxfilesize}}MB\n\n# list of all loggers\nloggers = ZooKeeper, DataNucleus, Datastore, JPOX, HadoopConf, LlapStatusServiceDriverConsole\n\nlogger.ZooKeeper.name = org.apache.zookeeper\nlogger.ZooKeeper.level = WARN\n\nlogger.DataNucleus.name = DataNucleus\nlogger.DataNucleus.level = ERROR\n\nlogger.Datastore.name = Datastore\nlogger.Datastore.level = ERROR\n\nlogger.JPOX.name = JPOX\nlogger.JPOX.level = ERROR\n\nlogger.HadoopConf.name = org.apache.hadoop.conf.Configuration\nlogger.HadoopConf.level = ERROR\n\nlogger.LlapStatusServiceDriverConsole.name = LlapStatusServiceDriverConsole\nlogger.LlapStatusServiceDriverConsole.additivity = false\nlogger.LlapStatusServiceDriverConsole.level = ${sys:hive.llapstatus.consolelogger.level}\n\n\n# root logger\nrootLogger.level = ${sys:hive.log.level}\nrootLogger.appenderRefs = root, DRFA\nrootLogger.appenderRef.root.ref = ${sys:hive.root.logger}\nrootLogger.appenderRef.DRFA.ref = DRFA\nlogger.LlapStatusServiceDriverConsole.appenderRefs = llapstatusconsole, DRFA\nlogger.LlapStatusServiceDriverConsole.appenderRef.llapstatusconsole.ref = llapstatusconsole\nlogger.LlapStatusServiceDriverConsole.appenderRef.DRFA.ref = DRFA","llap_cli_log_maxbackupindex":"30","llap_cli_log_maxfilesize":"256"}}},{"llap-daemon-log4j":{"properties_attributes":{},"properties":{"content":"\n# Licensed to the Apache Software Foundation (ASF) under one\n# or more contributor license agreements.  See the NOTICE file\n# distributed with this work for additional information\n# regarding copyright ownership.  The ASF licenses this file\n# to you under the Apache License, Version 2.0 (the\n# \"License\"); you may not use this file except in compliance\n# with the License.  You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\n\n# This is the log4j2 properties file used by llap-daemons. There's several loggers defined, which\n# can be selected while configuring LLAP.\n# Based on the one selected - UI links etc need to be manipulated in the system.\n# Note: Some names and logic is common to this file and llap LogHelpers. Make sure to change that\n# as well, if changing this file.\n\nstatus = INFO\nname = LlapDaemonLog4j2\npackages = org.apache.hadoop.hive.ql.log\n\n# list of properties\nproperty.llap.daemon.log.level = {{hive_log_level}}\nproperty.llap.daemon.root.logger = console\nproperty.llap.daemon.log.dir = .\nproperty.llap.daemon.log.file = llapdaemon.log\nproperty.llap.daemon.historylog.file = llapdaemon_history.log\nproperty.llap.daemon.log.maxfilesize = {{hive_llap_log_maxfilesize}}MB\nproperty.llap.daemon.log.maxbackupindex = {{hive_llap_log_maxbackupindex}}\n\n# list of all appenders\nappenders = console, RFA, HISTORYAPPENDER, query-routing\n\n# console appender\nappender.console.type = Console\nappender.console.name = console\nappender.console.target = SYSTEM_ERR\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = %d{ISO8601} %5p [%t (%X{fragmentId})] %c{2}: %m%n\n\n# rolling file appender\nappender.RFA.type = RollingRandomAccessFile\nappender.RFA.name = RFA\nappender.RFA.fileName = ${sys:llap.daemon.log.dir}/${sys:llap.daemon.log.file}\nappender.RFA.filePattern = ${sys:llap.daemon.log.dir}/${sys:llap.daemon.log.file}_%d{yyyy-MM-dd-HH}_%i.done\nappender.RFA.layout.type = PatternLayout\nappender.RFA.layout.pattern = %d{ISO8601} %-5p [%t (%X{fragmentId})] %c: %m%n\nappender.RFA.policies.type = Policies\nappender.RFA.policies.time.type = TimeBasedTriggeringPolicy\nappender.RFA.policies.time.interval = 1\nappender.RFA.policies.time.modulate = true\nappender.RFA.policies.size.type = SizeBasedTriggeringPolicy\nappender.RFA.policies.size.size = ${sys:llap.daemon.log.maxfilesize}\nappender.RFA.strategy.type = DefaultRolloverStrategy\nappender.RFA.strategy.max = ${sys:llap.daemon.log.maxbackupindex}\n\n# history file appender\nappender.HISTORYAPPENDER.type = RollingRandomAccessFile\nappender.HISTORYAPPENDER.name = HISTORYAPPENDER\nappender.HISTORYAPPENDER.fileName = ${sys:llap.daemon.log.dir}/${sys:llap.daemon.historylog.file}\nappender.HISTORYAPPENDER.filePattern = ${sys:llap.daemon.log.dir}/${sys:llap.daemon.historylog.file}_%d{yyyy-MM-dd}_%i.done\nappender.HISTORYAPPENDER.layout.type = PatternLayout\nappender.HISTORYAPPENDER.layout.pattern = %m%n\nappender.HISTORYAPPENDER.policies.type = Policies\nappender.HISTORYAPPENDER.policies.size.type = SizeBasedTriggeringPolicy\nappender.HISTORYAPPENDER.policies.size.size = ${sys:llap.daemon.log.maxfilesize}\nappender.HISTORYAPPENDER.policies.time.type = TimeBasedTriggeringPolicy\nappender.HISTORYAPPENDER.policies.time.interval = 1\nappender.HISTORYAPPENDER.policies.time.modulate = true\nappender.HISTORYAPPENDER.strategy.type = DefaultRolloverStrategy\nappender.HISTORYAPPENDER.strategy.max = ${sys:llap.daemon.log.maxbackupindex}\n\n# queryId based routing file appender\nappender.query-routing.type = Routing\nappender.query-routing.name = query-routing\nappender.query-routing.routes.type = Routes\nappender.query-routing.routes.pattern = $${ctx:queryId}\n#Purge polciy for query-based Routing Appender\nappender.query-routing.purgePolicy.type = LlapRoutingAppenderPurgePolicy\n# Note: Do not change this name without changing the corresponding entry in LlapConstants\nappender.query-routing.purgePolicy.name = llapLogPurgerQueryRouting\n# default route\nappender.query-routing.routes.route-default.type = Route\nappender.query-routing.routes.route-default.key = $${ctx:queryId}\nappender.query-routing.routes.route-default.ref = RFA\n# queryId based route\nappender.query-routing.routes.route-mdc.type = Route\nappender.query-routing.routes.route-mdc.file-mdc.type = LlapWrappedAppender\nappender.query-routing.routes.route-mdc.file-mdc.name = IrrelevantName-query-routing\nappender.query-routing.routes.route-mdc.file-mdc.app.type = RandomAccessFile\nappender.query-routing.routes.route-mdc.file-mdc.app.name = file-mdc\nappender.query-routing.routes.route-mdc.file-mdc.app.fileName = ${sys:llap.daemon.log.dir}/${ctx:queryId}-${ctx:dagId}.log\nappender.query-routing.routes.route-mdc.file-mdc.app.layout.type = PatternLayout\nappender.query-routing.routes.route-mdc.file-mdc.app.layout.pattern = %d{ISO8601} %5p [%t (%X{fragmentId})] %c{2}: %m%n\n\n# list of all loggers\nloggers = PerfLogger, EncodedReader, NIOServerCnxn, ClientCnxnSocketNIO, DataNucleus, Datastore, JPOX, HistoryLogger, LlapIoImpl, LlapIoOrc, LlapIoCache, LlapIoLocking, TezSM, TezSS, TezHC\n\nlogger.TezSM.name = org.apache.tez.runtime.library.common.shuffle.impl.ShuffleManager.fetch\nlogger.TezSM.level = WARN\nlogger.TezSS.name = org.apache.tez.runtime.library.common.shuffle.orderedgrouped.ShuffleScheduler.fetch\nlogger.TezSS.level = WARN\nlogger.TezHC.name = org.apache.tez.http.HttpConnection.url\nlogger.TezHC.level = WARN\n\nlogger.PerfLogger.name = org.apache.hadoop.hive.ql.log.PerfLogger\nlogger.PerfLogger.level = DEBUG\n\nlogger.EncodedReader.name = org.apache.hadoop.hive.ql.io.orc.encoded.EncodedReaderImpl\nlogger.EncodedReader.level = INFO\n\nlogger.LlapIoImpl.name = LlapIoImpl\nlogger.LlapIoImpl.level = INFO\n\nlogger.LlapIoOrc.name = LlapIoOrc\nlogger.LlapIoOrc.level = WARN\n\nlogger.LlapIoCache.name = LlapIoCache\nlogger.LlapIoCache.level = WARN\n\nlogger.LlapIoLocking.name = LlapIoLocking\nlogger.LlapIoLocking.level = WARN\n\nlogger.NIOServerCnxn.name = org.apache.zookeeper.server.NIOServerCnxn\nlogger.NIOServerCnxn.level = WARN\n\nlogger.ClientCnxnSocketNIO.name = org.apache.zookeeper.ClientCnxnSocketNIO\nlogger.ClientCnxnSocketNIO.level = WARN\n\nlogger.DataNucleus.name = DataNucleus\nlogger.DataNucleus.level = ERROR\n\nlogger.Datastore.name = Datastore\nlogger.Datastore.level = ERROR\n\nlogger.JPOX.name = JPOX\nlogger.JPOX.level = ERROR\n\nlogger.HistoryLogger.name = org.apache.hadoop.hive.llap.daemon.HistoryLogger\nlogger.HistoryLogger.level = INFO\nlogger.HistoryLogger.additivity = false\nlogger.HistoryLogger.appenderRefs = HistoryAppender\nlogger.HistoryLogger.appenderRef.HistoryAppender.ref = HISTORYAPPENDER\n\n# root logger\nrootLogger.level = ${sys:llap.daemon.log.level}\nrootLogger.appenderRefs = root\nrootLogger.appenderRef.root.ref = ${sys:llap.daemon.root.logger}","hive_llap_log_maxbackupindex":"240","hive_llap_log_maxfilesize":"256"}}},{"parquet-logging":{"properties_attributes":{},"properties":{"content":"\n# Licensed to the Apache Software Foundation (ASF) under one\n# or more contributor license agreements.  See the NOTICE file\n# distributed with this work for additional information\n# regarding copyright ownership.  The ASF licenses this file\n# to you under the Apache License, Version 2.0 (the\n# \"License\"); you may not use this file except in compliance\n# with the License.  You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\n# Properties file which configures the operation of the JDK\n# logging facility.\n\n# The system will look for this config file, first using\n# a System property specified at startup:\n#\n# >java -Djava.util.logging.config.file=myLoggingConfigFilePath\n#\n# If this property is not specified, then the config file is\n# retrieved from its default location at:\n#\n# JDK_HOME/jre/lib/logging.properties\n\n# Global logging properties.\n# ------------------------------------------\n# The set of handlers to be loaded upon startup.\n# Comma-separated list of class names.\n# (? LogManager docs say no comma here, but JDK example has comma.)\n# handlers=java.util.logging.ConsoleHandler\norg.apache.parquet.handlers= java.util.logging.FileHandler\n\n# Default global logging level.\n# Loggers and Handlers may override this level\n.level=INFO\n\n# Handlers\n# -----------------------------------------\n\n# --- ConsoleHandler ---\n# Override of global logging level\njava.util.logging.ConsoleHandler.level=INFO\njava.util.logging.ConsoleHandler.formatter=java.util.logging.SimpleFormatter\njava.util.logging.SimpleFormatter.format=[%1$tc] %4$s: %2$s - %5$s %6$s%n\n\n# --- FileHandler ---\n# Override of global logging level\njava.util.logging.FileHandler.level=ALL\n\n# Naming style for the output file:\n# (The output file is placed in the system temporary directory.\n# %u is used to provide unique identifier for the file.\n# For more information refer\n# https://docs.oracle.com/javase/7/docs/api/java/util/logging/FileHandler.html)\njava.util.logging.FileHandler.pattern=%t/parquet-%u.log\n\n# Limiting size of output file in bytes:\njava.util.logging.FileHandler.limit=50000000\n\n# Number of output files to cycle through, by appending an\n# integer to the base file name:\njava.util.logging.FileHandler.count=1\n\n# Style of output (Simple or XML):\njava.util.logging.FileHandler.formatter=java.util.logging.SimpleFormatter"}}},{"ranger-hive-audit":{"properties_attributes":{},"properties":{}}},{"ranger-hive-plugin-properties":{"properties_attributes":{},"properties":{}}},{"ranger-hive-policymgr-ssl":{"properties_attributes":{},"properties":{}}},{"ranger-hive-security":{"properties_attributes":{},"properties":{}}},{"tez-interactive-site":{"properties_attributes":{},"properties":{"tez.am.am-rm.heartbeat.interval-ms.max":"10000","tez.am.client.heartbeat.poll.interval.millis":"6000","tez.am.client.heartbeat.timeout.secs":"90","tez.am.node-blacklisting.enabled":"false","tez.am.resource.memory.mb":"1536","tez.am.task.listener.thread-count":"1","tez.am.task.reschedule.higher.priority":"false","tez.container.max.java.heap.fraction":"-1","tez.dag.recovery.enabled":"false","tez.grouping.node.local.only":"true","tez.history.logging.log.level":"TASK_ATTEMPT","tez.history.logging.taskattempt-filters":"SERVICE_BUSY,EXTERNAL_PREEMPTION","tez.history.logging.timeline.num-dags-per-group":"5","tez.lib.uris":"/hdp/apps/${hdp.version}/tez/tez.tar.gz","tez.runtime.enable.final-merge.in.output":"false","tez.runtime.io.sort.mb":"512","tez.runtime.pipelined-shuffle.enabled":"false","tez.runtime.pipelined.sorter.lazy-allocate.memory":"true","tez.runtime.report.partition.stats":"true","tez.runtime.shuffle.connect.timeout":"30000","tez.runtime.shuffle.fetch.buffer.percent":"0.6","tez.runtime.shuffle.fetch.verify-disk-checksum":"false","tez.runtime.shuffle.keep-alive.enabled":"true","tez.runtime.shuffle.memory.limit.percent":"0.25","tez.runtime.shuffle.parallel.copies":"8","tez.runtime.shuffle.read.timeout":"30000","tez.runtime.shuffle.ssl.enable":"false","tez.runtime.unordered.output.buffer.size-mb":"100","tez.runtime.unordered.output.max-per-buffer.size-bytes":"134217728","tez.session.am.dag.submit.timeout.secs":"1209600","tez.task.heartbeat.timeout.check-ms":"15000","tez.task.timeout-ms":"90000"}}},{"pig-env":{"properties_attributes":{},"properties":{"content":"\nJAVA_HOME={{java64_home}}\nHADOOP_HOME=${HADOOP_HOME:-{{hadoop_home}}}\n\nif [ -d \"/usr/lib/tez\" ]; then\n  PIG_OPTS=\"$PIG_OPTS -Dmapreduce.framework.name=yarn\"\nfi"}}},{"pig-log4j":{"properties_attributes":{},"properties":{"content":"\n#\n#\n# Licensed to the Apache Software Foundation (ASF) under one\n# or more contributor license agreements.  See the NOTICE file\n# distributed with this work for additional information\n# regarding copyright ownership.  The ASF licenses this file\n# to you under the Apache License, Version 2.0 (the\n# \"License\"); you may not use this file except in compliance\n# with the License.  You may obtain a copy of the License at\n#\n#   http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing,\n# software distributed under the License is distributed on an\n# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n# KIND, either express or implied.  See the License for the\n# specific language governing permissions and limitations\n# under the License.\n#\n#\n#\n\n# ***** Set root logger level to DEBUG and its only appender to A.\nlog4j.logger.org.apache.pig=info, A\n\n# ***** A is set to be a ConsoleAppender.\nlog4j.appender.A=org.apache.log4j.ConsoleAppender\n# ***** A uses PatternLayout.\nlog4j.appender.A.layout=org.apache.log4j.PatternLayout\nlog4j.appender.A.layout.ConversionPattern=%-4r [%t] %-5p %c %x - %m%n"}}},{"pig-properties":{"properties_attributes":{},"properties":{"content":"\n# Licensed to the Apache Software Foundation (ASF) under one\n# or more contributor license agreements.  See the NOTICE file\n# distributed with this work for additional information\n# regarding copyright ownership.  The ASF licenses this file\n# to you under the Apache License, Version 2.0 (the\n# \"License\"); you may not use this file except in compliance\n# with the License.  You may obtain a copy of the License at\n#\n#   http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing,\n# software distributed under the License is distributed on an\n# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n# KIND, either express or implied.  See the License for the\n# specific language governing permissions and limitations\n# under the License.\n\n# Pig default configuration file. All values can be overwritten by pig.properties and command line arguments.\n# see bin/pig -help\n\n# brief logging (no timestamps)\nbrief=false\n\n# debug level, INFO is default\ndebug=INFO\n\n# verbose print all log messages to screen (default to print only INFO and above to screen)\nverbose=false\n\n# exectype local|mapreduce|tez, mapreduce is default\nexectype=tez\n\n# Enable insertion of information about script into hadoop job conf\npig.script.info.enabled=true\n\n# Do not spill temp files smaller than this size (bytes)\npig.spill.size.threshold=5000000\n\n# EXPERIMENT: Activate garbage collection when spilling a file bigger than this size (bytes)\n# This should help reduce the number of files being spilled.\npig.spill.gc.activation.size=40000000\n\n# the following two parameters are to help estimate the reducer number\npig.exec.reducers.bytes.per.reducer=1000000000\npig.exec.reducers.max=999\n\n# Temporary location to store the intermediate data.\npig.temp.dir=/tmp/\n\n# Threshold for merging FRJoin fragment files\npig.files.concatenation.threshold=100\npig.optimistic.files.concatenation=false;\n\npig.disable.counter=false\n\nhcat.bin=/usr/bin/hcat"}}},{"sqoop-atlas-application.properties":{"properties_attributes":{},"properties":{"atlas.jaas.KafkaClient.option.renewTicket":"true","atlas.jaas.KafkaClient.option.useTicketCache":"true"}}},{"sqoop-env":{"properties_attributes":{},"properties":{"content":"\n# Set Hadoop-specific environment variables here.\n\n#Set path to where bin/hadoop is available\n#Set path to where bin/hadoop is available\nexport HADOOP_HOME=${HADOOP_HOME:-{{hadoop_home}}}\n\n#set the path to where bin/hbase is available\nexport HBASE_HOME=${HBASE_HOME:-{{hbase_home}}}\n\n#Set the path to where bin/hive is available\nexport HIVE_HOME=${HIVE_HOME:-{{hive_home}}}\n\n#Set the path for where zookeper config dir is\nexport ZOOCFGDIR=${ZOOCFGDIR:-/etc/zookeeper/conf}\n\n# add libthrift in hive to sqoop class path first so hive imports work\nexport SQOOP_USER_CLASSPATH=\"`ls ${HIVE_HOME}/lib/libthrift-*.jar 2> /dev/null`:${SQOOP_USER_CLASSPATH}\"","jdbc_drivers":" ","sqoop.atlas.hook":"false","sqoop_user":"sqoop"}}},{"sqoop-site":{"properties_attributes":{},"properties":{}}},{"oozie-env":{"properties_attributes":{},"properties":{"content":"\n#!/bin/bash\n\nif [ -d \"/usr/lib/bigtop-tomcat\" ]; then\n  export OOZIE_CONFIG=${OOZIE_CONFIG:-{{conf_dir}}}\n  export CATALINA_BASE=${CATALINA_BASE:-{{oozie_server_dir}}}\n  export CATALINA_TMPDIR=${CATALINA_TMPDIR:-/var/tmp/oozie}\n  export OOZIE_CATALINA_HOME=/usr/lib/bigtop-tomcat\nfi\n\n#Set JAVA HOME\nexport JAVA_HOME={{java_home}}\n\nexport JRE_HOME=${JAVA_HOME}\n\n# Set Oozie specific environment variables here.\n\n# Settings for the Embedded Tomcat that runs Oozie\n# Java System properties for Oozie should be specified in this variable\n#\n{% if java_version < 8 %}\nexport CATALINA_OPTS=\"$CATALINA_OPTS -Xmx{{oozie_heapsize}} -XX:MaxPermSize={{oozie_permsize}}\"\n{% else %}\nexport CATALINA_OPTS=\"$CATALINA_OPTS -Xmx{{oozie_heapsize}}\"\n{% endif %}\n# Oozie configuration file to load from Oozie configuration directory\n#\n# export OOZIE_CONFIG_FILE=oozie-site.xml\n\n# Oozie logs directory\n#\nexport OOZIE_LOG={{oozie_log_dir}}\n\n# Oozie pid directory\n#\nexport CATALINA_PID={{pid_file}}\n\n#Location of the data for oozie\nexport OOZIE_DATA={{oozie_data_dir}}\n\n# Oozie Log4J configuration file to load from Oozie configuration directory\n#\n# export OOZIE_LOG4J_FILE=oozie-log4j.properties\n\n# Reload interval of the Log4J configuration file, in seconds\n#\n# export OOZIE_LOG4J_RELOAD=10\n\n# The port Oozie server runs\n#\nexport OOZIE_HTTP_PORT={{oozie_server_port}}\n\n# The admin port Oozie server runs\n#\nexport OOZIE_ADMIN_PORT={{oozie_server_admin_port}}\n\n# The host name Oozie server runs on\n#\n# export OOZIE_HTTP_HOSTNAME=`hostname -f`\n\n# The base URL for callback URLs to Oozie\n#\n# export OOZIE_BASE_URL=\"http://${OOZIE_HTTP_HOSTNAME}:${OOZIE_HTTP_PORT}/oozie\"\nexport JAVA_LIBRARY_PATH={{hadoop_lib_home}}/native/Linux-{{architecture}}-64\n\n# At least 1 minute of retry time to account for server downtime during\n# upgrade/downgrade\nexport OOZIE_CLIENT_OPTS=\"${OOZIE_CLIENT_OPTS} -Doozie.connection.retry.count=5 \"\n\n{% if sqla_db_used or lib_dir_available %}\nexport LD_LIBRARY_PATH=\"$LD_LIBRARY_PATH:{{jdbc_libs_dir}}\"\nexport JAVA_LIBRARY_PATH=\"$JAVA_LIBRARY_PATH:{{jdbc_libs_dir}}\"\n{% endif %}","oozie_admin_port":"11001","oozie_admin_users":"{oozie_user}, oozie-admin","oozie_data_dir":"/hadoop/oozie/data","oozie_database":"Existing MySQL / MariaDB Database","oozie_heapsize":"2048","oozie_log_dir":"/var/log/oozie","oozie_permsize":"256","oozie_pid_dir":"/var/run/oozie","oozie_tmp_dir":"/var/tmp/oozie","oozie_user_nofile_limit":"32000","oozie_user_nproc_limit":"16000","service_check_job_name":"no-op","test_db_connection":"","oozie_user":"oozie"}}},{"oozie-log4j":{"properties_attributes":{},"properties":{"content":"\n#\n# Licensed to the Apache Software Foundation (ASF) under one\n# or more contributor license agreements.  See the NOTICE file\n# distributed with this work for additional information\n# regarding copyright ownership.  The ASF licenses this file\n# to you under the Apache License, Version 2.0 (the\n# \"License\"); you may not use this file except in compliance\n# with the License.  You may obtain a copy of the License at\n#\n#    http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License. See accompanying LICENSE file.\n#\n\n# If the Java System property 'oozie.log.dir' is not defined at Oozie start up time\n# XLogService sets its value to '${oozie.home}/logs'\n\n# The appender that Oozie uses must be named 'oozie' (i.e. log4j.appender.oozie)\n\n# Using the RollingFileAppender with the OozieRollingPolicy will roll the log file every hour and retain up to MaxHistory number of\n# log files. If FileNamePattern ends with \".gz\" it will create gzip files.\nlog4j.appender.oozie=org.apache.log4j.rolling.RollingFileAppender\nlog4j.appender.oozie.RollingPolicy=org.apache.oozie.util.OozieRollingPolicy\nlog4j.appender.oozie.File=${oozie.log.dir}/oozie.log\nlog4j.appender.oozie.Append=true\nlog4j.appender.oozie.layout=org.apache.log4j.PatternLayout\nlog4j.appender.oozie.layout.ConversionPattern=%d{ISO8601} %5p %c{1}:%L - SERVER[${oozie.instance.id}] %m%n\n# The FileNamePattern must end with \"-%d{yyyy-MM-dd-HH}.gz\" or \"-%d{yyyy-MM-dd-HH}\" and also start with the\n# value of log4j.appender.oozie.File\nlog4j.appender.oozie.RollingPolicy.FileNamePattern=${log4j.appender.oozie.File}-%d{yyyy-MM-dd-HH}\n# The MaxHistory controls how many log files will be retained (720 hours / 24 hours per day = 30 days); -1 to disable\nlog4j.appender.oozie.RollingPolicy.MaxHistory={{oozie_log_maxhistory}}\n\n\n\nlog4j.appender.oozieError=org.apache.log4j.rolling.RollingFileAppender\nlog4j.appender.oozieError.RollingPolicy=org.apache.oozie.util.OozieRollingPolicy\nlog4j.appender.oozieError.File=${oozie.log.dir}/oozie-error.log\nlog4j.appender.oozieError.Append=true\nlog4j.appender.oozieError.layout=org.apache.log4j.PatternLayout\nlog4j.appender.oozieError.layout.ConversionPattern=%d{ISO8601} %5p %c{1}:%L - SERVER[${oozie.instance.id}] %m%n\n# The FileNamePattern must end with \"-%d{yyyy-MM-dd-HH}.gz\" or \"-%d{yyyy-MM-dd-HH}\" and also start with the\n# value of log4j.appender.oozieError.File\nlog4j.appender.oozieError.RollingPolicy.FileNamePattern=${log4j.appender.oozieError.File}-%d{yyyy-MM-dd-HH}\n# The MaxHistory controls how many log files will be retained (720 hours / 24 hours per day = 30 days); -1 to disable\nlog4j.appender.oozieError.RollingPolicy.MaxHistory=720\nlog4j.appender.oozieError.filter.1 = org.apache.log4j.varia.LevelMatchFilter\nlog4j.appender.oozieError.filter.1.levelToMatch = WARN\nlog4j.appender.oozieError.filter.2 = org.apache.log4j.varia.LevelMatchFilter\nlog4j.appender.oozieError.filter.2.levelToMatch = ERROR\nlog4j.appender.oozieError.filter.3 = org.apache.log4j.varia.LevelMatchFilter\nlog4j.appender.oozieError.filter.3.levelToMatch = FATAL\nlog4j.appender.oozieError.filter.4 = org.apache.log4j.varia.DenyAllFilter\n\n\n\n# Uncomment the below two lines to use the DailyRollingFileAppender instead\n# The DatePattern must end with either \"dd\" or \"HH\"\n#log4j.appender.oozie=org.apache.log4j.DailyRollingFileAppender\n#log4j.appender.oozie.DatePattern='.'yyyy-MM-dd-HH\n\nlog4j.appender.oozieops=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.oozieops.DatePattern='.'yyyy-MM-dd\nlog4j.appender.oozieops.File=${oozie.log.dir}/oozie-ops.log\nlog4j.appender.oozieops.Append=true\nlog4j.appender.oozieops.layout=org.apache.log4j.PatternLayout\nlog4j.appender.oozieops.layout.ConversionPattern=%d{ISO8601} %5p %c{1}:%L - %m%n\n\nlog4j.appender.oozieinstrumentation=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.oozieinstrumentation.DatePattern='.'yyyy-MM-dd\nlog4j.appender.oozieinstrumentation.File=${oozie.log.dir}/oozie-instrumentation.log\nlog4j.appender.oozieinstrumentation.Append=true\nlog4j.appender.oozieinstrumentation.layout=org.apache.log4j.PatternLayout\nlog4j.appender.oozieinstrumentation.layout.ConversionPattern=%d{ISO8601} %5p %c{1}:%L - %m%n\n\nlog4j.appender.oozieaudit=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.oozieaudit.DatePattern='.'yyyy-MM-dd\nlog4j.appender.oozieaudit.File=${oozie.log.dir}/oozie-audit.log\nlog4j.appender.oozieaudit.Append=true\nlog4j.appender.oozieaudit.layout=org.apache.log4j.PatternLayout\nlog4j.appender.oozieaudit.layout.ConversionPattern=%d{ISO8601} %5p %c{1}:%L - %m%n\n\nlog4j.appender.openjpa=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.openjpa.DatePattern='.'yyyy-MM-dd\nlog4j.appender.openjpa.File=${oozie.log.dir}/oozie-jpa.log\nlog4j.appender.openjpa.Append=true\nlog4j.appender.openjpa.layout=org.apache.log4j.PatternLayout\nlog4j.appender.openjpa.layout.ConversionPattern=%d{ISO8601} %5p %c{1}:%L - %m%n\n\nlog4j.logger.openjpa=INFO, openjpa\nlog4j.logger.oozieops=INFO, oozieops\nlog4j.logger.oozieinstrumentation=ALL, oozieinstrumentation\nlog4j.logger.oozieaudit=ALL, oozieaudit\nlog4j.logger.org.apache.oozie=INFO, oozie, oozieError\nlog4j.logger.org.apache.hadoop=WARN, oozie\nlog4j.logger.org.mortbay=WARN, oozie\nlog4j.logger.org.hsqldb=WARN, oozie\nlog4j.logger.org.apache.hadoop.security.authentication.server=WARN, oozie","oozie_log_maxhistory":"720"}}},{"oozie-site":{"properties_attributes":{},"properties":{"oozie.action.retry.interval":"30","oozie.action.sharelib.for.spark.exclude":"oozie/jackson.*","oozie.authentication.authentication.provider.url":"","oozie.authentication.expected.jwt.audiences":"","oozie.authentication.jwt.cookie":"hadoop-jwt","oozie.authentication.kerberos.name.rules":null,"oozie.authentication.public.key.pem":"","oozie.authentication.simple.anonymous.allowed":"true","oozie.authentication.type":"simple","oozie.base.url":"http://ambari-node1.example.com:11000/oozie","oozie.credentials.credentialclasses":"hcat=org.apache.oozie.action.hadoop.HiveCredentials,hive2=org.apache.oozie.action.hadoop.Hive2Credentials","oozie.db.schema.name":"oozie","oozie.service.ActionService.executor.ext.classes":"\n      org.apache.oozie.action.email.EmailActionExecutor,\n      org.apache.oozie.action.hadoop.ShellActionExecutor,\n      org.apache.oozie.action.hadoop.SqoopActionExecutor,\n      org.apache.oozie.action.hadoop.DistcpActionExecutor","oozie.service.AuthorizationService.security.enabled":"true","oozie.service.CallableQueueService.callable.concurrency":"3","oozie.service.CallableQueueService.queue.size":"1000","oozie.service.CallableQueueService.threads":"10","oozie.service.HadoopAccessorService.hadoop.configurations":"*={{hadoop_conf_dir}}","oozie.service.HadoopAccessorService.kerberos.enabled":"false","oozie.service.JPAService.create.db.schema":"false","oozie.service.JPAService.jdbc.driver":"com.mysql.jdbc.Driver","oozie.service.JPAService.jdbc.password":"oozie","oozie.service.JPAService.jdbc.url":"jdbc:mysql://ambari-db.example.com/oozie","oozie.service.JPAService.jdbc.username":"oozie","oozie.service.JPAService.pool.max.active.conn":"10","oozie.service.PurgeService.older.than":"30","oozie.service.PurgeService.purge.interval":"3600","oozie.service.SchemaService.wf.ext.schemas":"shell-action-0.1.xsd,email-action-0.1.xsd,hive-action-0.2.xsd,sqoop-action-0.2.xsd,ssh-action-0.1.xsd,distcp-action-0.1.xsd,shell-action-0.2.xsd,oozie-sla-0.1.xsd,oozie-sla-0.2.xsd,hive-action-0.3.xsd","oozie.service.SparkConfigurationService.spark.configurations":"*={{spark_conf_dir}}","oozie.service.URIHandlerService.uri.handlers":"org.apache.oozie.dependency.FSURIHandler,org.apache.oozie.dependency.HCatURIHandler","oozie.service.WorkflowAppService.system.libpath":"/user/${user.name}/share/lib","oozie.service.coord.normal.default.timeout":"120","oozie.service.coord.push.check.requeue.interval":"30000","oozie.services":"\n      org.apache.oozie.service.SchedulerService,\n      org.apache.oozie.service.InstrumentationService,\n      org.apache.oozie.service.CallableQueueService,\n      org.apache.oozie.service.UUIDService,\n      org.apache.oozie.service.ELService,\n      org.apache.oozie.service.AuthorizationService,\n      org.apache.oozie.service.UserGroupInformationService,\n      org.apache.oozie.service.HadoopAccessorService,\n      org.apache.oozie.service.URIHandlerService,\n      org.apache.oozie.service.MemoryLocksService,\n      org.apache.oozie.service.DagXLogInfoService,\n      org.apache.oozie.service.SchemaService,\n      org.apache.oozie.service.LiteWorkflowAppService,\n      org.apache.oozie.service.JPAService,\n      org.apache.oozie.service.StoreService,\n      org.apache.oozie.service.SLAStoreService,\n      org.apache.oozie.service.DBLiteWorkflowStoreService,\n      org.apache.oozie.service.CallbackService,\n      org.apache.oozie.service.ActionService,\n      org.apache.oozie.service.ActionCheckerService,\n      org.apache.oozie.service.RecoveryService,\n      org.apache.oozie.service.PurgeService,\n      org.apache.oozie.service.CoordinatorEngineService,\n      org.apache.oozie.service.BundleEngineService,\n      org.apache.oozie.service.DagEngineService,\n      org.apache.oozie.service.CoordMaterializeTriggerService,\n      org.apache.oozie.service.StatusTransitService,\n      org.apache.oozie.service.PauseTransitService,\n      org.apache.oozie.service.GroupsService,\n      org.apache.oozie.service.ProxyUserService,\n      org.apache.oozie.service.JobsConcurrencyService,\n      org.apache.oozie.service.ShareLibService,\n      org.apache.oozie.service.SparkConfigurationService,\n      org.apache.oozie.service.XLogStreamingService","oozie.services.ext":"\n      org.apache.oozie.service.JMSAccessorService,org.apache.oozie.service.PartitionDependencyManagerService,org.apache.oozie.service.HCatAccessorService","oozie.system.id":"oozie-${user.name}","oozie.systemmode":"NORMAL","use.system.libpath.for.mapreduce.and.pig.jobs":"false"}}},{"zoo.cfg":{"properties_attributes":{},"properties":{"autopurge.purgeInterval":"24","autopurge.snapRetainCount":"30","clientPort":"2181","dataDir":"/hadoop/zookeeper","initLimit":"10","syncLimit":"5","tickTime":"3000"}}},{"zookeeper-env":{"properties_attributes":{},"properties":{"content":"\nexport JAVA_HOME={{java64_home}}\nexport ZOOKEEPER_HOME={{zk_home}}\nexport ZOO_LOG_DIR={{zk_log_dir}}\nexport ZOOPIDFILE={{zk_pid_file}}\nexport SERVER_JVMFLAGS={{zk_server_heapsize}}\nexport JAVA=$JAVA_HOME/bin/java\nexport CLASSPATH=$CLASSPATH:/usr/share/zookeeper/*\n\n{% if security_enabled %}\nexport SERVER_JVMFLAGS=\"$SERVER_JVMFLAGS -Djava.security.auth.login.config={{zk_server_jaas_file}}\"\nexport CLIENT_JVMFLAGS=\"$CLIENT_JVMFLAGS -Djava.security.auth.login.config={{zk_client_jaas_file}} -Dzookeeper.sasl.client.username={{zk_principal_user}}\"\n{% endif %}","zk_log_dir":"/var/log/zookeeper","zk_pid_dir":"/var/run/zookeeper","zk_server_heapsize":"1024","zookeeper_keytab_path":null,"zookeeper_principal_name":null,"zk_user":"zookeeper"}}},{"zookeeper-log4j":{"properties_attributes":{},"properties":{"content":"\n#\n#\n# Licensed to the Apache Software Foundation (ASF) under one\n# or more contributor license agreements.  See the NOTICE file\n# distributed with this work for additional information\n# regarding copyright ownership.  The ASF licenses this file\n# to you under the Apache License, Version 2.0 (the\n# \"License\"); you may not use this file except in compliance\n# with the License.  You may obtain a copy of the License at\n#\n#   http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing,\n# software distributed under the License is distributed on an\n# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n# KIND, either express or implied.  See the License for the\n# specific language governing permissions and limitations\n# under the License.\n#\n#\n#\n\n#\n# ZooKeeper Logging Configuration\n#\n\n# DEFAULT: console appender only\nlog4j.rootLogger=INFO, CONSOLE, ROLLINGFILE\n\n# Example with rolling log file\n#log4j.rootLogger=DEBUG, CONSOLE, ROLLINGFILE\n\n# Example with rolling log file and tracing\n#log4j.rootLogger=TRACE, CONSOLE, ROLLINGFILE, TRACEFILE\n\n#\n# Log INFO level and above messages to the console\n#\nlog4j.appender.CONSOLE=org.apache.log4j.ConsoleAppender\nlog4j.appender.CONSOLE.Threshold=INFO\nlog4j.appender.CONSOLE.layout=org.apache.log4j.PatternLayout\nlog4j.appender.CONSOLE.layout.ConversionPattern=%d{ISO8601} - %-5p [%t:%C{1}@%L] - %m%n\n\n#\n# Add ROLLINGFILE to rootLogger to get log file output\n#    Log DEBUG level and above messages to a log file\nlog4j.appender.ROLLINGFILE=org.apache.log4j.RollingFileAppender\nlog4j.appender.ROLLINGFILE.Threshold=DEBUG\nlog4j.appender.ROLLINGFILE.File={{zk_log_dir}}/zookeeper.log\n\n# Max log file size of 10MB\nlog4j.appender.ROLLINGFILE.MaxFileSize={{zookeeper_log_max_backup_size}}MB\n# uncomment the next line to limit number of backup files\n#log4j.appender.ROLLINGFILE.MaxBackupIndex={{zookeeper_log_number_of_backup_files}}\n\nlog4j.appender.ROLLINGFILE.layout=org.apache.log4j.PatternLayout\nlog4j.appender.ROLLINGFILE.layout.ConversionPattern=%d{ISO8601} - %-5p [%t:%C{1}@%L] - %m%n\n\n\n#\n# Add TRACEFILE to rootLogger to get log file output\n#    Log DEBUG level and above messages to a log file\nlog4j.appender.TRACEFILE=org.apache.log4j.FileAppender\nlog4j.appender.TRACEFILE.Threshold=TRACE\nlog4j.appender.TRACEFILE.File=zookeeper_trace.log\n\nlog4j.appender.TRACEFILE.layout=org.apache.log4j.PatternLayout\n### Notice we are including log4j's NDC here (%x)\nlog4j.appender.TRACEFILE.layout.ConversionPattern=%d{ISO8601} - %-5p [%t:%C{1}@%L][%x] - %m%n","zookeeper_log_max_backup_size":"10","zookeeper_log_number_of_backup_files":"10"}}},{"ams-env":{"properties_attributes":{},"properties":{"ams_classpath_additional":"","content":"\n# Set environment variables here.\n\n# AMS instance name\nexport AMS_INSTANCE_NAME={{hostname}}\n\n# The java implementation to use. Java 1.6 required.\nexport JAVA_HOME={{java64_home}}\n\n# Collector Log directory for log4j\nexport AMS_COLLECTOR_LOG_DIR={{ams_collector_log_dir}}\n\n# Monitor Log directory for outfile\nexport AMS_MONITOR_LOG_DIR={{ams_monitor_log_dir}}\n\n# Collector pid directory\nexport AMS_COLLECTOR_PID_DIR={{ams_collector_pid_dir}}\n\n# Monitor pid directory\nexport AMS_MONITOR_PID_DIR={{ams_monitor_pid_dir}}\n\n# AMS HBase pid directory\nexport AMS_HBASE_PID_DIR={{hbase_pid_dir}}\n\n# AMS Collector heapsize\nexport AMS_COLLECTOR_HEAPSIZE={{metrics_collector_heapsize}}\n\n# HBase Tables Initialization check enabled\nexport AMS_HBASE_INIT_CHECK_ENABLED={{ams_hbase_init_check_enabled}}\n\n# AMS Collector options\nexport AMS_COLLECTOR_OPTS=\"-Djava.library.path=/usr/lib/ams-hbase/lib/hadoop-native\"\n{% if security_enabled %}\nexport AMS_COLLECTOR_OPTS=\"$AMS_COLLECTOR_OPTS -Dzookeeper.sasl.client.username={{zk_principal_user}} -Djava.security.auth.login.config={{ams_collector_jaas_config_file}}\"\n{% endif %}\n\n# AMS Collector GC options\nexport AMS_COLLECTOR_GC_OPTS=\"-XX:+UseConcMarkSweepGC -verbose:gc -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:{{ams_collector_log_dir}}/collector-gc.log-`date +'%Y%m%d%H%M'`\"\nexport AMS_COLLECTOR_OPTS=\"$AMS_COLLECTOR_OPTS $AMS_COLLECTOR_GC_OPTS\"\n\n# Metrics collector host will be blacklisted for specified number of seconds if metric monitor failed to connect to it.\nexport AMS_FAILOVER_STRATEGY_BLACKLISTED_INTERVAL={{failover_strategy_blacklisted_interval}}\n\n# Extra Java CLASSPATH elements for Metrics Collector. Optional.\nexport COLLECTOR_ADDITIONAL_CLASSPATH={{ams_classpath_additional}}","failover_strategy_blacklisted_interval":"300","metrics_collector_heapsize":"512","metrics_collector_log_dir":"/var/log/ambari-metrics-collector","metrics_collector_pid_dir":"/var/run/ambari-metrics-collector","metrics_monitor_log_dir":"/var/log/ambari-metrics-monitor","metrics_monitor_pid_dir":"/var/run/ambari-metrics-monitor","min_ambari_metrics_hadoop_sink_version":"2.7.0.0","timeline.metrics.host.inmemory.aggregation.jvm.arguments":"-Xmx256m -Xms128m -XX:PermSize=68m","timeline.metrics.skip.disk.metrics.patterns":"true","timeline.metrics.skip.network.interfaces.patterns":"None","timeline.metrics.skip.virtual.interfaces":"false","ambari_metrics_user":"ams"}}},{"ams-grafana-env":{"properties_attributes":{},"properties":{"content":"\n# Set environment variables here.\n\n# AMS UI Server Home Dir\nexport AMS_GRAFANA_HOME_DIR={{ams_grafana_home_dir}}\n\n# AMS UI Server Data Dir\nexport AMS_GRAFANA_DATA_DIR={{ams_grafana_data_dir}}\n\n# AMS UI Server Log Dir\nexport AMS_GRAFANA_LOG_DIR={{ams_grafana_log_dir}}\n\n# AMS UI Server PID Dir\nexport AMS_GRAFANA_PID_DIR={{ams_grafana_pid_dir}}","metrics_grafana_connect_attempts":"15","metrics_grafana_connect_retry_delay":"20","metrics_grafana_data_dir":"/var/lib/ambari-metrics-grafana","metrics_grafana_log_dir":"/var/log/ambari-metrics-grafana","metrics_grafana_password":"admin1234","metrics_grafana_pid_dir":"/var/run/ambari-metrics-grafana","metrics_grafana_username":"admin"}}},{"ams-grafana-ini":{"properties_attributes":{},"properties":{"ca_cert":"","cert_file":"/etc/ambari-metrics-grafana/conf/ams-grafana.crt","cert_key":"/etc/ambari-metrics-grafana/conf/ams-grafana.key","content":"\n##################### Grafana Configuration Example #####################\n#\n# Everything has defaults so you only need to uncomment things you want to\n# change\n\n# possible values : production, development\n; app_mode = production\n\n#################################### Paths ####################################\n[paths]\n# Path to where grafana can store temp files, sessions, and the sqlite3 db (if that is used)\n#\n;data = /var/lib/grafana\ndata = {{ams_grafana_data_dir}}\n#\n# Directory where grafana can store logs\n#\n;logs = /var/log/grafana\nlogs = {{ams_grafana_log_dir}}\n\n\n#################################### Server ####################################\n[server]\n# Protocol (http or https)\n;protocol = http\nprotocol = {{ams_grafana_protocol}}\n# The ip address to bind to, empty will bind to all interfaces\n;http_addr =\n\n# The http port  to use\n;http_port = 3000\nhttp_port = {{ams_grafana_port}}\n\n# The public facing domain name used to access grafana from a browser\n;domain = localhost\n\n# Redirect to correct domain if host header does not match domain\n# Prevents DNS rebinding attacks\n;enforce_domain = false\n\n# The full public facing url\n;root_url = %(protocol)s://%(domain)s:%(http_port)s/\n\n# Log web requests\n;router_logging = false\n\n# the path relative working path\n;static_root_path = public\nstatic_root_path = /usr/lib/ambari-metrics-grafana/public\n\n# enable gzip\n;enable_gzip = false\n\n# https certs & key file\n;cert_file =\n;cert_key =\ncert_file = {{ams_grafana_cert_file}}\ncert_key = {{ams_grafana_cert_key}}\n\n#################################### Database ####################################\n[database]\n# Either \"mysql\", \"postgres\" or \"sqlite3\", it's your choice\n;type = sqlite3\n;host = 127.0.0.1:3306\n;name = grafana\n;user = root\n;password =\n\n# For \"postgres\" only, either \"disable\", \"require\" or \"verify-full\"\n;ssl_mode = disable\n\n# For \"sqlite3\" only, path relative to data_path setting\n;path = grafana.db\n\n#################################### Session ####################################\n[session]\n# Either \"memory\", \"file\", \"redis\", \"mysql\", \"postgres\", default is \"file\"\n;provider = file\n\n# Provider config options\n# memory: not have any config yet\n# file: session dir path, is relative to grafana data_path\n# redis: config like redis server e.g. `addr=127.0.0.1:6379,pool_size=100,db=grafana`\n# mysql: go-sql-driver/mysql dsn config string, e.g. `user:password@tcp(127.0.0.1:3306)/database_name`\n# postgres: user=a password=b host=localhost port=5432 dbname=c sslmode=disable\n;provider_config = sessions\n\n# Session cookie name\n;cookie_name = grafana_sess\n\n# If you use session in https only, default is false\n;cookie_secure = false\n\n# Session life time, default is 86400\n;session_life_time = 86400\n\n#################################### Analytics ####################################\n[analytics]\n# Server reporting, sends usage counters to stats.grafana.org every 24 hours.\n# No ip addresses are being tracked, only simple counters to track\n# running instances, dashboard and error counts. It is very helpful to us.\n# Change this option to false to disable reporting.\n;reporting_enabled = true\n\n# Google Analytics universal tracking code, only enabled if you specify an id here\n;google_analytics_ua_id =\n\n#################################### Security ####################################\n[security]\n# default admin user, created on startup\nadmin_user = {{ams_grafana_admin_user}}\n\n# default admin password, can be changed before first start of grafana,  or in profile settings\n;admin_password =\n\n# used for signing\n;secret_key = SW2YcwTIb9zpOOhoPsMm\n\n# Auto-login remember days\n;login_remember_days = 7\n;cookie_username = grafana_user\n;cookie_remember_name = grafana_remember\n\n# disable gravatar profile images\n;disable_gravatar = false\n\n# data source proxy whitelist (ip_or_domain:port seperated by spaces)\n;data_source_proxy_whitelist =\n\n#################################### Users ####################################\n[users]\n# disable user signup / registration\n;allow_sign_up = true\n\n# Allow non admin users to create organizations\n;allow_org_create = true\n\n# Set to true to automatically assign new users to the default organization (id 1)\n;auto_assign_org = true\n\n# Default role new users will be automatically assigned (if disabled above is set to true)\n;auto_assign_org_role = Viewer\n\n# Background text for the user field on the login page\n;login_hint = email or username\n\n#################################### Anonymous Auth ##########################\n[auth.anonymous]\n# enable anonymous access\nenabled = true\n\n# specify organization name that should be used for unauthenticated users\norg_name = Main Org.\n\n# specify role for unauthenticated users\n;org_role = Admin\n\n#################################### Github Auth ##########################\n[auth.github]\n;enabled = false\n;allow_sign_up = false\n;client_id = some_id\n;client_secret = some_secret\n;scopes = user:email,read:org\n;auth_url = https://github.com/login/oauth/authorize\n;token_url = https://github.com/login/oauth/access_token\n;api_url = https://api.github.com/user\n;team_ids =\n;allowed_organizations =\n\n#################################### Google Auth ##########################\n[auth.google]\n;enabled = false\n;allow_sign_up = false\n;client_id = some_client_id\n;client_secret = some_client_secret\n;scopes = https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email\n;auth_url = https://accounts.google.com/o/oauth2/auth\n;token_url = https://accounts.google.com/o/oauth2/token\n;api_url = https://www.googleapis.com/oauth2/v1/userinfo\n;allowed_domains =\n\n#################################### Auth Proxy ##########################\n[auth.proxy]\n;enabled = false\n;header_name = X-WEBAUTH-USER\n;header_property = username\n;auto_sign_up = true\n\n#################################### Basic Auth ##########################\n[auth.basic]\n;enabled = true\n\n#################################### Auth LDAP ##########################\n[auth.ldap]\n;enabled = false\n;config_file = /etc/grafana/ldap.toml\n\n#################################### SMTP / Emailing ##########################\n[smtp]\n;enabled = false\n;host = localhost:25\n;user =\n;password =\n;cert_file =\n;key_file =\n;skip_verify = false\n;from_address = admin@grafana.localhost\n\n[emails]\n;welcome_email_on_sign_up = false\n\n#################################### Logging ##########################\n[log]\n# Either \"console\", \"file\", default is \"console\"\n# Use comma to separate multiple modes, e.g. \"console, file\"\n;mode = console, file\n\n# Buffer length of channel, keep it as it is if you don't know what it is.\n;buffer_len = 10000\n\n# Either \"Trace\", \"Debug\", \"Info\", \"Warn\", \"Error\", \"Critical\", default is \"Trace\"\n;level = Info\n\n# For \"console\" mode only\n[log.console]\n;level =\n\n# For \"file\" mode only\n[log.file]\n;level =\n# This enables automated log rotate(switch of following options), default is true\n;log_rotate = true\n\n# Max line number of single file, default is 1000000\n;max_lines = 1000000\n\n# Max size shift of single file, default is 28 means 1 << 28, 256MB\n;max_lines_shift = 28\n\n# Segment log daily, default is true\n;daily_rotate = true\n\n# Expired days of log file(delete after max days), default is 7\n;max_days = 7\n\n#################################### AMPQ Event Publisher ##########################\n[event_publisher]\n;enabled = false\n;rabbitmq_url = amqp://localhost/\n;exchange = grafana_events\n\n;#################################### Dashboard JSON files ##########################\n[dashboards.json]\n;enabled = false\n;path = /var/lib/grafana/dashboards\npath = /usr/lib/ambari-metrics-grafana/public/dashboards","port":"3000","protocol":"http"}}},{"ams-hbase-env":{"properties_attributes":{},"properties":{"content":"\n# Set environment variables here.\n\n# The java implementation to use. Java 1.6+ required.\nexport JAVA_HOME={{java64_home}}\n\n# HBase Configuration directory\nexport HBASE_CONF_DIR=${HBASE_CONF_DIR:-{{hbase_conf_dir}}}\n\n# Extra Java CLASSPATH elements. Optional.\nadditional_cp={{hbase_classpath_additional}}\nif [  -n \"$additional_cp\" ];\nthen\n  export HBASE_CLASSPATH=${HBASE_CLASSPATH}:$additional_cp\nelse\n  export HBASE_CLASSPATH=${HBASE_CLASSPATH}\nfi\n\n# The maximum amount of heap to use for hbase shell.\nexport HBASE_SHELL_OPTS=\"-Xmx256m\"\n\n# Extra Java runtime options.\n# Below are what we set by default. May only work with SUN JVM.\n# For more on why as well as other possible settings,\n# see http://wiki.apache.org/hadoop/PerformanceTuning\nexport HBASE_OPTS=\"-XX:+UseConcMarkSweepGC -XX:ErrorFile={{hbase_log_dir}}/hs_err_pid%p.log -Djava.io.tmpdir={{hbase_tmp_dir}}\"\nexport SERVER_GC_OPTS=\"-verbose:gc -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:{{hbase_log_dir}}/gc.log-`date +'%Y%m%d%H%M'`\"\n# Uncomment below to enable java garbage collection logging.\n# export HBASE_OPTS=\"$HBASE_OPTS -verbose:gc -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:$HBASE_HOME/logs/gc-hbase.log\"\n\n# Uncomment and adjust to enable JMX exporting\n# See jmxremote.password and jmxremote.access in $JRE_HOME/lib/management to configure remote password access.\n# More details at: http://java.sun.com/javase/6/docs/technotes/guides/management/agent.html\n#\n# export HBASE_JMX_BASE=\"-Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false\"\n\n{% if java_version < 8 %}\nexport HBASE_MASTER_OPTS=\" -XX:PermSize=64m -XX:MaxPermSize={{hbase_master_maxperm_size}} -Xms{{hbase_heapsize}} -Xmx{{hbase_heapsize}} -Xmn{{hbase_master_xmn_size}} -XX:CMSInitiatingOccupancyFraction=70 -XX:+UseCMSInitiatingOccupancyOnly\"\nexport HBASE_REGIONSERVER_OPTS=\"-XX:MaxPermSize=128m -Xmn{{regionserver_xmn_size}} -XX:CMSInitiatingOccupancyFraction=70 -XX:+UseCMSInitiatingOccupancyOnly -Xms{{regionserver_heapsize}} -Xmx{{regionserver_heapsize}}\"\n{% else %}\nexport HBASE_MASTER_OPTS=\" -Xms{{hbase_heapsize}} -Xmx{{hbase_heapsize}} -Xmn{{hbase_master_xmn_size}} -XX:CMSInitiatingOccupancyFraction=70 -XX:+UseCMSInitiatingOccupancyOnly\"\nexport HBASE_REGIONSERVER_OPTS=\" -Xmn{{regionserver_xmn_size}} -XX:CMSInitiatingOccupancyFraction=70 -XX:+UseCMSInitiatingOccupancyOnly -Xms{{regionserver_heapsize}} -Xmx{{regionserver_heapsize}}\"\n{% endif %}\n\n\n# export HBASE_THRIFT_OPTS=\"$HBASE_JMX_BASE -Dcom.sun.management.jmxremote.port=10103\"\n# export HBASE_ZOOKEEPER_OPTS=\"$HBASE_JMX_BASE -Dcom.sun.management.jmxremote.port=10104\"\n\n# File naming hosts on which HRegionServers will run. $HBASE_HOME/conf/regionservers by default.\nexport HBASE_REGIONSERVERS=${HBASE_CONF_DIR}/regionservers\n\n# Extra ssh options. Empty by default.\n# export HBASE_SSH_OPTS=\"-o ConnectTimeout=1 -o SendEnv=HBASE_CONF_DIR\"\n\n# Where log files are stored. $HBASE_HOME/logs by default.\nexport HBASE_LOG_DIR={{hbase_log_dir}}\n\n# A string representing this instance of hbase. $USER by default.\n# export HBASE_IDENT_STRING=$USER\n\n# The scheduling priority for daemon processes. See 'man nice'.\n# export HBASE_NICENESS=10\n\n# The directory where pid files are stored. /tmp by default.\nexport HBASE_PID_DIR={{hbase_pid_dir}}\n\n# Seconds to sleep between slave commands. Unset by default. This\n# can be useful in large clusters, where, e.g., slave rsyncs can\n# otherwise arrive faster than the master can service them.\n# export HBASE_SLAVE_SLEEP=0.1\n\n# Tell HBase whether it should manage it's own instance of Zookeeper or not.\nexport HBASE_MANAGES_ZK=false\n\n{% if security_enabled %}\nexport HBASE_OPTS=\"$HBASE_OPTS -Dzookeeper.sasl.client.username={{zk_principal_user}} -Djava.security.auth.login.config={{client_jaas_config_file}}\"\nexport HBASE_MASTER_OPTS=\"$HBASE_MASTER_OPTS -Dzookeeper.sasl.client.username={{zk_principal_user}} -Djava.security.auth.login.config={{master_jaas_config_file}} -Djavax.security.auth.useSubjectCredsOnly=false\"\nexport HBASE_REGIONSERVER_OPTS=\"$HBASE_REGIONSERVER_OPTS -Dzookeeper.sasl.client.username={{zk_principal_user}} -Djava.security.auth.login.config={{regionserver_jaas_config_file}} -Djavax.security.auth.useSubjectCredsOnly=false\"\nexport HBASE_ZOOKEEPER_OPTS=\"$HBASE_ZOOKEEPER_OPTS -Dzookeeper.sasl.client.username={{zk_principal_user}} -Djava.security.auth.login.config={{ams_zookeeper_jaas_config_file}}\"\n{% endif %}\n\n# use embedded native libs\n_HADOOP_NATIVE_LIB=\"/usr/lib/ams-hbase/lib/hadoop-native/\"\nexport HBASE_OPTS=\"$HBASE_OPTS -Djava.library.path=${_HADOOP_NATIVE_LIB}\"\n\n# Unset HADOOP_HOME to avoid importing HADOOP installed cluster related configs like: /usr/hdp/2.2.0.0-2041/hadoop/conf/\nexport HADOOP_HOME={{ams_hbase_home_dir}}\n\n# Explicitly Setting HBASE_HOME for AMS HBase so that there is no conflict\nexport HBASE_HOME={{ams_hbase_home_dir}}","hbase_classpath_additional":"","hbase_log_dir":"/var/log/ambari-metrics-collector","hbase_master_heapsize":"896","hbase_master_maxperm_size":"128","hbase_master_xmn_size":"192","hbase_pid_dir":"/var/run/ambari-metrics-collector/","hbase_regionserver_heapsize":"512","hbase_regionserver_shutdown_timeout":"30","hbase_regionserver_xmn_ratio":"0.2","max_open_files_limit":"32768","regionserver_xmn_size":"128"}}},{"ams-hbase-log4j":{"properties_attributes":{},"properties":{"ams_hbase_log_maxbackupindex":"20","ams_hbase_log_maxfilesize":"256","ams_hbase_security_log_maxbackupindex":"20","ams_hbase_security_log_maxfilesize":"256","content":"\n# Licensed to the Apache Software Foundation (ASF) under one\n# or more contributor license agreements.  See the NOTICE file\n# distributed with this work for additional information\n# regarding copyright ownership.  The ASF licenses this file\n# to you under the Apache License, Version 2.0 (the\n# \"License\"); you may not use this file except in compliance\n# with the License.  You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\n\n# Define some default values that can be overridden by system properties\nhbase.root.logger=INFO,console\nhbase.security.logger=INFO,console\nhbase.log.dir=.\nhbase.log.file=hbase.log\n\n# Define the root logger to the system property \"hbase.root.logger\".\nlog4j.rootLogger=${hbase.root.logger}\n\n# Logging Threshold\nlog4j.threshold=ALL\n\n#\n# Daily Rolling File Appender\n#\nlog4j.appender.DRFA=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.DRFA.File=${hbase.log.dir}/${hbase.log.file}\n\n# Rollver at midnight\nlog4j.appender.DRFA.DatePattern=.yyyy-MM-dd\n\n# 30-day backup\n#log4j.appender.DRFA.MaxBackupIndex=30\nlog4j.appender.DRFA.layout=org.apache.log4j.PatternLayout\n\n# Pattern format: Date LogLevel LoggerName LogMessage\nlog4j.appender.DRFA.layout.ConversionPattern=%d{ISO8601} %-5p [%t] %c{2}: %m%n\n\n# Rolling File Appender properties\nhbase.log.maxfilesize={{ams_hbase_log_maxfilesize}}MB\nhbase.log.maxbackupindex={{ams_hbase_log_maxbackupindex}}\n\n# Rolling File Appender\nlog4j.appender.RFA=org.apache.log4j.RollingFileAppender\nlog4j.appender.RFA.File=${hbase.log.dir}/${hbase.log.file}\n\nlog4j.appender.RFA.MaxFileSize=${hbase.log.maxfilesize}\nlog4j.appender.RFA.MaxBackupIndex=${hbase.log.maxbackupindex}\n\nlog4j.appender.RFA.layout=org.apache.log4j.PatternLayout\nlog4j.appender.RFA.layout.ConversionPattern=%d{ISO8601} %-5p [%t] %c{2}: %m%n\n\n#\n# Security audit appender\n#\nhbase.security.log.file=SecurityAuth.audit\nhbase.security.log.maxfilesize={{ams_hbase_security_log_maxfilesize}}MB\nhbase.security.log.maxbackupindex={{ams_hbase_security_log_maxbackupindex}}\nlog4j.appender.RFAS=org.apache.log4j.RollingFileAppender\nlog4j.appender.RFAS.File=${hbase.log.dir}/${hbase.security.log.file}\nlog4j.appender.RFAS.MaxFileSize=${hbase.security.log.maxfilesize}\nlog4j.appender.RFAS.MaxBackupIndex=${hbase.security.log.maxbackupindex}\nlog4j.appender.RFAS.layout=org.apache.log4j.PatternLayout\nlog4j.appender.RFAS.layout.ConversionPattern=%d{ISO8601} %p %c: %m%n\nlog4j.category.SecurityLogger=${hbase.security.logger}\nlog4j.additivity.SecurityLogger=false\n#log4j.logger.SecurityLogger.org.apache.hadoop.hbase.security.access.AccessController=TRACE\n\n#\n# Null Appender\n#\nlog4j.appender.NullAppender=org.apache.log4j.varia.NullAppender\n\n#\n# console\n# Add \"console\" to rootlogger above if you want to use this\n#\nlog4j.appender.console=org.apache.log4j.ConsoleAppender\nlog4j.appender.console.target=System.err\nlog4j.appender.console.layout=org.apache.log4j.PatternLayout\nlog4j.appender.console.layout.ConversionPattern=%d{ISO8601} %-5p [%t] %c{2}: %m%n\n\n# Custom Logging levels\n\nlog4j.logger.org.apache.zookeeper=INFO\n#log4j.logger.org.apache.hadoop.fs.FSNamesystem=DEBUG\nlog4j.logger.org.apache.hadoop.hbase=INFO\n# Make these two classes INFO-level. Make them DEBUG to see more zk debug.\nlog4j.logger.org.apache.hadoop.hbase.zookeeper.ZKUtil=INFO\nlog4j.logger.org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher=INFO\n#log4j.logger.org.apache.hadoop.dfs=DEBUG\n# Set this class to log INFO only otherwise its OTT\n# Enable this to get detailed connection error/retry logging.\n# log4j.logger.org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation=TRACE\n\n\n# Uncomment this line to enable tracing on _every_ RPC call (this can be a lot of output)\n#log4j.logger.org.apache.hadoop.ipc.HBaseServer.trace=DEBUG\n\n# Uncomment the below if you want to remove logging of client region caching'\n# and scan of .META. messages\n# log4j.logger.org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation=INFO\n# log4j.logger.org.apache.hadoop.hbase.client.MetaScanner=INFO"}}},{"ams-hbase-policy":{"properties_attributes":{},"properties":{"security.admin.protocol.acl":"*","security.client.protocol.acl":"*","security.masterregion.protocol.acl":"*"}}},{"ams-hbase-security-site":{"properties_attributes":{},"properties":{"ams.zookeeper.keytab":"","ams.zookeeper.principal":"","hadoop.security.authentication":"","hbase.coprocessor.master.classes":"","hbase.coprocessor.region.classes":"","hbase.master.kerberos.principal":"","hbase.master.keytab.file":"","hbase.myclient.keytab":"","hbase.myclient.principal":"","hbase.regionserver.kerberos.principal":"","hbase.regionserver.keytab.file":"","hbase.security.authentication":"","hbase.security.authorization":"","hbase.zookeeper.property.authProvider.1":"","hbase.zookeeper.property.jaasLoginRenew":"","hbase.zookeeper.property.kerberos.removeHostFromPrincipal":"","hbase.zookeeper.property.kerberos.removeRealmFromPrincipal":""}}},{"ams-hbase-site":{"properties_attributes":{},"properties":{"hbase.superuser":"activity_explorer,activity_analyzer","dfs.client.read.shortcircuit":"true","hbase.client.scanner.caching":"10000","hbase.client.scanner.timeout.period":"300000","hbase.cluster.distributed":"false","hbase.hregion.majorcompaction":"0","hbase.hregion.max.filesize":"4294967296","hbase.hregion.memstore.block.multiplier":"4","hbase.hregion.memstore.flush.size":"134217728","hbase.hstore.blockingStoreFiles":"200","hbase.hstore.flusher.count":"2","hbase.local.dir":"${hbase.tmp.dir}/local","hbase.master.info.bindAddress":"0.0.0.0","hbase.master.info.port":"61310","hbase.master.normalizer.class":"org.apache.hadoop.hbase.master.normalizer.SimpleRegionNormalizer","hbase.master.port":"61300","hbase.master.wait.on.regionservers.mintostart":"1","hbase.normalizer.enabled":"false","hbase.normalizer.period":"600000","hbase.regionserver.global.memstore.lowerLimit":"0.3","hbase.regionserver.global.memstore.upperLimit":"0.35","hbase.regionserver.info.port":"61330","hbase.regionserver.port":"61320","hbase.regionserver.thread.compaction.large":"2","hbase.regionserver.thread.compaction.small":"3","hbase.replication":"false","hbase.rootdir":"file:///var/lib/ambari-metrics-collector/hbase","hbase.rpc.timeout":"300000","hbase.snapshot.enabled":"false","hbase.tmp.dir":"/var/lib/ambari-metrics-collector/hbase-tmp","hbase.unsafe.stream.capability.enforce":"false","hbase.zookeeper.leaderport":"61388","hbase.zookeeper.peerport":"61288","hbase.zookeeper.property.clientPort":"{{zookeeper_clientPort}}","hbase.zookeeper.property.dataDir":"${hbase.tmp.dir}/zookeeper","hbase.zookeeper.property.tickTime":"6000","hbase.zookeeper.quorum":"{{zookeeper_quorum_hosts}}","hfile.block.cache.size":"0.3","phoenix.coprocessor.maxMetaDataCacheSize":"20480000","phoenix.coprocessor.maxServerCacheTimeToLiveMs":"60000","phoenix.groupby.maxCacheSize":"307200000","phoenix.mutate.batchSize":"10000","phoenix.query.keepAliveMs":"300000","phoenix.query.maxGlobalMemoryPercentage":"15","phoenix.query.rowKeyOrderSaltedTable":"true","phoenix.query.spoolThresholdBytes":"20971520","phoenix.query.timeoutMs":"300000","phoenix.sequence.saltBuckets":"2","phoenix.spool.directory":"${hbase.tmp.dir}/phoenix-spool","zookeeper.session.timeout":"120000","zookeeper.session.timeout.localHBaseCluster":"120000","zookeeper.znode.parent":"/ams-hbase-unsecure"}}},{"ams-log4j":{"properties_attributes":{},"properties":{"ams_log_max_backup_size":"80","ams_log_number_of_backup_files":"60","content":"\n#\n# Licensed to the Apache Software Foundation (ASF) under one\n# or more contributor license agreements.  See the NOTICE file\n# distributed with this work for additional information\n# regarding copyright ownership.  The ASF licenses this file\n# to you under the Apache License, Version 2.0 (the\n# \"License\"); you may not use this file except in compliance\n# with the License.  You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n#\n\n# Define some default values that can be overridden by system properties\nams.log.dir=.\nams.log.file=ambari-metrics-collector.log\n\n# Root logger option\nlog4j.rootLogger=INFO,file\n\n# Direct log messages to a log file\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\nlog4j.appender.file.File=${ams.log.dir}/${ams.log.file}\nlog4j.appender.file.MaxFileSize={{ams_log_max_backup_size}}MB\nlog4j.appender.file.MaxBackupIndex={{ams_log_number_of_backup_files}}\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\nlog4j.appender.file.layout.ConversionPattern=%d{ISO8601} %p %c: %m%n"}}},{"ams-site":{"properties_attributes":{},"properties":{"timeline.metrics.service.handler.thread.count":"20","cluster.zookeeper.property.clientPort":"{{cluster_zookeeper_clientPort}}","cluster.zookeeper.quorum":"{{cluster_zookeeper_quorum_hosts}}","failover.strategy":"round-robin","phoenix.query.maxGlobalMemoryPercentage":"25","phoenix.spool.directory":"/tmp","timeline.metrics.aggregator.checkpoint.dir":"/var/lib/ambari-metrics-collector/checkpoint","timeline.metrics.aggregators.skip.blockcache.enabled":"false","timeline.metrics.cache.commit.interval":"10","timeline.metrics.cache.enabled":"true","timeline.metrics.cache.size":"200","timeline.metrics.cluster.aggregation.sql.filters":"sdisk\\_%,boottime","timeline.metrics.cluster.aggregator.daily.checkpointCutOffMultiplier":"2","timeline.metrics.cluster.aggregator.daily.disabled":"false","timeline.metrics.cluster.aggregator.daily.interval":"86400","timeline.metrics.cluster.aggregator.daily.ttl":"63072000","timeline.metrics.cluster.aggregator.hourly.checkpointCutOffMultiplier":"2","timeline.metrics.cluster.aggregator.hourly.disabled":"false","timeline.metrics.cluster.aggregator.hourly.interval":"3600","timeline.metrics.cluster.aggregator.hourly.ttl":"31536000","timeline.metrics.cluster.aggregator.interpolation.enabled":"true","timeline.metrics.cluster.aggregator.minute.checkpointCutOffMultiplier":"2","timeline.metrics.cluster.aggregator.minute.disabled":"false","timeline.metrics.cluster.aggregator.minute.interval":"300","timeline.metrics.cluster.aggregator.minute.ttl":"2592000","timeline.metrics.cluster.aggregator.second.checkpointCutOffMultiplier":"2","timeline.metrics.cluster.aggregator.second.disabled":"false","timeline.metrics.cluster.aggregator.second.interval":"120","timeline.metrics.cluster.aggregator.second.timeslice.interval":"30","timeline.metrics.cluster.aggregator.second.ttl":"259200","timeline.metrics.daily.aggregator.minute.interval":"86400","timeline.metrics.downsampler.event.metric.patterns":"topology\\.%","timeline.metrics.downsampler.topn.function":"max","timeline.metrics.downsampler.topn.metric.patterns":"dfs.NNTopUserOpCounts.windowMs=60000.op=__%.user=%,dfs.NNTopUserOpCounts.windowMs=300000.op=__%.user=%,dfs.NNTopUserOpCounts.windowMs=1500000.op=__%.user=%","timeline.metrics.downsampler.topn.value":"10","timeline.metrics.hbase.compression.scheme":"SNAPPY","timeline.metrics.hbase.data.block.encoding":"FAST_DIFF","timeline.metrics.hbase.init.check.enabled":"true","timeline.metrics.host.aggregator.daily.checkpointCutOffMultiplier":"2","timeline.metrics.host.aggregator.daily.disabled":"false","timeline.metrics.host.aggregator.daily.ttl":"31536000","timeline.metrics.host.aggregator.hourly.checkpointCutOffMultiplier":"2","timeline.metrics.host.aggregator.hourly.disabled":"false","timeline.metrics.host.aggregator.hourly.interval":"3600","timeline.metrics.host.aggregator.hourly.ttl":"2592000","timeline.metrics.host.aggregator.minute.checkpointCutOffMultiplier":"2","timeline.metrics.host.aggregator.minute.disabled":"false","timeline.metrics.host.aggregator.minute.interval":"300","timeline.metrics.host.aggregator.minute.ttl":"604800","timeline.metrics.host.aggregator.ttl":"86400","timeline.metrics.host.inmemory.aggregation":"false","timeline.metrics.host.inmemory.aggregation.http.policy":"HTTP_ONLY","timeline.metrics.host.inmemory.aggregation.port":"61888","timeline.metrics.service.checkpointDelay":"60","timeline.metrics.service.cluster.aggregator.appIds":"datanode,nodemanager,hbase","timeline.metrics.service.default.result.limit":"5760","timeline.metrics.service.http.policy":"HTTP_ONLY","timeline.metrics.service.metadata.filters":"ContainerResource","timeline.metrics.service.operation.mode":"embedded","timeline.metrics.service.resultset.fetchSize":"2000","timeline.metrics.service.rpc.address":"0.0.0.0:60200","timeline.metrics.service.use.groupBy.aggregators":"true","timeline.metrics.service.watcher.delay":"30","timeline.metrics.service.watcher.disabled":"false","timeline.metrics.service.watcher.initial.delay":"600","timeline.metrics.service.watcher.timeout":"30","timeline.metrics.service.webapp.address":"0.0.0.0:6188","timeline.metrics.sink.report.interval":"60","timeline.metrics.transient.metric.patterns":"topology\\.%","timeline.metrics.whitelisting.enabled":"false"}}},{"ams-ssl-client":{"properties_attributes":{},"properties":{"ssl.client.truststore.location":"/etc/security/clientKeys/all.jks","ssl.client.truststore.password":"bigdata","ssl.client.truststore.type":"jks"}}},{"ams-ssl-server":{"properties_attributes":{},"properties":{"ssl.server.keystore.keypassword":"bigdata","ssl.server.keystore.location":"/etc/security/serverKeys/keystore.jks","ssl.server.keystore.password":"bigdata","ssl.server.keystore.type":"jks","ssl.server.truststore.location":"/etc/security/serverKeys/all.jks","ssl.server.truststore.password":"bigdata","ssl.server.truststore.reload.interval":"10000","ssl.server.truststore.type":"jks"}}},{"admin-topology":{"properties_attributes":{},"properties":{"content":"\n    <topology>\n\n        <gateway>\n\n             <provider>\n                <role>authentication</role>\n                <name>ShiroProvider</name>\n                <enabled>true</enabled>\n                <param>\n                    <name>sessionTimeout</name>\n                    <value>30</value>\n                </param>\n                <param>\n                    <name>main.ldapRealm</name>\n                    <value>org.apache.hadoop.gateway.shirorealm.KnoxLdapRealm</value>\n                </param>\n                <param>\n                    <name>main.ldapRealm.userDnTemplate</name>\n                    <value>uid={0},ou=people,dc=hadoop,dc=apache,dc=org</value>\n                </param>\n                <param>\n                    <name>main.ldapRealm.contextFactory.url</name>\n                    <value>ldap://{{knox_host_name}}:33389</value>\n                </param>\n                <param>\n                    <name>main.ldapRealm.contextFactory.authenticationMechanism</name>\n                    <value>simple</value>\n                </param>\n                <param>\n                    <name>urls./**</name>\n                    <value>authcBasic</value>\n                </param>\n            </provider>\n\n            <provider>\n                <role>authorization</role>\n                <name>AclsAuthz</name>\n                <enabled>true</enabled>\n                <param>\n\t               <name>knox.acl.mode</name>\n\t               <value>OR</value>\n                   </param>\n                <param>\n                    <name>knox.acl</name>\n                    <value>KNOX_ADMIN_USERS;KNOX_ADMIN_GROUPS;*</value>\n                </param>\n            </provider>\n\n            <provider>\n                <role>identity-assertion</role>\n                <name>HadoopGroupProvider</name>\n                <enabled>true</enabled>\n                <param>\n                    <name>CENTRAL_GROUP_CONFIG_PREFIX</name>\n                    <value>gateway.group.config.</value>\n                </param>\n            </provider>\n\n        </gateway>\n\n        <service>\n            <role>KNOX</role>\n        </service>\n\n    </topology>"}}},{"gateway-log4j":{"properties_attributes":{},"properties":{"content":"\n\n      # Licensed to the Apache Software Foundation (ASF) under one\n      # or more contributor license agreements. See the NOTICE file\n      # distributed with this work for additional information\n      # regarding copyright ownership. The ASF licenses this file\n      # to you under the Apache License, Version 2.0 (the\n      # \"License\"); you may not use this file except in compliance\n      # with the License. You may obtain a copy of the License at\n      #\n      # http://www.apache.org/licenses/LICENSE-2.0\n      #\n      # Unless required by applicable law or agreed to in writing, software\n      # distributed under the License is distributed on an \"AS IS\" BASIS,\n      # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n      # See the License for the specific language governing permissions and\n      # limitations under the License.\n\n      app.log.dir=${launcher.dir}/../logs\n      app.log.file=${launcher.name}.log\n      app.audit.file=${launcher.name}-audit.log\n\n      log4j.rootLogger=ERROR, drfa\n\n      log4j.logger.org.apache.knox.gateway=INFO\n      #log4j.logger.org.apache.knox.gateway=DEBUG\n\n      #log4j.logger.org.eclipse.jetty=DEBUG\n      #log4j.logger.org.apache.shiro=DEBUG\n      #log4j.logger.org.apache.http=DEBUG\n      #log4j.logger.org.apache.http.client=DEBUG\n      #log4j.logger.org.apache.http.headers=DEBUG\n      #log4j.logger.org.apache.http.wire=DEBUG\n\n      log4j.appender.stdout=org.apache.log4j.ConsoleAppender\n      log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\n      log4j.appender.stdout.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss} %p %c{2}: %m%n\n\n      log4j.appender.drfa=org.apache.log4j.DailyRollingFileAppender\n      log4j.appender.drfa.File=${app.log.dir}/${app.log.file}\n      log4j.appender.drfa.DatePattern=.yyyy-MM-dd\n      log4j.appender.drfa.layout=org.apache.log4j.PatternLayout\n      log4j.appender.drfa.layout.ConversionPattern=%d{ISO8601} %-5p %c{2} (%F:%M(%L)) - %m%n\n      log4j.appender.drfa.MaxFileSize = {{knox_gateway_log_maxfilesize}}MB\n      log4j.appender.drfa.MaxBackupIndex = {{knox_gateway_log_maxbackupindex}}\n\n      log4j.logger.audit=INFO, auditfile\n      log4j.appender.auditfile=org.apache.log4j.DailyRollingFileAppender\n      log4j.appender.auditfile.File=${app.log.dir}/${app.audit.file}\n      log4j.appender.auditfile.Append = true\n      log4j.appender.auditfile.DatePattern = '.'yyyy-MM-dd\n      log4j.appender.auditfile.layout = org.apache.hadoop.gateway.audit.log4j.layout.AuditLayout","knox_gateway_log_maxbackupindex":"20","knox_gateway_log_maxfilesize":"256"}}},{"gateway-site":{"properties_attributes":{},"properties":{"gateway.dispatch.whitelist":"DEFAULT","gateway.dispatch.whitelist.services":"DATANODE,HBASEUI,HDFSUI,JOBHISTORYUI,NODEUI,YARNUI,knoxauth","gateway.gateway.conf.dir":"deployments","gateway.hadoop.kerberos.secured":"false","gateway.knox.admin.groups":"admin","gateway.knox.admin.users":"admin","gateway.path":"gateway","gateway.port":"8443","gateway.read.only.override.topologies":"admin,knoxsso,default","gateway.websocket.feature.enabled":"{{websocket_support}}","java.security.auth.login.config":"/etc/knox/conf/krb5JAASLogin.conf","java.security.krb5.conf":"/etc/knox/conf/krb5.conf","sun.security.krb5.debug":"false"}}},{"knox-env":{"properties_attributes":{},"properties":{"knox_keytab_path":null,"knox_master_secret":"admin1234","knox_pid_dir":"/var/run/knox","knox_principal_name":null,"knox_group":"knox","knox_user":"knox"}}},{"knoxsso-topology":{"properties_attributes":{},"properties":{"content":"\n            <topology>\n            <gateway>\n            <provider>\n            <role>webappsec</role>\n            <name>WebAppSec</name>\n            <enabled>true</enabled>\n            <param><name>xframe.options.enabled</name><value>true</value></param>\n            </provider>\n\n            <provider>\n            <role>authentication</role>\n            <name>ShiroProvider</name>\n            <enabled>true</enabled>\n            <param>\n            <name>sessionTimeout</name>\n            <value>30</value>\n            </param>\n            <param>\n            <name>redirectToUrl</name>\n            <value>/gateway/knoxsso/knoxauth/login.html</value>\n            </param>\n            <param>\n            <name>restrictedCookies</name>\n            <value>rememberme,WWW-Authenticate</value>\n            </param>\n            <param>\n            <name>main.ldapRealm</name>\n            <value>org.apache.hadoop.gateway.shirorealm.KnoxLdapRealm</value>\n            </param>\n            <param>\n            <name>main.ldapContextFactory</name>\n            <value>org.apache.hadoop.gateway.shirorealm.KnoxLdapContextFactory</value>\n            </param>\n            <param>\n            <name>main.ldapRealm.contextFactory</name>\n            <value>$ldapContextFactory</value>\n            </param>\n            <param>\n            <name>main.ldapRealm.userDnTemplate</name>\n            <value>uid={0},ou=people,dc=hadoop,dc=apache,dc=org</value>\n            </param>\n            <param>\n            <name>main.ldapRealm.contextFactory.url</name>\n            <value>ldap://localhost:33389</value>\n            </param>\n            <param>\n            <name>main.ldapRealm.authenticationCachingEnabled</name>\n            <value>false</value>\n            </param>\n            <param>\n            <name>main.ldapRealm.contextFactory.authenticationMechanism</name>\n            <value>simple</value>\n            </param>\n            <param>\n            <name>urls./**</name>\n            <value>authcBasic</value>\n            </param>\n            </provider>\n\n            <provider>\n            <role>identity-assertion</role>\n            <name>Default</name>\n            <enabled>true</enabled>\n            </provider>\n            </gateway>\n\n            <application>\n            <name>knoxauth</name>\n            </application>\n\n            <service>\n            <role>KNOXSSO</role>\n            <param>\n            <name>knoxsso.cookie.secure.only</name>\n            <value>false</value>\n            </param>\n            <param>\n            <name>knoxsso.token.ttl</name>\n            <value>30000</value>\n            </param>\n            </service>\n\n            </topology>"}}},{"ldap-log4j":{"properties_attributes":{},"properties":{"content":"\n        # Licensed to the Apache Software Foundation (ASF) under one\n        # or more contributor license agreements.  See the NOTICE file\n        # distributed with this work for additional information\n        # regarding copyright ownership.  The ASF licenses this file\n        # to you under the Apache License, Version 2.0 (the\n        # \"License\"); you may not use this file except in compliance\n        # with the License.  You may obtain a copy of the License at\n        #\n        #     http://www.apache.org/licenses/LICENSE-2.0\n        #\n        # Unless required by applicable law or agreed to in writing, software\n        # distributed under the License is distributed on an \"AS IS\" BASIS,\n        # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n        # See the License for the specific language governing permissions and\n        # limitations under the License.\n\n        app.log.dir=${launcher.dir}/../logs\n        app.log.file=${launcher.name}.log\n\n        log4j.rootLogger=ERROR, drfa\n        log4j.logger.org.apache.directory.server.ldap.LdapServer=INFO\n        log4j.logger.org.apache.directory=WARN\n\n        log4j.appender.stdout=org.apache.log4j.ConsoleAppender\n        log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\n        log4j.appender.stdout.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss} %p %c{2}: %m%n\n\n        log4j.appender.drfa=org.apache.log4j.DailyRollingFileAppender\n        log4j.appender.drfa.File=${app.log.dir}/${app.log.file}\n        log4j.appender.drfa.DatePattern=.yyyy-MM-dd\n        log4j.appender.drfa.layout=org.apache.log4j.PatternLayout\n        log4j.appender.drfa.layout.ConversionPattern=%d{ISO8601} %-5p %c{2} (%F:%M(%L)) - %m%n\n        log4j.appender.drfa.MaxFileSize = {{knox_ldap_log_maxfilesize}}MB\n        log4j.appender.drfa.MaxBackupIndex = {{knox_ldap_log_maxbackupindex}}","knox_ldap_log_maxbackupindex":"20","knox_ldap_log_maxfilesize":"256"}}},{"ranger-knox-audit":{"properties_attributes":{},"properties":{}}},{"ranger-knox-plugin-properties":{"properties_attributes":{},"properties":{}}},{"ranger-knox-policymgr-ssl":{"properties_attributes":{},"properties":{}}},{"ranger-knox-security":{"properties_attributes":{},"properties":{}}},{"topology":{"properties_attributes":{},"properties":{"content":"\n        <topology>\n\n            <gateway>\n\n                <provider>\n                    <role>authentication</role>\n                    <name>ShiroProvider</name>\n                    <enabled>true</enabled>\n                    <param>\n                        <name>sessionTimeout</name>\n                        <value>30</value>\n                    </param>\n                    <param>\n                        <name>main.ldapRealm</name>\n                        <value>org.apache.hadoop.gateway.shirorealm.KnoxLdapRealm</value>\n                    </param>\n                    <param>\n                        <name>main.ldapRealm.userDnTemplate</name>\n                        <value>uid={0},ou=people,dc=hadoop,dc=apache,dc=org</value>\n                    </param>\n                    <param>\n                        <name>main.ldapRealm.contextFactory.url</name>\n                        <value>ldap://{{knox_host_name}}:33389</value>\n                    </param>\n                    <param>\n                        <name>main.ldapRealm.contextFactory.authenticationMechanism</name>\n                        <value>simple</value>\n                    </param>\n                    <param>\n                        <name>urls./**</name>\n                        <value>authcBasic</value>\n                    </param>\n                </provider>\n\n                <provider>\n                    <role>identity-assertion</role>\n                    <name>Default</name>\n                    <enabled>true</enabled>\n                </provider>\n\n                <provider>\n                    <role>authorization</role>\n                    <name>AclsAuthz</name>\n                    <enabled>true</enabled>\n                </provider>\n\n            </gateway>\n\n            <service>\n                <role>NAMENODE</role>\n                <url>{{namenode_address}}</url>\n            </service>\n\n            <service>\n                <role>JOBTRACKER</role>\n                <url>rpc://{{rm_host}}:{{jt_rpc_port}}</url>\n            </service>\n\n            <service>\n                <role>WEBHDFS</role>\n                {{webhdfs_service_urls}}\n            </service>\n\n            <service>\n                <role>WEBHCAT</role>\n                <url>http://{{webhcat_server_host}}:{{templeton_port}}/templeton</url>\n            </service>\n\n            <service>\n                <role>OOZIE</role>\n                <url>http://{{oozie_server_host}}:{{oozie_server_port}}/oozie</url>\n            </service>\n\n            <service>\n                <role>OOZIEUI</role>\n                <url>http://{{oozie_server_host}}:{{oozie_server_port}}/oozie/</url>\n            </service>\n\n\n            <service>\n                <role>WEBHBASE</role>\n                <url>http://{{hbase_master_host}}:{{hbase_master_port}}</url>\n            </service>\n\n            <service>\n                <role>HIVE</role>\n                <url>http://{{hive_server_host}}:{{hive_http_port}}/{{hive_http_path}}</url>\n            </service>\n\n            <service>\n                <role>RESOURCEMANAGER</role>\n                <url>http://{{rm_host}}:{{rm_port}}/ws</url>\n            </service>\n\n            <service>\n                <role>DRUID-COORDINATOR-UI</role>\n                {{druid_coordinator_urls}}\n            </service>\n\n            <service>\n                <role>DRUID-COORDINATOR</role>\n                {{druid_coordinator_urls}}\n            </service>\n\n            <service>\n                <role>DRUID-OVERLORD-UI</role>\n                {{druid_overlord_urls}}\n            </service>\n\n            <service>\n                <role>DRUID-OVERLORD</role>\n                {{druid_overlord_urls}}\n            </service>\n\n            <service>\n                <role>DRUID-ROUTER</role>\n                {{druid_router_urls}}\n            </service>\n\n            <service>\n                <role>DRUID-BROKER</role>\n                {{druid_broker_urls}}\n            </service>\n\n            <service>\n                <role>ZEPPELINUI</role>\n                {{zeppelin_ui_urls}}\n            </service>\n\n            <service>\n                <role>ZEPPELINWS</role>\n                {{zeppelin_ws_urls}}\n            </service>\n\n        </topology>"}}},{"users-ldif":{"properties_attributes":{},"properties":{"content":"\n# Licensed to the Apache Software Foundation (ASF) under one\n# or more contributor license agreements.  See the NOTICE file\n# distributed with this work for additional information\n# regarding copyright ownership.  The ASF licenses this file\n# to you under the Apache License, Version 2.0 (the\n# \"License\"); you may not use this file except in compliance\n# with the License.  You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\nversion: 1\n\n# Please replace with site specific values\ndn: dc=hadoop,dc=apache,dc=org\nobjectclass: organization\nobjectclass: dcObject\no: Hadoop\ndc: hadoop\n\n# Entry for a sample people container\n# Please replace with site specific values\ndn: ou=people,dc=hadoop,dc=apache,dc=org\nobjectclass:top\nobjectclass:organizationalUnit\nou: people\n\n# Entry for a sample end user\n# Please replace with site specific values\ndn: uid=guest,ou=people,dc=hadoop,dc=apache,dc=org\nobjectclass:top\nobjectclass:person\nobjectclass:organizationalPerson\nobjectclass:inetOrgPerson\ncn: Guest\nsn: User\nuid: guest\nuserPassword:guest-password\n\n# entry for sample user admin\ndn: uid=admin,ou=people,dc=hadoop,dc=apache,dc=org\nobjectclass:top\nobjectclass:person\nobjectclass:organizationalPerson\nobjectclass:inetOrgPerson\ncn: Admin\nsn: Admin\nuid: admin\nuserPassword:admin-password\n\n# entry for sample user sam\ndn: uid=sam,ou=people,dc=hadoop,dc=apache,dc=org\nobjectclass:top\nobjectclass:person\nobjectclass:organizationalPerson\nobjectclass:inetOrgPerson\ncn: sam\nsn: sam\nuid: sam\nuserPassword:sam-password\n\n# entry for sample user tom\ndn: uid=tom,ou=people,dc=hadoop,dc=apache,dc=org\nobjectclass:top\nobjectclass:person\nobjectclass:organizationalPerson\nobjectclass:inetOrgPerson\ncn: tom\nsn: tom\nuid: tom\nuserPassword:tom-password\n\n# create FIRST Level groups branch\ndn: ou=groups,dc=hadoop,dc=apache,dc=org\nobjectclass:top\nobjectclass:organizationalUnit\nou: groups\ndescription: generic groups branch\n\n# create the analyst group under groups\ndn: cn=analyst,ou=groups,dc=hadoop,dc=apache,dc=org\nobjectclass:top\nobjectclass: groupofnames\ncn: analyst\ndescription:analyst  group\nmember: uid=sam,ou=people,dc=hadoop,dc=apache,dc=org\nmember: uid=tom,ou=people,dc=hadoop,dc=apache,dc=org\n\n\n# create the scientist group under groups\ndn: cn=scientist,ou=groups,dc=hadoop,dc=apache,dc=org\nobjectclass:top\nobjectclass: groupofnames\ncn: scientist\ndescription: scientist group\nmember: uid=sam,ou=people,dc=hadoop,dc=apache,dc=org\n\n# create the admin group under groups\ndn: cn=admin,ou=groups,dc=hadoop,dc=apache,dc=org\nobjectclass:top\nobjectclass: groupofnames\ncn: admin\ndescription: admin group\nmember: uid=admin,ou=people,dc=hadoop,dc=apache,dc=org"}}},{"activity-conf":{"properties_attributes":{},"properties":{"activity.explorer.user":"activity_explorer","global.activity.analyzer.user":"activity_analyzer","global.activity.processing.parallelism":"8","global.activity.processor.pool.max.wait.seconds":"60","hdfs.activity.watcher.enabled":"true","mr_job.activity.watcher.enabled":"true","mr_job.max.job.size.mb.for.parallel.execution":"500","phoenix.sink.batch.size":"5000","phoenix.sink.flush.interval.seconds":"3600","tez_job.activity.watcher.enabled":"true","tez_job.tmp.dir":"/var/lib/smartsense/activity-analyzer/tez/tmp/","yarn_app.activity.watcher.enabled":"true"}}},{"activity-env":{"properties_attributes":{},"properties":{"activity-env-content":"#!/bin/bash\n\n# Copyright (c) 2011-2018, Hortonworks Inc.  All rights reserved.\n# Except as expressly permitted in a written agreement between you\n# or your company and Hortonworks, Inc, any use, reproduction,\n# modification, redistribution, sharing, lending or other exploitation\n# of all or any part of the contents of this file is strictly prohibited.\n\n# Enable verbose shell execution\n#set -xv\n\n## Set HOME for various components\nexport HADOOP_HOME=/usr/hdp/current/hadoop-client\nexport HDFS_HOME=/usr/hdp/current/hadoop-hdfs-client\nexport MAPREDUCE_HOME=/usr/hdp/current/hadoop-mapreduce-client\nexport YARN_HOME=/usr/hdp/current/hadoop-yarn-client\nexport HIVE_HOME=/usr/hdp/current/hive-client\nexport HCAT_HOME=/usr/hdp/current/hive-webhcat\nexport TEZ_HOME=/usr/hdp/current/tez-client\nexport HBASE_HOME=/usr/hdp/current/hbase-client\nexport PHOENIX_HOME=/usr/hdp/current/phoenix-client\nexport ACTIVITY_ANALYZER_HOME=/usr/hdp/share/hst/activity-analyzer\nexport AMS_COLLECTOR_HOME=/usr/lib/ambari-metrics-collector\nexport JAVA_HOME={{java_home}}\n\n## Set conf dir for various components\nexport HADOOP_CONF_DIR=/etc/hadoop/conf/\nexport HIVE_CONF_DIR=/etc/hive/conf/\nexport HBASE_CONF_DIR=/etc/hbase/conf/\nexport TEZ_CONF_DIR=/etc/tez/conf/\nexport ACTIVITY_ANALYZER_CONF_DIR=/etc/smartsense-activity/conf/\nexport AMS_HBASE_CONF=/etc/ams-hbase/conf\n\nexport DEBUG_ENABLED=false\n\n## Set JVM related configs\nexport ANALYZER_JAVA_OPTS=\"{{analyzer_jvm_opts}} -Xmx{{analyzer_jvm_heap}}m\"","analyzer_jvm_heap":"8192","analyzer_jvm_opts":"-Xms128m"}}},{"activity-log4j":{"properties_attributes":{},"properties":{"activity-log4j-content":"\n# Copyright (c) 2011-2018, Hortonworks Inc.  All rights reserved.\n# Except as expressly permitted in a written agreement between you\n# or your company and Hortonworks, Inc, any use, reproduction,\n# modification, redistribution, sharing, lending or other exploitation\n# of all or any part of the contents of this file is strictly prohibited.\n\n# Define some default values that can be overridden by system properties\n# Root logger option\nlog4j.rootLogger=INFO,file\n\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\nlog4j.appender.file.File={{activity_log_dir}}/${log.file.name}\nlog4j.appender.file.MaxFileSize={{activity_max_file_size}}MB\nlog4j.appender.file.MaxBackupIndex={{activity_max_backup_index}}\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\nlog4j.appender.file.layout.ConversionPattern=%d{ISO8601} %5p [%t] %c{1}:%L - %m%n","activity_log_dir":"/var/log/smartsense-activity","activity_max_backup_index":"10","activity_max_file_size":"30"}}},{"activity-zeppelin-env":{"properties_attributes":{},"properties":{"activity-zeppelin-env-content":"#!/bin/bash\n\n# Copyright (c) 2011-2018, Hortonworks Inc.  All rights reserved.\n# Except as expressly permitted in a written agreement between you\n# or your company and Hortonworks, Inc, any use, reproduction,\n# modification, redistribution, sharing, lending or other exploitation\n# of all or any part of the contents of this file is strictly prohibited.\n\n\nexport JAVA_HOME={{java_home}}\n# Additional jvm options. for example, export ZEPPELIN_JAVA_OPTS=\"-Dspark.executor.memory=8g -Dspark.cores.max=16\"\nexport ZEPPELIN_JAVA_OPTS=\"-Dhdp.version={{hdp_version}} -Dlog.file.name=activity-explorer.log -DSmartSenseActivityExplorer\"      \t\t\n# export ZEPPELIN_INTP_MEM       \t\t# zeppelin interpreter process jvm mem options. Default = ZEPPELIN_MEM\n# export ZEPPELIN_INTP_JAVA_OPTS \t\t# zeppelin interpreter process jvm options. Default = ZEPPELIN_JAVA_OPTS\n\nexport RUN_AS_USER={{run_as_user}}\nexport ZEPPELIN_MEM=\" -Xms256m -Xmx1024m -XX:MaxPermSize=256m\"\nexport ZEPPELIN_LOG_DIR={{activity_log_dir}}\nexport ZEPPELIN_PID_DIR=/var/run/smartsense-activity-explorer\nexport ZEPPELIN_WAR_TEMPDIR=/var/lib/smartsense/activity-explorer/webapp\nexport ZEPPELIN_NOTEBOOK_DIR=/var/lib/smartsense/activity-explorer/notebook\nexport ZEPPELIN_CLASSPATH=\"/etc/ams-hbase/conf:${ZEPPELIN_CLASSPATH}\"\nexport CLASSPATH=${ZEPPELIN_CLASSPATH}"}}},{"activity-zeppelin-interpreter":{"properties_attributes":{},"properties":{"activity-zeppelin-interpreter-content":"{\n  \"interpreterSettings\": {\n    \"jdbc\": {\n      \"id\": \"jdbc\",\n      \"name\": \"jdbc\",\n      \"group\": \"jdbc\",\n      \"properties\": {\n        \"default.url\": {\n          \"name\": \"default.url\",\n          \"value\": \"jdbc:postgresql://localhost:5432/\",\n          \"type\": \"string\"\n        },\n        \"default.driver\": {\n          \"name\": \"default.driver\",\n          \"value\": \"org.postgresql.Driver\",\n          \"type\": \"string\"\n        },\n        \"zeppelin.jdbc.principal\": {\n          \"name\": \"zeppelin.jdbc.principal\",\n          \"value\": \"\",\n          \"type\": \"string\"\n        },\n        \"default.completer.ttlInSeconds\": {\n          \"name\": \"default.completer.ttlInSeconds\",\n          \"value\": \"120\",\n          \"type\": \"number\"\n        },\n        \"default.password\": {\n          \"name\": \"default.password\",\n          \"value\": \"\",\n          \"type\": \"password\"\n        },\n        \"default.completer.schemaFilters\": {\n          \"name\": \"default.completer.schemaFilters\",\n          \"value\": \"\",\n          \"type\": \"textarea\"\n        },\n        \"default.splitQueries\": {\n          \"name\": \"default.splitQueries\",\n          \"value\": false,\n          \"type\": \"checkbox\"\n        },\n        \"default.user\": {\n          \"name\": \"default.user\",\n          \"value\": \"gpadmin\",\n          \"type\": \"string\"\n        },\n        \"zeppelin.jdbc.concurrent.max_connection\": {\n          \"name\": \"zeppelin.jdbc.concurrent.max_connection\",\n          \"value\": \"10\",\n          \"type\": \"number\"\n        },\n        \"common.max_count\": {\n          \"name\": \"common.max_count\",\n          \"value\": \"1000\",\n          \"type\": \"number\"\n        },\n        \"default.precode\": {\n          \"name\": \"default.precode\",\n          \"value\": \"\",\n          \"type\": \"textarea\"\n        },\n        \"zeppelin.jdbc.auth.type\": {\n          \"name\": \"zeppelin.jdbc.auth.type\",\n          \"value\": \"\",\n          \"type\": \"string\"\n        },\n        \"default.statementPrecode\": {\n          \"name\": \"default.statementPrecode\",\n          \"value\": \"\",\n          \"type\": \"string\"\n        },\n        \"zeppelin.jdbc.concurrent.use\": {\n          \"name\": \"zeppelin.jdbc.concurrent.use\",\n          \"value\": true,\n          \"type\": \"checkbox\"\n        },\n        \"zeppelin.jdbc.keytab.location\": {\n          \"name\": \"zeppelin.jdbc.keytab.location\",\n          \"value\": \"\",\n          \"type\": \"string\"\n        }\n      },\n      \"status\": \"READY\",\n      \"interpreterGroup\": [\n        {\n          \"name\": \"sql\",\n          \"class\": \"org.apache.zeppelin.jdbc.JDBCInterpreter\",\n          \"defaultInterpreter\": false,\n          \"editor\": {\n            \"language\": \"sql\",\n            \"editOnDblClick\": false,\n            \"completionSupport\": true\n          }\n        }\n      ],\n      \"dependencies\": [],\n      \"option\": {\n        \"remote\": true,\n        \"port\": -1,\n        \"perNote\": \"shared\",\n        \"perUser\": \"shared\",\n        \"isExistingProcess\": false,\n        \"setPermission\": false,\n        \"owners\": [],\n        \"isUserImpersonate\": false\n      }\n    },\n    \"phoenix\": {\n      \"id\": \"phoenix\",\n      \"name\": \"phoenix\",\n      \"group\": \"jdbc\",\n      \"properties\": {\n        \"default.url\": {\n          \"name\": \"default.url\",\n          \"value\": \"{{activity_explorer_jdbc_url}}\",\n          \"type\": \"string\"\n        },\n        \"default.driver\": {\n          \"name\": \"default.driver\",\n          \"value\": \"org.apache.phoenix.jdbc.PhoenixDriver\",\n          \"type\": \"string\"\n        },\n        \"zeppelin.jdbc.principal\": {\n          \"name\": \"zeppelin.jdbc.principal\",\n          \"value\": \"\",\n          \"type\": \"string\"\n        },\n        \"default.completer.ttlInSeconds\": {\n          \"name\": \"default.completer.ttlInSeconds\",\n          \"value\": \"120\",\n          \"type\": \"number\"\n        },\n        \"default.password\": {\n          \"name\": \"default.password\",\n          \"value\": \"\",\n          \"type\": \"password\"\n        },\n        \"default.completer.schemaFilters\": {\n          \"name\": \"default.completer.schemaFilters\",\n          \"value\": \"\",\n          \"type\": \"textarea\"\n        },\n        \"default.splitQueries\": {\n          \"name\": \"default.splitQueries\",\n          \"value\": false,\n          \"type\": \"checkbox\"\n        },\n        \"default.user\": {\n          \"name\": \"default.user\",\n          \"value\": \"gpadmin\",\n          \"type\": \"string\"\n        },\n        \"zeppelin.jdbc.concurrent.max_connection\": {\n          \"name\": \"zeppelin.jdbc.concurrent.max_connection\",\n          \"value\": \"10\",\n          \"type\": \"number\"\n        },\n        \"common.max_count\": {\n          \"name\": \"common.max_count\",\n          \"value\": \"1000\",\n          \"type\": \"number\"\n        },\n        \"default.precode\": {\n          \"name\": \"default.precode\",\n          \"value\": \"\",\n          \"type\": \"textarea\"\n        },\n        \"zeppelin.jdbc.auth.type\": {\n          \"name\": \"zeppelin.jdbc.auth.type\",\n          \"value\": \"\",\n          \"type\": \"string\"\n        },\n        \"default.statementPrecode\": {\n          \"name\": \"default.statementPrecode\",\n          \"value\": \"\"\n        },\n        \"zeppelin.jdbc.concurrent.use\": {\n          \"name\": \"zeppelin.jdbc.concurrent.use\",\n          \"value\": true,\n          \"type\": \"checkbox\"\n        },\n        \"zeppelin.jdbc.keytab.location\": {\n          \"name\": \"zeppelin.jdbc.keytab.location\",\n          \"value\": \"\",\n          \"type\": \"string\"\n        },\n        \"default.phoenix.query.numberFormat\": {\n          \"name\": \"default.phoenix.query.numberFormat\",\n          \"value\": \"#.#\",\n          \"type\": \"string\"\n        }\n      },\n      \"status\": \"READY\",\n      \"interpreterGroup\": [\n        {\n          \"name\": \"sql\",\n          \"class\": \"org.apache.zeppelin.jdbc.JDBCInterpreter\",\n          \"defaultInterpreter\": true,\n          \"editor\": {\n            \"language\": \"sql\",\n            \"editOnDblClick\": false,\n            \"completionSupport\": true\n          }\n        }\n      ],\n      \"dependencies\": [],\n      \"option\": {\n        \"remote\": true,\n        \"port\": -1,\n        \"perNote\": \"shared\",\n        \"perUser\": \"shared\",\n        \"isExistingProcess\": false,\n        \"setPermission\": false,\n        \"owners\": [],\n        \"isUserImpersonate\": false\n      }\n    },\n    \"md\": {\n      \"id\": \"md\",\n      \"name\": \"md\",\n      \"group\": \"md\",\n      \"properties\": {\n        \"markdown.parser.type\": {\n          \"name\": \"markdown.parser.type\",\n          \"value\": \"pegdown\",\n          \"type\": \"string\"\n        }\n      },\n      \"status\": \"READY\",\n      \"interpreterGroup\": [\n        {\n          \"name\": \"md\",\n          \"class\": \"org.apache.zeppelin.markdown.Markdown\",\n          \"defaultInterpreter\": false,\n          \"editor\": {\n            \"language\": \"markdown\",\n            \"editOnDblClick\": true,\n            \"completionSupport\": false\n          }\n        }\n      ],\n      \"dependencies\": [],\n      \"option\": {\n        \"remote\": true,\n        \"port\": -1,\n        \"isExistingProcess\": false,\n        \"setPermission\": false,\n        \"owners\": [],\n        \"isUserImpersonate\": false\n      }\n    }\n  },\n  \"interpreterBindings\": {\n    \"2DGK3YSSY\": [\n      \"phoenix\"\n    ],\n    \"2BQH91X36\": [\n      \"phoenix\"\n    ],\n    \"2BNVQJUBK\": [\n      \"phoenix\"\n    ],\n    \"2BPD7951H\": [\n      \"phoenix\"\n    ],\n    \"2DGNFSF2D\": [\n      \"phoenix\"\n    ],\n    \"2DGCYZ7F3\": [\n      \"phoenix\"\n    ],\n    \"2BTCVPTMH\": [\n      \"phoenix\"\n    ]\n  },\n  \"interpreterRepositories\": [\n    {\n      \"id\": \"central\",\n      \"type\": \"default\",\n      \"url\": \"http://repo1.maven.org/maven2/\",\n      \"releasePolicy\": {\n        \"enabled\": true,\n        \"updatePolicy\": \"daily\",\n        \"checksumPolicy\": \"warn\"\n      },\n      \"snapshotPolicy\": {\n        \"enabled\": true,\n        \"updatePolicy\": \"daily\",\n        \"checksumPolicy\": \"warn\"\n      },\n      \"mirroredRepositories\": [],\n      \"repositoryManager\": false\n    },\n    {\n      \"id\": \"HDPReleases\",\n      \"type\": \"default\",\n      \"url\": \"http://repo.hortonworks.com/content/groups/public/\",\n      \"releasePolicy\": {\n        \"enabled\": true,\n        \"updatePolicy\": \"daily\",\n        \"checksumPolicy\": \"warn\"\n      },\n      \"snapshotPolicy\": {\n        \"enabled\": true,\n        \"updatePolicy\": \"daily\",\n        \"checksumPolicy\": \"warn\"\n      },\n      \"mirroredRepositories\": [],\n      \"repositoryManager\": false\n    },\n    {\n      \"id\": \"HDPDev\",\n      \"type\": \"default\",\n      \"url\": \"http://nexus-private.hortonworks.com/nexus/content/groups/public/\",\n      \"releasePolicy\": {\n        \"enabled\": true,\n        \"updatePolicy\": \"daily\",\n        \"checksumPolicy\": \"warn\"\n      },\n      \"snapshotPolicy\": {\n        \"enabled\": true,\n        \"updatePolicy\": \"daily\",\n        \"checksumPolicy\": \"warn\"\n      },\n      \"mirroredRepositories\": [],\n      \"repositoryManager\": false\n    },\n    {\n      \"id\": \"local\",\n      \"type\": \"default\",\n      \"url\": \"file:///var/lib/smartsense/activity-explorer/.m2/repository\",\n      \"releasePolicy\": {\n        \"enabled\": true,\n        \"updatePolicy\": \"daily\",\n        \"checksumPolicy\": \"warn\"\n      },\n      \"snapshotPolicy\": {\n        \"enabled\": true,\n        \"updatePolicy\": \"daily\",\n        \"checksumPolicy\": \"warn\"\n      },\n      \"mirroredRepositories\": [],\n      \"repositoryManager\": false\n    }\n  ]\n}"}}},{"activity-zeppelin-shiro":{"properties_attributes":{},"properties":{"main.credentialMatcher":"org.apache.shiro.authc.credential.PasswordMatcher","main.iniRealm.credentialsMatcher":"$credentialMatcher","main.securityManager.sessionManager":"$sessionManager","main.securityManager.sessionManager.globalSessionTimeout":"86400000","main.sessionManager":"org.apache.shiro.web.session.mgt.DefaultWebSessionManager","users.admin":"admin1234"}}},{"activity-zeppelin-site":{"properties_attributes":{},"properties":{"zeppelin.anonymous.allowed":"false","zeppelin.interpreter.connect.timeout":"30000","zeppelin.interpreter.dir":"/usr/hdp/share/hst/activity-explorer/interpreter","zeppelin.interpreters":"org.apache.zeppelin.phoenix.PhoenixInterpreter","zeppelin.notebook.cron.enable":"true","zeppelin.notebook.dir":"/var/lib/smartsense/activity-explorer/notebook","zeppelin.notebook.homescreen.hide":"false","zeppelin.notebook.storage":"org.apache.zeppelin.notebook.repo.VFSNotebookRepo","zeppelin.server.addr":"0.0.0.0","zeppelin.server.allowed.origins":"*","zeppelin.server.context.path":"/","zeppelin.server.port":"9060","zeppelin.ssl":"false","zeppelin.ssl.client.auth":"false","zeppelin.ssl.key.manager.password":"admin","zeppelin.ssl.keystore.password":"admin","zeppelin.ssl.keystore.path":"/var/lib/smartsense/activity-explorer/keystore","zeppelin.ssl.keystore.type":"JKS","zeppelin.ssl.truststore.password":"admin","zeppelin.ssl.truststore.path":"/var/lib/smartsense/activity-explorer/truststore","zeppelin.ssl.truststore.type":"JKS","zeppelin.war.tempdir":"/var/lib/smartsense/activity-explorer/webapp","zeppelin.websocket.max.text.message.size":"1024000"}}},{"anonymization-rules":{"properties_attributes":{},"properties":{"anonymization-rules-content":"{\n  \"rules\":[\n    {\n      \"name\": \"IP Address\",\n      \"description\": \"Anonymize IP addresses like 123.123.12.34 from all non-binary files\",\n      \"rule_id\": \"Pattern\",\n      \"patterns\": [\"(?![\\\\-])((?<![a-z0-9\\\\.])[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}(?!\\\\.[0-9])(?![a-z0-9]))\"],\n      \"exclude_files\": [\"hdp-select*.*\", \"*version.txt\"]\n    },\n    {\n      \"name\": \"Domain Names\",\n      \"rule_id\": \"Domain\"\n    },\n    {\n      \"name\": \"File Names\",\n      \"rule_id\": \"FileName\",\n      \"description\": \"Anonymize file names that have domain names and/or ip addresses\",\n      \"include_files\": [\"*.log*\", \"*.out*\"],\n      \"shared\": true\n    },\n    {\n      \"name\": \"SSN\",\n      \"description\": \"Anonymize social security numbers in format xxx-xx-xxxx from .log and .out files\",\n      \"rule_id\": \"Pattern\",\n      \"patterns\": [\"(?<![0-9x])([0-9x]{3}-[0-9x]{2}-[0-9]{4})(?![0-9x])\"],\n      \"include_files\": [\"*.log*\", \"*.out*\"],\n      \"exclude_files\" : [\"hst.log*\", \"hst.out*\"],\n      \"shared\": false\n    },\n    {\n      \"name\": \"Credit Card Numbers\",\n      \"description\": \"Anonymize credit card numbers from .log and .out files\",\n      \"rule_id\": \"Pattern\",\n      \"patterns\": [\"(?<![0-9x])(18|21|3[04678]|4[0-9x]|5[1-5]|60|65)[0-9x]{2}[- ]([0-9x]{4}[- ]){2}[0-9]{0,4}(?![0-9x])\"],\n      \"extract\": \"(?<![0-9x])([0-9x -]+)(?![0-9x])\",\n      \"include_files\": [\"*.log*\", \"*.out*\"],\n      \"exclude_files\" : [\"hst.log.*\", \"hst.out\"],\n      \"shared\": false\n    },\n    {\n      \"name\": \"email\",\n      \"description\": \"Anonymize based on standard email pattern from all files except metadata.json which is used by SmartSense to send bundle notifications\",\n      \"rule_id\": \"Pattern\",\n      \"patterns\": [\"(?<![a-z0-9._%+-])[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,6}(?![a-z0-9._%+-])$?\"],\n      \"exclude_files\" : [\"metadata.json\"],\n      \"shared\": true\n    },\n    {\n      \"name\": \"Core Site S3 Credentials\",\n      \"description\": \"Anonymize the value of properties from core-site.xml that might contain S3 credentials\",\n      \"rule_id\": \"Property\",\n      \"properties\": [\"fs.s3a.session.token\",\"fs.s3a.proxy.host\",\"fs.s3a.proxy.username\"],\n      \"include_files\": [\"core-site.xml\"],\n      \"shared\": false\n    },\n    {\n      \"name\": \"Password Configurations\",\n      \"description\": \"Anonymize various password related properties from configuration files. Properties and configuration files are listed below\",\n      \"rule_id\": \"Property\",\n      \"properties\": [\".*password.*\", \".*awsAccessKeyId.*\",  \".*awsSecretAccessKey.*\", \"fs.azure.account.key.*\", \"ranger.service.https.attrib.keystore.pass\",\"https.attrib.keystorePass\", \"HTTPS_KEYSTORE_PASS\"],\n      \"include_files\": [\"*.xml\", \"*.properties\", \"*.yaml\", \"*.ini\", \"*.json\"],\n      \"exclude_files\" : [\"capacity-scheduler.xml\"],\n      \"shared\": false\n    },\n    {\n      \"name\": \"KNOX LDAP Password\",\n      \"description\": \"Anonymize KNOX LDAP passwords from topology configurations xml\",\n      \"rule_id\": \"XPATH\",\n      \"paths\": [\"//name[contains(text(),'Password')]/following-sibling::value[1]/text()\"],\n      \"include_files\": [\"topologies/*.xml\"],\n      \"parentNode\": \"param\",\n      \"shared\": false\n    },\n    {\n      \"name\": \"Ranger KMS Oozie Ganglia Falcon Passwords\",\n      \"description\": \"Anomymize various password related properties for multiple services. Properties are listed below\",\n      \"rule_id\": \"Pattern\",\n      \"patterns\": [\"oozie.https.keystore.pass=([^\\\\s]*)\", \"OOZIE_HTTPS_KEYSTORE_PASS=([^\\\\s]*)\", \"ganglia_password=([^\\\\s]*)\", \"javax.jdo.option.ConnectionPassword=([^\\\\s]*)\",\"KMS_SSL_KEYSTORE_PASS=([^\\\\s]*)\",\"falcon.statestore.jdbc.password=([^\\\\s]*)\"],\n      \"extract\": \"=([^\\\\s]*)\",\n      \"include_files\": [\"java_process.txt\", \"pid.txt\", \"ambari-agent.log\", \"oozie-env.cmd\", \"hive_set_v.txt\", \"beeline_set_v.txt\", \"process_list.txt\", \"kms-env.sh\", \"statestore.credentials\"],\n      \"shared\": false\n    },\n    {\n      \"name\": \"MAC Addresses\",\n      \"description\": \"Anonymize MAC addresses like ab:12:3c:44:5d:6e from network_info.txt\",\n      \"rule_id\": \"Pattern\",\n      \"patterns\": [\"(([0-9a-f]{2}[:-]){5}[0-9a-f]{2})\"],\n      \"extract\": \"([0-9a-f:-]{17})\",\n      \"include_files\": [\"network_info.txt\"],\n      \"shared\": true\n    },\n    {\n      \"name\":\"IPv6 Addresses\",\n      \"description\":\"Anonymize IPv6 addresses like inet6 ab10::g457:6xxx:xxxx:6c9b/64 from network_info.txt\",\n      \"rule_id\": \"Pattern\",\n      \"patterns\": [\"inet6 addr:\\\\s((([\\\\da-f:\\\\/\\\\d]))*)\"],\n      \"extract\": \":\\\\s((([\\\\da-f:\\\\/\\\\d]))*)\",\n      \"include_files\": [\"network_info.txt\"],\n      \"shared\":true\n    },\n    {\n      \"name\": \"Zeppelin Interpreter Passwords\",\n      \"description\": \"Anonymize password related properties from zeppelin interpreter.json\",\n      \"rule_id\": \"JSONPATH\",\n      \"paths\": [\"$.interpreterSettings..properties.['hive.password','phoenix.password','default.password','spark2.password','spark.password','psql.password','hive_interactive.password']\"],\n      \"include_files\": [\"interpreter.json\"],\n      \"shared\": false\n    },\n    {\n      \"name\": \"Zeppelin Interpreter Passwords\",\n      \"description\": \"Anonymize password related properties from zeppelin interpreter.json\",\n      \"rule_id\": \"JSONPATH\",\n      \"paths\": [\"$.interpreterSettings..properties.*[?(@.name=~/.*password.*/i)].value\"],\n      \"include_files\": [\"interpreter.json\"],\n     \"shared\": false\n    }\n  ]\n}"}}},{"hst-agent-conf":{"properties_attributes":{},"properties":{"agent.loglevel":"INFO","agent.tmp_dir":"/var/lib/smartsense/hst-agent/data/tmp","agent.version":"1.5.1.2.7.3.0-139","bundle.logs_to_capture":"(.*).log$,(.*).out$,(.*).err$","security.anonymization.max.heap":"2048","server.connection_retry_count":"100","server.connection_retry_interval":"10","upload.retry_count":"100","upload.retry_interval":"15"}}},{"hst-log4j":{"properties_attributes":{},"properties":{"hst-log4j-content":"\n# Copyright (c) 2011-2018, Hortonworks Inc.  All rights reserved.\n# Except as expressly permitted in a written agreement between you\n# or your company and Hortonworks, Inc, any use, reproduction,\n# modification, redistribution, sharing, lending or other exploitation\n# of all or any part of the contents of this file is strictly prohibited.\n\n# Define some default values that can be overridden by system properties\n# Root logger option\nlog4j.rootLogger=INFO,file\n\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\nlog4j.appender.file.File={{hst_log_dir}}/${log.file.name}\nlog4j.appender.file.MaxFileSize={{hst_max_file_size}}MB\nlog4j.appender.file.MaxBackupIndex={{hst_max_backup_index}}\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\nlog4j.appender.file.layout.ConversionPattern=%d{ISO8601} %5p [%t] %c{1}:%L - %m%n\n\nlog4j.appender.analytics=org.apache.log4j.RollingFileAppender\nlog4j.appender.analytics.File={{hst_log_dir}}/analytics.log\nlog4j.appender.analytics.MaxFileSize={{hst_max_file_size}}MB\nlog4j.appender.analytics.MaxBackupIndex={{hst_max_backup_index}}\nlog4j.appender.analytics.layout=org.apache.log4j.PatternLayout\nlog4j.appender.analytics.layout.ConversionPattern=%m%n\n\n# HST logger\nlog4j.logger.com.hortonworks=INFO\ncom.github.oxo42.stateless4j=WARN\nlog4j.logger.com.sun.jersey=WARN\nlog4j.logger.org.eclipse.jetty.server=INFO\n\n# Analytics logger\nlog4j.logger.analytics=INFO,analytics\nlog4j.additivity.analytics=false","hst_log_dir":"/var/log/hst","hst_max_backup_index":"10","hst_max_file_size":"30"}}},{"hst-server-conf":{"properties_attributes":{},"properties":{"agent.request.processing.timeout":"7200","agent.request.syncup.interval":"180","client.threadpool.size.max":"40","customer.account.name":"unspecified","customer.enable.flex.subscription":"false","customer.flex.subscription.id":"","customer.notification.email":"unspecified","customer.smartsense.id":"unspecified","gateway.host":"embedded","gateway.port":"9451","gateway.registration.port":"9450","server.max.heap":"2048","server.port":"9000","server.ssl_enabled":"false","server.storage.dir":"/var/lib/smartsense/hst-server/data","server.tmp.dir":"/var/lib/smartsense/hst-server/tmp","server.url":"http://ambari-node1.example.com:9000"}}},{"product-info":{"properties_attributes":{},"properties":{"product-info-content":"\n{\n    \"schemaVersion\" : \"1.0.0\",\n    \"productId\": \"{{stackName}}\",\n    \"componentId\": \"{{stackName}}\",\n    \"productVersion\" : \"{{stackVersion}}\",\n    \"type\":\"cluster\",\n    \"instanceInfo\": {\n        \"guid\": \"\",\n        \"parentGuid\": \"\",\n        \"name\":\"{{clusterName}}\",\n        \"flexSubscriptionId\": \"{{flexSubscriptionId}}\",\n        \"provider\": \"\",\n        \"region\": \"\"\n     }\n}"}}},{"livy2-client-conf":{"properties_attributes":{},"properties":{"livy.rsc.launcher.address":" "}}},{"livy2-conf":{"properties_attributes":{},"properties":{"livy.environment":"production","livy.impersonation.enabled":"true","livy.repl.enableHiveContext":"true","livy.server.access-control.enabled":"true","livy.server.csrf_protection.enabled":"true","livy.server.port":"8999","livy.server.recovery.mode":"recovery","livy.server.recovery.state-store":"filesystem","livy.server.recovery.state-store.url":"/livy2-recovery","livy.server.session.timeout":"3600000","livy.spark.master":"yarn-cluster"}}},{"livy2-env":{"properties_attributes":{},"properties":{"content":"\n            #!/usr/bin/env bash\n\n            # - SPARK_HOME      Spark which you would like to use in livy\n            # - SPARK_CONF_DIR  Directory containing the Spark configuration to use.\n            # - HADOOP_CONF_DIR Directory containing the Hadoop / YARN configuration to use.\n            # - LIVY_LOG_DIR    Where log files are stored.  (Default: ${LIVY_HOME}/logs)\n            # - LIVY_PID_DIR    Where the pid file is stored. (Default: /tmp)\n            # - LIVY_SERVER_JAVA_OPTS  Java Opts for running livy server (You can set jvm related setting here, like jvm memory/gc algorithm and etc.)\n            export SPARK_HOME=/usr/hdp/current/spark2-client\n            export SPARK_CONF_DIR=/etc/spark2/conf\n            export JAVA_HOME={{java_home}}\n            export HADOOP_CONF_DIR=/etc/hadoop/conf\n            export LIVY_LOG_DIR={{livy2_log_dir}}\n            export LIVY_PID_DIR={{livy2_pid_dir}}\n            export LIVY_SERVER_JAVA_OPTS=\"-Xmx2g\"","livy2_log_dir":"/var/log/livy2","livy2_pid_dir":"/var/run/livy2","spark_home":"/usr/hdp/current/spark2-client","livy2_group":"livy","livy2_user":"livy"}}},{"livy2-log4j-properties":{"properties_attributes":{},"properties":{"content":"\n            # Set everything to be logged to the console\n            log4j.rootCategory=INFO, console\n            log4j.appender.console=org.apache.log4j.ConsoleAppender\n            log4j.appender.console.target=System.err\n            log4j.appender.console.layout=org.apache.log4j.PatternLayout\n            log4j.appender.console.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss} %p %c{1}: %m%n\n\n            log4j.logger.org.eclipse.jetty=WARN"}}},{"livy2-spark-blacklist":{"properties_attributes":{},"properties":{"content":"\n            #\n            # Configuration override / blacklist. Defines a list of properties that users are not allowed\n            # to override when starting Spark sessions.\n            #\n            # This file takes a list of property names (one per line). Empty lines and lines starting with \"#\"\n            # are ignored.\n            #\n\n            # Disallow overriding the master and the deploy mode.\n            spark.master\n            spark.submit.deployMode\n\n            # Disallow overriding the location of Spark cached jars.\n            spark.yarn.jar\n            spark.yarn.jars\n            spark.yarn.archive\n\n            # Don't allow users to override the RSC timeout.\n            livy.rsc.server.idle_timeout"}}},{"spark2-defaults":{"properties_attributes":{},"properties":{"spark.driver.extraLibraryPath":"{{spark_hadoop_lib_native}}","spark.eventLog.dir":"hdfs:///spark2-history/","spark.eventLog.enabled":"true","spark.executor.extraJavaOptions":"-XX:+UseNUMA","spark.executor.extraLibraryPath":"{{spark_hadoop_lib_native}}","spark.history.fs.cleaner.enabled":"true","spark.history.fs.cleaner.interval":"7d","spark.history.fs.cleaner.maxAge":"90d","spark.history.fs.logDirectory":"hdfs:///spark2-history/","spark.history.kerberos.keytab":"none","spark.history.kerberos.principal":"none","spark.history.provider":"org.apache.spark.deploy.history.FsHistoryProvider","spark.history.store.path":"/var/lib/spark2/shs_db","spark.history.ui.port":"18081","spark.io.compression.lz4.blockSize":"128kb","spark.master":"yarn","spark.shuffle.file.buffer":"1m","spark.shuffle.io.backLog":"8192","spark.shuffle.io.serverThreads":"128","spark.shuffle.unsafe.file.output.buffer":"5m","spark.sql.autoBroadcastJoinThreshold":"26214400","spark.sql.hive.convertMetastoreOrc":"true","spark.sql.hive.metastore.jars":"/usr/hdp/current/spark2-client/standalone-metastore/*","spark.sql.hive.metastore.version":"3.0","spark.sql.orc.filterPushdown":"true","spark.sql.orc.impl":"native","spark.sql.statistics.fallBackToHdfs":"true","spark.sql.warehouse.dir":"/apps/spark/warehouse","spark.unsafe.sorter.spill.reader.buffer.size":"1m","spark.yarn.historyServer.address":"{{spark_history_server_host}}:{{spark_history_ui_port}}","spark.yarn.queue":"default"}}},{"spark2-env":{"properties_attributes":{},"properties":{"content":"\n#!/usr/bin/env bash\n\n# This file is sourced when running various Spark programs.\n# Copy it as spark-env.sh and edit that to configure Spark for your site.\n\n# Options read in YARN client mode\n#SPARK_EXECUTOR_INSTANCES=\"2\" #Number of workers to start (Default: 2)\n#SPARK_EXECUTOR_CORES=\"1\" #Number of cores for the workers (Default: 1).\n#SPARK_EXECUTOR_MEMORY=\"1G\" #Memory per Worker (e.g. 1000M, 2G) (Default: 1G)\n#SPARK_DRIVER_MEMORY=\"512M\" #Memory for Master (e.g. 1000M, 2G) (Default: 512 Mb)\n#SPARK_YARN_APP_NAME=\"spark\" #The name of your application (Default: Spark)\n#SPARK_YARN_QUEUE=\"default\" #The hadoop queue to use for allocation requests (Default: default)\n#SPARK_YARN_DIST_FILES=\"\" #Comma separated list of files to be distributed with the job.\n#SPARK_YARN_DIST_ARCHIVES=\"\" #Comma separated list of archives to be distributed with the job.\n\n{% if security_enabled %}\nexport SPARK_HISTORY_OPTS='-Dspark.ui.filters=org.apache.hadoop.security.authentication.server.AuthenticationFilter -Dspark.org.apache.hadoop.security.authentication.server.AuthenticationFilter.params=\"type=kerberos,kerberos.principal={{spnego_principal}},kerberos.keytab={{spnego_keytab}}\"'\n{% endif %}\n\n\n# Generic options for the daemons used in the standalone deploy mode\n\n# Alternate conf dir. (Default: ${SPARK_HOME}/conf)\nexport SPARK_CONF_DIR=${SPARK_CONF_DIR:-{{spark_home}}/conf}\n\n# Where log files are stored.(Default:${SPARK_HOME}/logs)\n#export SPARK_LOG_DIR=${SPARK_HOME:-{{spark_home}}}/logs\nexport SPARK_LOG_DIR={{spark_log_dir}}\n\n# Where the pid file is stored. (Default: /tmp)\nexport SPARK_PID_DIR={{spark_pid_dir}}\n\n#Memory for Master, Worker and history server (default: 1024MB)\nexport SPARK_DAEMON_MEMORY={{spark_daemon_memory}}m\n\n# A string representing this instance of spark.(Default: $USER)\nSPARK_IDENT_STRING=$USER\n\n# The scheduling priority for daemons. (Default: 0)\nSPARK_NICENESS=0\n\nexport HADOOP_HOME=${HADOOP_HOME:-{{hadoop_home}}}\nexport HADOOP_CONF_DIR=${HADOOP_CONF_DIR:-{{hadoop_conf_dir}}}\n\n# The java implementation to use.\nexport JAVA_HOME={{java_home}}","hive_kerberos_keytab":"{{hive_kerberos_keytab}}","hive_kerberos_principal":"{{hive_kerberos_principal}}","spark_daemon_memory":"2048","spark_log_dir":"/var/log/spark2","spark_pid_dir":"/var/run/spark2","spark_thrift_cmd_opts":"","spark_group":"spark","spark_user":"spark"}}},{"spark2-hive-site-override":{"properties_attributes":{},"properties":{"hive.exec.scratchdir":"/tmp/spark","hive.metastore.client.connect.retry.delay":"5","hive.metastore.client.socket.timeout":"1800","hive.server2.enable.doAs":"false","hive.server2.thrift.http.port":"10002","hive.server2.thrift.port":"10016","hive.server2.transport.mode":"binary","metastore.catalog.default":"spark"}}},{"spark2-log4j-properties":{"properties_attributes":{},"properties":{"content":"\n# Set everything to be logged to the console\nlog4j.rootCategory=INFO, console\nlog4j.appender.console=org.apache.log4j.ConsoleAppender\nlog4j.appender.console.target=System.err\nlog4j.appender.console.layout=org.apache.log4j.PatternLayout\nlog4j.appender.console.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss} %p %c{1}: %m%n\n\n# Settings to quiet third party logs that are too verbose\nlog4j.logger.org.eclipse.jetty=WARN\nlog4j.logger.org.eclipse.jetty.util.component.AbstractLifeCycle=ERROR\nlog4j.logger.org.apache.spark.repl.SparkIMain$exprTyper=INFO\nlog4j.logger.org.apache.spark.repl.SparkILoop$SparkILoopInterpreter=INFO"}}},{"spark2-metrics-properties":{"properties_attributes":{},"properties":{"content":"\n# syntax: [instance].sink|source.[name].[options]=[value]\n\n# This file configures Spark's internal metrics system. The metrics system is\n# divided into instances which correspond to internal components.\n# Each instance can be configured to report its metrics to one or more sinks.\n# Accepted values for [instance] are \"master\", \"worker\", \"executor\", \"driver\",\n# and \"applications\". A wild card \"*\" can be used as an instance name, in\n# which case all instances will inherit the supplied property.\n#\n# Within an instance, a \"source\" specifies a particular set of grouped metrics.\n# there are two kinds of sources:\n# 1. Spark internal sources, like MasterSource, WorkerSource, etc, which will\n# collect a Spark component's internal state. Each instance is paired with a\n# Spark source that is added automatically.\n# 2. Common sources, like JvmSource, which will collect low level state.\n# These can be added through configuration options and are then loaded\n# using reflection.\n#\n# A \"sink\" specifies where metrics are delivered to. Each instance can be\n# assigned one or more sinks.\n#\n# The sink|source field specifies whether the property relates to a sink or\n# source.\n#\n# The [name] field specifies the name of source or sink.\n#\n# The [options] field is the specific property of this source or sink. The\n# source or sink is responsible for parsing this property.\n#\n# Notes:\n# 1. To add a new sink, set the \"class\" option to a fully qualified class\n# name (see examples below).\n# 2. Some sinks involve a polling period. The minimum allowed polling period\n# is 1 second.\n# 3. Wild card properties can be overridden by more specific properties.\n# For example, master.sink.console.period takes precedence over\n# *.sink.console.period.\n# 4. A metrics specific configuration\n# \"spark.metrics.conf=${SPARK_HOME}/conf/metrics.properties\" should be\n# added to Java properties using -Dspark.metrics.conf=xxx if you want to\n# customize metrics system. You can also put the file in ${SPARK_HOME}/conf\n# and it will be loaded automatically.\n# 5. MetricsServlet is added by default as a sink in master, worker and client\n# driver, you can send http request \"/metrics/json\" to get a snapshot of all the\n# registered metrics in json format. For master, requests \"/metrics/master/json\" and\n# \"/metrics/applications/json\" can be sent seperately to get metrics snapshot of\n# instance master and applications. MetricsServlet may not be configured by self.\n#\n\n## List of available sinks and their properties.\n\n# org.apache.spark.metrics.sink.ConsoleSink\n# Name: Default: Description:\n# period 10 Poll period\n# unit seconds Units of poll period\n\n# org.apache.spark.metrics.sink.CSVSink\n# Name: Default: Description:\n# period 10 Poll period\n# unit seconds Units of poll period\n# directory /tmp Where to store CSV files\n\n# org.apache.spark.metrics.sink.GangliaSink\n# Name: Default: Description:\n# host NONE Hostname or multicast group of Ganglia server\n# port NONE Port of Ganglia server(s)\n# period 10 Poll period\n# unit seconds Units of poll period\n# ttl 1 TTL of messages sent by Ganglia\n# mode multicast Ganglia network mode ('unicast' or 'multicast')\n\n# org.apache.spark.metrics.sink.JmxSink\n\n# org.apache.spark.metrics.sink.MetricsServlet\n# Name: Default: Description:\n# path VARIES* Path prefix from the web server root\n# sample false Whether to show entire set of samples for histograms ('false' or 'true')\n#\n# * Default path is /metrics/json for all instances except the master. The master has two paths:\n# /metrics/aplications/json # App information\n# /metrics/master/json # Master information\n\n# org.apache.spark.metrics.sink.GraphiteSink\n# Name: Default: Description:\n# host NONE Hostname of Graphite server\n# port NONE Port of Graphite server\n# period 10 Poll period\n# unit seconds Units of poll period\n# prefix EMPTY STRING Prefix to prepend to metric name\n\n## Examples\n# Enable JmxSink for all instances by class name\n#*.sink.jmx.class=org.apache.spark.metrics.sink.JmxSink\n\n# Enable ConsoleSink for all instances by class name\n#*.sink.console.class=org.apache.spark.metrics.sink.ConsoleSink\n\n# Polling period for ConsoleSink\n#*.sink.console.period=10\n\n#*.sink.console.unit=seconds\n\n# Master instance overlap polling period\n#master.sink.console.period=15\n\n#master.sink.console.unit=seconds\n\n# Enable CsvSink for all instances\n#*.sink.csv.class=org.apache.spark.metrics.sink.CsvSink\n\n# Polling period for CsvSink\n#*.sink.csv.period=1\n\n#*.sink.csv.unit=minutes\n\n# Polling directory for CsvSink\n#*.sink.csv.directory=/tmp/\n\n# Worker instance overlap polling period\n#worker.sink.csv.period=10\n\n#worker.sink.csv.unit=minutes\n\n# Enable jvm source for instance master, worker, driver and executor\n#master.source.jvm.class=org.apache.spark.metrics.source.JvmSource\n\n#worker.source.jvm.class=org.apache.spark.metrics.source.JvmSource\n\n#driver.source.jvm.class=org.apache.spark.metrics.source.JvmSource\n\n#executor.source.jvm.class=org.apache.spark.metrics.source.JvmSource"}}},{"spark2-thrift-fairscheduler":{"properties_attributes":{},"properties":{"fairscheduler_content":"<?xml version=\"1.0\"?>\n            <allocations>\n            <pool name=\"default\">\n            <schedulingMode>FAIR</schedulingMode>\n            <weight>1</weight>\n            <minShare>2</minShare>\n            </pool>\n            </allocations>"}}},{"spark2-thrift-sparkconf":{"properties_attributes":{},"properties":{"spark.driver.extraLibraryPath":"{{spark_hadoop_lib_native}}","spark.dynamicAllocation.enabled":"true","spark.dynamicAllocation.initialExecutors":"0","spark.dynamicAllocation.maxExecutors":"10","spark.dynamicAllocation.minExecutors":"0","spark.eventLog.dir":"{{spark_history_dir}}","spark.eventLog.enabled":"true","spark.executor.extraJavaOptions":"-XX:+UseNUMA","spark.executor.extraLibraryPath":"{{spark_hadoop_lib_native}}","spark.hadoop.cacheConf":"false","spark.history.fs.cleaner.enabled":"true","spark.history.fs.cleaner.interval":"7d","spark.history.fs.cleaner.maxAge":"90d","spark.history.fs.logDirectory":"{{spark_history_dir}}","spark.history.provider":"org.apache.spark.deploy.history.FsHistoryProvider","spark.io.compression.lz4.blockSize":"128kb","spark.master":"{{spark_thrift_master}}","spark.scheduler.allocation.file":"{{spark_conf}}/spark-thrift-fairscheduler.xml","spark.scheduler.mode":"FAIR","spark.shuffle.file.buffer":"1m","spark.shuffle.io.backLog":"8192","spark.shuffle.io.serverThreads":"128","spark.shuffle.service.enabled":"true","spark.shuffle.unsafe.file.output.buffer":"5m","spark.sql.autoBroadcastJoinThreshold":"26214400","spark.sql.hive.convertMetastoreOrc":"true","spark.sql.hive.metastore.jars":"/usr/hdp/{{version}}/spark2/standalone-metastore/standalone-metastore-1.21.2.{{version}}-hive3.jar","spark.sql.hive.metastore.version":"3.0","spark.sql.orc.filterPushdown":"true","spark.sql.orc.impl":"native","spark.sql.statistics.fallBackToHdfs":"true","spark.sql.warehouse.dir":"/apps/spark/warehouse","spark.unsafe.sorter.spill.reader.buffer.size":"1m","spark.yarn.executor.failuresValidityInterval":"2h","spark.yarn.maxAppAttempts":"1","spark.yarn.queue":"default"}}},{"zeppelin-env":{"properties_attributes":{},"properties":{"zeppelin.executor.instances":null,"zeppelin.executor.mem":null,"zeppelin.server.kerberos.keytab":null,"zeppelin.server.kerberos.principal":null,"zeppelin.spark.jar.dir":null,"zeppelin_env_content":"\n      # export JAVA_HOME=\n      export JAVA_HOME={{java64_home}}\n      # export MASTER=                              # Spark master url. eg. spark://master_addr:7077. Leave empty if you want to use local mode.\n      export MASTER=yarn-client\n\n      # export ZEPPELIN_JAVA_OPTS                   # Additional jvm options. for example, export ZEPPELIN_JAVA_OPTS=\"-Dspark.executor.memory=8g -Dspark.cores.max=16\"\n      # export ZEPPELIN_MEM                         # Zeppelin jvm mem options Default -Xms1024m -Xmx1024m -XX:MaxPermSize=512m\n      # export ZEPPELIN_INTP_MEM                    # zeppelin interpreter process jvm mem options. Default -Xms1024m -Xmx1024m -XX:MaxPermSize=512m\n      # export ZEPPELIN_INTP_JAVA_OPTS              # zeppelin interpreter process jvm options.\n      # export ZEPPELIN_SSL_PORT                    # ssl port (used when ssl environment variable is set to true)\n\n      # export ZEPPELIN_LOG_DIR                     # Where log files are stored.  PWD by default.\n      export ZEPPELIN_LOG_DIR={{zeppelin_log_dir}}\n      # export ZEPPELIN_PID_DIR                     # The pid files are stored. ${ZEPPELIN_HOME}/run by default.\n      export ZEPPELIN_PID_DIR={{zeppelin_pid_dir}}\n      # export ZEPPELIN_WAR_TEMPDIR                 # The location of jetty temporary directory.\n      # export ZEPPELIN_NOTEBOOK_DIR                # Where notebook saved\n      # export ZEPPELIN_NOTEBOOK_HOMESCREEN         # Id of notebook to be displayed in homescreen. ex) 2A94M5J1Z\n      # export ZEPPELIN_NOTEBOOK_HOMESCREEN_HIDE    # hide homescreen notebook from list when this value set to \"true\". default \"false\"\n      # export ZEPPELIN_NOTEBOOK_S3_BUCKET          # Bucket where notebook saved\n      # export ZEPPELIN_NOTEBOOK_S3_ENDPOINT        # Endpoint of the bucket\n      # export ZEPPELIN_NOTEBOOK_S3_USER            # User in bucket where notebook saved. For example bucket/user/notebook/2A94M5J1Z/note.json\n      # export ZEPPELIN_IDENT_STRING                # A string representing this instance of zeppelin. $USER by default.\n      # export ZEPPELIN_NICENESS                    # The scheduling priority for daemons. Defaults to 0.\n      # export ZEPPELIN_INTERPRETER_LOCALREPO       # Local repository for interpreter's additional dependency loading\n      # export ZEPPELIN_NOTEBOOK_STORAGE            # Refers to pluggable notebook storage class, can have two classes simultaneously with a sync between them (e.g. local and remote).\n      # export ZEPPELIN_NOTEBOOK_ONE_WAY_SYNC       # If there are multiple notebook storages, should we treat the first one as the only source of truth?\n      # export ZEPPELIN_NOTEBOOK_PUBLIC             # Make notebook public by default when created, private otherwise\n      export ZEPPELIN_INTP_CLASSPATH_OVERRIDES=\"{{external_dependency_conf}}\"\n      #### Spark interpreter configuration ####\n\n      ## Kerberos ticket refresh setting\n      ##\n      export KINIT_FAIL_THRESHOLD=5\n      export KERBEROS_REFRESH_INTERVAL=1d\n\n      ## Use provided spark installation ##\n      ## defining SPARK_HOME makes Zeppelin run spark interpreter process using spark-submit\n      ##\n      # export SPARK_HOME                           # (required) When it is defined, load it instead of Zeppelin embedded Spark libraries\n      # export SPARK_HOME={{spark_home}}\n      # export SPARK_SUBMIT_OPTIONS                 # (optional) extra options to pass to spark submit. eg) \"--driver-memory 512M --executor-memory 1G\".\n      # export SPARK_APP_NAME                       # (optional) The name of spark application.\n\n      ## Use embedded spark binaries ##\n      ## without SPARK_HOME defined, Zeppelin still able to run spark interpreter process using embedded spark binaries.\n      ## however, it is not encouraged when you can define SPARK_HOME\n      ##\n      # Options read in YARN client mode\n      # export HADOOP_CONF_DIR                      # yarn-site.xml is located in configuration directory in HADOOP_CONF_DIR.\n      export HADOOP_CONF_DIR=/etc/hadoop/conf\n      # Pyspark (supported with Spark 1.2.1 and above)\n      # To configure pyspark, you need to set spark distribution's path to 'spark.home' property in Interpreter setting screen in Zeppelin GUI\n      # export PYSPARK_PYTHON                       # path to the python command. must be the same path on the driver(Zeppelin) and all workers.\n      # export PYTHONPATH\n\n      ## Spark interpreter options ##\n      ##\n      # export ZEPPELIN_SPARK_USEHIVECONTEXT        # Use HiveContext instead of SQLContext if set true. true by default.\n      # export ZEPPELIN_SPARK_CONCURRENTSQL         # Execute multiple SQL concurrently if set true. false by default.\n      # export ZEPPELIN_SPARK_IMPORTIMPLICIT        # Import implicits, UDF collection, and sql if set true. true by default.\n      # export ZEPPELIN_SPARK_MAXRESULT             # Max number of Spark SQL result to display. 1000 by default.\n      # export ZEPPELIN_WEBSOCKET_MAX_TEXT_MESSAGE_SIZE       # Size in characters of the maximum text message to be received by websocket. Defaults to 1024000\n\n\n      #### HBase interpreter configuration ####\n\n      ## To connect to HBase running on a cluster, either HBASE_HOME or HBASE_CONF_DIR must be set\n\n      # export HBASE_HOME=                          # (require) Under which HBase scripts and configuration should be\n      # export HBASE_CONF_DIR=                      # (optional) Alternatively, configuration directory can be set to point to the directory that has hbase-site.xml\n\n      # export ZEPPELIN_IMPERSONATE_CMD             # Optional, when user want to run interpreter as end web user. eg) 'sudo -H -u ${ZEPPELIN_IMPERSONATE_USER} bash -c '","zeppelin_log_dir":"/var/log/zeppelin","zeppelin_pid_dir":"/var/run/zeppelin","zeppelin_group":"zeppelin","zeppelin_user":"zeppelin"}}},{"zeppelin-log4j-properties":{"properties_attributes":{},"properties":{"log4j_properties_content":"\nlog4j.rootLogger = INFO, dailyfile\nlog4j.appender.stdout = org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.layout = org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%5p [%d{ISO8601}] ({%t} %F[%M]:%L) - %m%n\nlog4j.appender.dailyfile.DatePattern=.yyyy-MM-dd\nlog4j.appender.dailyfile.Threshold = INFO\nlog4j.appender.dailyfile = org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.dailyfile.File = ${zeppelin.log.file}\nlog4j.appender.dailyfile.layout = org.apache.log4j.PatternLayout\nlog4j.appender.dailyfile.layout.ConversionPattern=%5p [%d{ISO8601}] ({%t} %F[%M]:%L) - %m%n"}}},{"zeppelin-shiro-ini":{"properties_attributes":{},"properties":{"shiro_ini_content":"\n[users]\n# List of users with their password allowed to access Zeppelin.\n# To use a different strategy (LDAP / Database / ...) check the shiro doc at http://shiro.apache.org/configuration.html#Configuration-INISections\nadmin = $shiro1$SHA-256$500000$p6Be9+t2hdUXJQj2D0b1fg==$bea5JIMqcVF3J6eNZGWQ/3eeDByn5iEZDuGsEip06+M=, admin\nuser1 = $shiro1$SHA-256$500000$G2ymy/qmuZnGY6or4v2KfA==$v9fabqWgCNCgechtOUqAQenGDs0OSLP28q2wolPT4wU=, role1, role2\nuser2 = $shiro1$SHA-256$500000$aHBgiuwSgAcP3Xt5mEzeFw==$KosBnN2BNKA9/KHBL0hnU/woJFl+xzJFj12NQ0fnjCU=, role3\nuser3 = $shiro1$SHA-256$500000$nf0GzH10GbYVoxa7DOlOSw==$ov/IA5W8mRWPwvAoBjNYxg3udJK0EmrVMvFCwcr9eAs=, role2\n\n# Sample LDAP configuration, for user Authentication, currently tested for single Realm\n[main]\n### A sample for configuring Active Directory Realm\n#activeDirectoryRealm = org.apache.zeppelin.realm.ActiveDirectoryGroupRealm\n#activeDirectoryRealm.systemUsername = userNameA\n\n#use either systemPassword or hadoopSecurityCredentialPath, more details in http://zeppelin.apache.org/docs/latest/security/shiroauthentication.html\n#activeDirectoryRealm.systemPassword = passwordA\n#activeDirectoryRealm.hadoopSecurityCredentialPath = jceks://file/user/zeppelin/zeppelin.jceks\n#activeDirectoryRealm.searchBase = CN=Users,DC=SOME_GROUP,DC=COMPANY,DC=COM\n#activeDirectoryRealm.url = ldap://ldap.test.com:389\n#activeDirectoryRealm.groupRolesMap = \"CN=admin,OU=groups,DC=SOME_GROUP,DC=COMPANY,DC=COM\":\"admin\",\"CN=finance,OU=groups,DC=SOME_GROUP,DC=COMPANY,DC=COM\":\"finance\",\"CN=hr,OU=groups,DC=SOME_GROUP,DC=COMPANY,DC=COM\":\"hr\"\n#activeDirectoryRealm.authorizationCachingEnabled = false\n\n### A sample for configuring LDAP Directory Realm\n#ldapRealm = org.apache.zeppelin.realm.LdapGroupRealm\n## search base for ldap groups (only relevant for LdapGroupRealm):\n#ldapRealm.contextFactory.environment[ldap.searchBase] = dc=COMPANY,dc=COM\n#ldapRealm.contextFactory.url = ldap://ldap.test.com:389\n#ldapRealm.userDnTemplate = uid={0},ou=Users,dc=COMPANY,dc=COM\n#ldapRealm.contextFactory.authenticationMechanism = SIMPLE\n\n### A sample PAM configuration\n#pamRealm=org.apache.zeppelin.realm.PamRealm\n#pamRealm.service=sshd\n\n## To be commented out when not using [user] block / paintext\npasswordMatcher = org.apache.shiro.authc.credential.PasswordMatcher\niniRealm.credentialsMatcher = $passwordMatcher\n\nsessionManager = org.apache.shiro.web.session.mgt.DefaultWebSessionManager\n### If caching of user is required then uncomment below lines\ncacheManager = org.apache.shiro.cache.MemoryConstrainedCacheManager\nsecurityManager.cacheManager = $cacheManager\n\ncookie = org.apache.shiro.web.servlet.SimpleCookie\ncookie.name = JSESSIONID\n#Uncomment the line below when running Zeppelin-Server in HTTPS mode\n#cookie.secure = true\ncookie.httpOnly = true\nsessionManager.sessionIdCookie = $cookie\n\nsecurityManager.sessionManager = $sessionManager\n# 86,400,000 milliseconds = 24 hour\nsecurityManager.sessionManager.globalSessionTimeout = 86400000\nshiro.loginUrl = /api/login\n\n[roles]\nrole1 = *\nrole2 = *\nrole3 = *\nadmin = *\n\n[urls]\n# This section is used for url-based security.\n# You can secure interpreter, configuration and credential information by urls. Comment or uncomment the below urls that you want to hide.\n# anon means the access is anonymous.\n# authc means Form based Auth Security\n# To enfore security, comment the line below and uncomment the next one\n/api/version = anon\n#/api/interpreter/** = authc, roles[admin]\n#/api/configurations/** = authc, roles[admin]\n#/api/credential/** = authc, roles[admin]\n#/** = anon\n/** = authc"}}},{"zeppelin-site":{"properties_attributes":{},"properties":{"zeppelin.anonymous.allowed":"false","zeppelin.config.fs.dir":"conf","zeppelin.config.storage.class":"org.apache.zeppelin.storage.FileSystemConfigStorage","zeppelin.interpreter.config.upgrade":"true","zeppelin.interpreter.connect.timeout":"30000","zeppelin.interpreter.dir":"interpreter","zeppelin.interpreter.group.order":"spark,angular,jdbc,livy,md,sh","zeppelin.interpreters":"org.apache.zeppelin.spark.SparkInterpreter,org.apache.zeppelin.spark.PySparkInterpreter,org.apache.zeppelin.spark.SparkSqlInterpreter,org.apache.zeppelin.spark.DepInterpreter,org.apache.zeppelin.markdown.Markdown,org.apache.zeppelin.angular.AngularInterpreter,org.apache.zeppelin.shell.ShellInterpreter,org.apache.zeppelin.jdbc.JDBCInterpreter,org.apache.zeppelin.phoenix.PhoenixInterpreter,org.apache.zeppelin.livy.LivySparkInterpreter,org.apache.zeppelin.livy.LivyPySparkInterpreter,org.apache.zeppelin.livy.LivySparkRInterpreter,org.apache.zeppelin.livy.LivySparkSQLInterpreter","zeppelin.notebook.dir":"notebook","zeppelin.notebook.homescreen":" ","zeppelin.notebook.homescreen.hide":"false","zeppelin.notebook.public":"false","zeppelin.notebook.s3.bucket":"zeppelin","zeppelin.notebook.s3.user":"user","zeppelin.notebook.storage":"org.apache.zeppelin.notebook.repo.FileSystemNotebookRepo","zeppelin.server.addr":"0.0.0.0","zeppelin.server.allowed.origins":"*","zeppelin.server.port":"9995","zeppelin.server.ssl.port":"9995","zeppelin.ssl":"false","zeppelin.ssl.client.auth":"false","zeppelin.ssl.key.manager.password":"change me","zeppelin.ssl.keystore.password":"change me","zeppelin.ssl.keystore.path":"conf/keystore","zeppelin.ssl.keystore.type":"JKS","zeppelin.ssl.truststore.password":"change me","zeppelin.ssl.truststore.path":"conf/truststore","zeppelin.ssl.truststore.type":"JKS","zeppelin.websocket.max.text.message.size":"1024000"}}}],"host_groups":[{"name":"host_group_0","components":[{"name":"NAMENODE"},{"name":"SECONDARY_NAMENODE"},{"name":"APP_TIMELINE_SERVER"},{"name":"RESOURCEMANAGER"},{"name":"TIMELINE_READER"},{"name":"YARN_REGISTRY_DNS"},{"name":"HISTORYSERVER"},{"name":"HIVE_METASTORE"},{"name":"HIVE_SERVER"},{"name":"OOZIE_SERVER"},{"name":"ZOOKEEPER_SERVER"},{"name":"METRICS_COLLECTOR"},{"name":"METRICS_GRAFANA"},{"name":"KNOX_GATEWAY"},{"name":"ACTIVITY_EXPLORER"},{"name":"HST_SERVER"},{"name":"ACTIVITY_ANALYZER"},{"name":"SPARK2_JOBHISTORYSERVER"},{"name":"ZEPPELIN_MASTER"},{"name":"DATANODE"},{"name":"NODEMANAGER"},{"name":"LIVY2_SERVER"},{"name":"SPARK2_THRIFTSERVER"},{"name":"HDFS_CLIENT"},{"name":"YARN_CLIENT"},{"name":"MAPREDUCE2_CLIENT"},{"name":"TEZ_CLIENT"},{"name":"HIVE_CLIENT"},{"name":"PIG"},{"name":"SQOOP"},{"name":"OOZIE_CLIENT"},{"name":"ZOOKEEPER_CLIENT"},{"name":"SPARK2_CLIENT"}],"cardinality":"1"}],"Blueprints":{"blueprint_name":"ambari","stack_name":"HDP","stack_version":"3.1"}}